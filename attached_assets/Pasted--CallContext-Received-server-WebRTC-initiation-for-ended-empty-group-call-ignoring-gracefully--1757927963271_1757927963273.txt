[CallContext] ğŸ”„ Received server WebRTC initiation for ended/empty group call - ignoring gracefully
CallContext.tsx:2469 [CallContext] ğŸ”„ This typically happens when server cleanup and client state are out of sync
CallContext.tsx:2473 [CallContext] ğŸ”„ Group call has participants, but no local active call - may need to rejoin
CallContext.tsx:3275 [CallContext] acceptCall function called
CallContext.tsx:3276 [CallContext] incomingCall: {callId: 'group_call_1757927932626_38_3', callType: 'audio', status: 'ringing', isIncoming: true, peerUserId: 3,Â â€¦}
CallContext.tsx:3277 [CallContext] ws connected: true
CallContext.tsx:3278 [CallContext] user: {id: 2, callsign: 'eko', nrp: '12345', fullName: 'eko a', rank: 'SPC',Â â€¦}
CallContext.tsx:3287 [CallContext] Accepting group call - redirecting to joinGroupCall
CallContext.tsx:4372 [CallContext] Joining existing group call: {callId: 'group_call_1757927932626_38_3', groupId: 38, groupName: 'Ampera Grup', callType: 'audio'}
CallContext.tsx:4415 [CallContext] Creating new stream for joining group call (audio-only enabled)...
CallContext.tsx:4648 [CallContext] ğŸ”¥ PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: null, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
IncomingCallModal.tsx:6 [IncomingCallModal] ğŸ”¥ COMPONENT RENDERED - START
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
IncomingCallModal.tsx:11 [IncomingCallModal] ğŸ”¥ After useCall hook - incomingCall: null
IncomingCallModal.tsx:12 [IncomingCallModal] ğŸ”¥ incomingCall type check: object
IncomingCallModal.tsx:13 [IncomingCallModal] ğŸ”¥ incomingCall falsy check: true
IncomingCallModal.tsx:16 [IncomingCallModal] No incoming call, returning null
CallContext.tsx:4636 [CallContext] ğŸ”¥ INCOMING CALL STATE CHANGED: null
CallContext.tsx:4417 [CallContext] Got audio-only stream for joining group call
CallContext.tsx:4449 [CallContext] Added local track for joining group call: audio
CallContext.tsx:4473 [CallContext] Active call state set for group: 38 callId: group_call_1757927932626_38_3
CallContext.tsx:4492 [CallContext] Joined group call successfully
CallContext.tsx:4493 [CallContext] Active call state after joining: {callId: 'group_call_1757927932626_38_3', callType: 'audio', status: 'connected', isIncoming: false, localStream: MediaStream,Â â€¦}
CallContext.tsx:4496 [CallContext] ğŸ“Š Processing pending participant updates after join...
CallContext.tsx:4648 [CallContext] ğŸ”¥ PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
IncomingCallModal.tsx:6 [IncomingCallModal] ğŸ”¥ COMPONENT RENDERED - START
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
IncomingCallModal.tsx:11 [IncomingCallModal] ğŸ”¥ After useCall hook - incomingCall: null
IncomingCallModal.tsx:12 [IncomingCallModal] ğŸ”¥ incomingCall type check: object
IncomingCallModal.tsx:13 [IncomingCallModal] ğŸ”¥ incomingCall falsy check: true
IncomingCallModal.tsx:16 [IncomingCallModal] No incoming call, returning null
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:87 [GroupCall] ğŸ§ Audio device detection: {hasEarphones: false, currentOutput: 'speaker'}
GroupCall.tsx:194 [GroupCall] Initializing media with audio-only from start...
GroupCall.tsx:198 [GroupCall] Initializing media for desktop device
GroupCall.tsx:334 [GroupCall] Updating participants: []
GroupCall.tsx:335 [GroupCall] Current user ID: 2
GroupCall.tsx:336 [GroupCall] Available remote streams: Map(0)Â {size: 0}
GroupCall.tsx:340 [GroupCall] Remote streams array: []
GroupCall.tsx:343 [GroupCall] ğŸ” Before filtering participants: []
GroupCall.tsx:344 [GroupCall] ğŸ” Current user to filter out: 2
GroupCall.tsx:347 [GroupCall] ğŸ” After filtering participants: []
GroupCall.tsx:370 [GroupCall] ğŸ“‹ Final participants list: []
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:215 [GroupCall] âœ… Got media stream: {id: 'd73f6940-ba65-443e-84fb-6671ddf436d4', active: true, audioTracks: 1}
GroupCall.tsx:226 [GroupCall] âœ… Audio enabled from start
GroupCall.tsx:231 [GroupCall] ğŸ“Š Media stream set in state and marked as initialized
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:294 [GroupCall] ğŸ“Š Stream initialized and ready for WebRTC
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
CallContext.tsx:4525 [CallContext] ğŸ”„ Requesting fresh participant data as backup...
CallContext.tsx:4538 [CallContext] ğŸ“Š Sent backup participant request: {type: 'request_group_participants', payload: {â€¦}}
CallContext.tsx:4648 [CallContext] ğŸ”¥ PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
ChatList.tsx:149 ğŸ“‹ CHATLIST: Removing WebSocket event listeners
GroupCall.tsx:284 [GroupCall] ğŸ§¹ Connection timeouts, reconnection state, and refresh tracking cleaned up
GroupCall.tsx:87 [GroupCall] ğŸ§ Audio device detection: {hasEarphones: false, currentOutput: 'speaker'}
GroupCall.tsx:194 [GroupCall] Initializing media with audio-only from start...
GroupCall.tsx:198 [GroupCall] Initializing media for desktop device
GroupCall.tsx:334 [GroupCall] Updating participants: []
GroupCall.tsx:335 [GroupCall] Current user ID: 2
GroupCall.tsx:336 [GroupCall] Available remote streams: Map(0)Â {size: 0}
GroupCall.tsx:340 [GroupCall] Remote streams array: []
GroupCall.tsx:343 [GroupCall] ğŸ” Before filtering participants: []
GroupCall.tsx:344 [GroupCall] ğŸ” Current user to filter out: 2
GroupCall.tsx:347 [GroupCall] ğŸ” After filtering participants: []
GroupCall.tsx:370 [GroupCall] ğŸ“‹ Final participants list: []
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:215 [GroupCall] âœ… Got media stream: {id: 'c40fba19-56ba-4fab-a327-c371890d3b2d', active: true, audioTracks: 1}
GroupCall.tsx:226 [GroupCall] âœ… Audio enabled from start
GroupCall.tsx:231 [GroupCall] ğŸ“Š Media stream set in state and marked as initialized
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:294 [GroupCall] ğŸ“Š Stream initialized and ready for WebRTC
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
CallContext.tsx:4489 [CallContext] Sent join group call message for recipient: {type: 'join_group_call', payload: {â€¦}}
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_call_participants_update', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_call_participants_update', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_call_participants_update'}
CallContext.tsx:1266 [CallContext] ğŸ”¥ GROUP_CALL_PARTICIPANTS_UPDATE received: {type: 'group_call_participants_update', payload: {â€¦}}
CallContext.tsx:1267 [CallContext] ğŸ¯ Participants in message: [3]
CallContext.tsx:1268 [CallContext] ğŸ¯ CallId in message: group_call_1757927932626_38_3
CallContext.tsx:1269 [CallContext] ğŸ¯ Full sync flag: true
CallContext.tsx:2185 [CallContext] ğŸ”¥ Group call participants update: {type: 'group_call_participants_update', payload: {â€¦}}
CallContext.tsx:2186 [CallContext] ğŸ”¥ Message payload: {callId: 'group_call_1757927932626_38_3', participants: Array(1), participantData: Array(1), fullSync: true, timestamp: 1757927939977}
CallContext.tsx:2191 [CallContext] Comparing callIds - message: group_call_1757927932626_38_3 activeCall: group_call_1757927932626_38_3
CallContext.tsx:2192 [CallContext] ActiveCall groupId: 38
CallContext.tsx:2231 [CallContext] Extracted groupIds - message: 38 active: 38
CallContext.tsx:2232 [CallContext] CallId parts: (5)Â ['group', 'call', '1757927932626', '38', '3']
CallContext.tsx:2235 [CallContext] Group IDs match, updating participants: [3]
CallContext.tsx:2241 [CallContext] ğŸ¯ Processing participant update - fullSync: true participantData: [{â€¦}]
CallContext.tsx:2242 [CallContext] ğŸ¯ Participants array length: 1 ParticipantData array length: 1
CallContext.tsx:2249 [CallContext] ğŸ”¥ Using detailed participant data from server: [{â€¦}]
CallContext.tsx:2250 [CallContext] ğŸ”¥ Detailed participant sample: {userId: 3, userName: 'aji', audioEnabled: true, videoEnabled: true, stream: null}
CallContext.tsx:2279 [CallContext] Unique participants after deduplication: [{â€¦}]
CallContext.tsx:2309 [CallContext] Processing regular participant update (not full sync)
GroupCall.tsx:307 [GroupCall] ğŸ”¥ Participant data update event received: {callId: 'group_call_1757927932626_38_3', participants: Array(1), isNewMember: false, fullSync: false}
CallContext.tsx:2406 [CallContext] ğŸ”¥ Dispatching participant-data-updated event for fullSync
GroupCall.tsx:307 [GroupCall] ğŸ”¥ Participant data update event received: {callId: 'group_call_1757927932626_38_3', participants: Array(1), isNewMember: false, fullSync: true, participantData: Array(1)}
CallContext.tsx:4648 [CallContext] ğŸ”¥ PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:334 [GroupCall] Updating participants: [{â€¦}]
GroupCall.tsx:335 [GroupCall] Current user ID: 2
GroupCall.tsx:336 [GroupCall] Available remote streams: Map(0)Â {size: 0}
GroupCall.tsx:340 [GroupCall] Remote streams array: []
GroupCall.tsx:343 [GroupCall] ğŸ” Before filtering participants: ['aji(3)']
GroupCall.tsx:344 [GroupCall] ğŸ” Current user to filter out: 2
GroupCall.tsx:347 [GroupCall] ğŸ” After filtering participants: ['aji(3)']
GroupCall.tsx:353 [GroupCall] ğŸ” Mapping participant aji (3): {streamKey: 'user_3', hasStream: false, streamId: undefined, streamActive: undefined, audioTracks: 0}
GroupCall.tsx:370 [GroupCall] ğŸ“‹ Final participants list: [{â€¦}]
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
CallContext.tsx:4544 [CallContext] ğŸ”„ Requesting fresh participant data as backup...
CallContext.tsx:4556 [CallContext] ğŸ“Š Sent fresh participant request: {type: 'request_group_participants', payload: {â€¦}}
CallContext.tsx:4573 [CallContext] ğŸ“Š Requested updated participant list: {type: 'request_group_participants', payload: {â€¦}}
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_call_participants_update', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_call_participants_update', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_call_participants_update'}
CallContext.tsx:1266 [CallContext] ğŸ”¥ GROUP_CALL_PARTICIPANTS_UPDATE received: {type: 'group_call_participants_update', payload: {â€¦}}
CallContext.tsx:1267 [CallContext] ğŸ¯ Participants in message: (2)Â [3, 2]
CallContext.tsx:1268 [CallContext] ğŸ¯ CallId in message: group_call_1757927932626_38_3
CallContext.tsx:1269 [CallContext] ğŸ¯ Full sync flag: undefined
CallContext.tsx:2185 [CallContext] ğŸ”¥ Group call participants update: {type: 'group_call_participants_update', payload: {â€¦}}
CallContext.tsx:2186 [CallContext] ğŸ”¥ Message payload: {callId: 'group_call_1757927932626_38_3', participants: Array(2), newParticipant: 2}
CallContext.tsx:2191 [CallContext] Comparing callIds - message: group_call_1757927932626_38_3 activeCall: group_call_1757927932626_38_3
CallContext.tsx:2192 [CallContext] ActiveCall groupId: 38
CallContext.tsx:2231 [CallContext] Extracted groupIds - message: 38 active: 38
CallContext.tsx:2232 [CallContext] CallId parts: (5)Â ['group', 'call', '1757927932626', '38', '3']
CallContext.tsx:2235 [CallContext] Group IDs match, updating participants: (2)Â [3, 2]
CallContext.tsx:2241 [CallContext] ğŸ¯ Processing participant update - fullSync: undefined participantData: undefined
CallContext.tsx:2242 [CallContext] ğŸ¯ Participants array length: 2 ParticipantData array length: undefined
CallContext.tsx:2279 [CallContext] Unique participants after deduplication: (2)Â [{â€¦}, {â€¦}]
CallContext.tsx:2309 [CallContext] Processing regular participant update (not full sync)
GroupCall.tsx:307 [GroupCall] ğŸ”¥ Participant data update event received: {callId: 'group_call_1757927932626_38_3', participants: Array(2), isNewMember: false, fullSync: false}
CallContext.tsx:4648 [CallContext] ğŸ”¥ PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:334 [GroupCall] Updating participants: (2)Â [{â€¦}, {â€¦}]
GroupCall.tsx:335 [GroupCall] Current user ID: 2
GroupCall.tsx:336 [GroupCall] Available remote streams: Map(0)Â {size: 0}
GroupCall.tsx:340 [GroupCall] Remote streams array: []
GroupCall.tsx:343 [GroupCall] ğŸ” Before filtering participants: (2)Â ['User 3(3)', 'User 2(2)']
GroupCall.tsx:344 [GroupCall] ğŸ” Current user to filter out: 2
GroupCall.tsx:347 [GroupCall] ğŸ” After filtering participants: ['User 3(3)']
GroupCall.tsx:353 [GroupCall] ğŸ” Mapping participant User 3 (3): {streamKey: 'user_3', hasStream: false, streamId: undefined, streamActive: undefined, audioTracks: 0}
GroupCall.tsx:370 [GroupCall] ğŸ“‹ Final participants list: [{â€¦}]
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
CallContext.tsx:1156 [CallContext] Received message: {type: 'initiate_group_webrtc', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'initiate_group_webrtc', hasPayload: true, messageKeys: Array(2), routingToCase: 'initiate_group_webrtc'}
CallContext.tsx:1273 [CallContext] ğŸ”¥ ROUTING: initiate_group_webrtc case matched, calling handleInitiateGroupWebRTC
CallContext.tsx:2438 [CallContext] ğŸš€ Group WebRTC initiation received: {type: 'initiate_group_webrtc', payload: {â€¦}}
CallContext.tsx:2445 [CallContext] ğŸ” DEBUG handleInitiateGroupWebRTC: {currentActiveCall: {â€¦}, activeCallFromState: null, messageCallId: 'group_call_1757927932626_38_3', messageParticipants: undefined}
CallContext.tsx:2485 [CallContext] ğŸ¯ Auto-triggering WebRTC setup for group call participants: undefined
GroupCall.tsx:519 [GroupCall] Initiating WebRTC for group call: {callId: 'group_call_1757927932626_38_3', participants: undefined, forceInit: undefined, newMember: undefined, activeCall: {â€¦}}
GroupCall.tsx:734 [GroupCall] ğŸš€ Initiating WebRTC connections for participants
GroupCall.tsx:751 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 3 (3)
GroupCall.tsx:386 [GroupCall] Creating new peer connection for user 3
GroupCall.tsx:759 [GroupCall] âœ… Added local audio track for user 3
CallContext.tsx:2516 [CallContext] âœ… WebRTC auto-initiation event dispatched
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:777 [GroupCall] âœ… Sent WebRTC offer to user 3
GroupCall.tsx:396 [GroupCall] Sending ICE candidate to user 3
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_call_participants_update', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_call_participants_update', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_call_participants_update'}
CallContext.tsx:1266 [CallContext] ğŸ”¥ GROUP_CALL_PARTICIPANTS_UPDATE received: {type: 'group_call_participants_update', payload: {â€¦}}
CallContext.tsx:1267 [CallContext] ğŸ¯ Participants in message: (2)Â [3, 2]
CallContext.tsx:1268 [CallContext] ğŸ¯ CallId in message: group_call_1757927932626_38_3
CallContext.tsx:1269 [CallContext] ğŸ¯ Full sync flag: true
CallContext.tsx:2185 [CallContext] ğŸ”¥ Group call participants update: {type: 'group_call_participants_update', payload: {â€¦}}
CallContext.tsx:2186 [CallContext] ğŸ”¥ Message payload: {callId: 'group_call_1757927932626_38_3', participants: Array(2), participantData: Array(2), fullSync: true, timestamp: 1757927940266}
CallContext.tsx:2191 [CallContext] Comparing callIds - message: group_call_1757927932626_38_3 activeCall: group_call_1757927932626_38_3
CallContext.tsx:2192 [CallContext] ActiveCall groupId: 38
CallContext.tsx:2231 [CallContext] Extracted groupIds - message: 38 active: 38
CallContext.tsx:2232 [CallContext] CallId parts: (5)Â ['group', 'call', '1757927932626', '38', '3']
CallContext.tsx:2235 [CallContext] Group IDs match, updating participants: (2)Â [3, 2]
CallContext.tsx:2241 [CallContext] ğŸ¯ Processing participant update - fullSync: true participantData: (2)Â [{â€¦}, {â€¦}]
CallContext.tsx:2242 [CallContext] ğŸ¯ Participants array length: 2 ParticipantData array length: 2
CallContext.tsx:2249 [CallContext] ğŸ”¥ Using detailed participant data from server: (2)Â [{â€¦}, {â€¦}]
CallContext.tsx:2250 [CallContext] ğŸ”¥ Detailed participant sample: {userId: 3, userName: 'aji', audioEnabled: true, videoEnabled: true, stream: null}
CallContext.tsx:2279 [CallContext] Unique participants after deduplication: (2)Â [{â€¦}, {â€¦}]
CallContext.tsx:2309 [CallContext] Processing regular participant update (not full sync)
GroupCall.tsx:307 [GroupCall] ğŸ”¥ Participant data update event received: {callId: 'group_call_1757927932626_38_3', participants: Array(2), isNewMember: false, fullSync: false}
CallContext.tsx:2406 [CallContext] ğŸ”¥ Dispatching participant-data-updated event for fullSync
GroupCall.tsx:307 [GroupCall] ğŸ”¥ Participant data update event received: {callId: 'group_call_1757927932626_38_3', participants: Array(2), isNewMember: false, fullSync: true, participantData: Array(2)}
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_call_participants_update', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_call_participants_update', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_call_participants_update'}
CallContext.tsx:1266 [CallContext] ğŸ”¥ GROUP_CALL_PARTICIPANTS_UPDATE received: {type: 'group_call_participants_update', payload: {â€¦}}
CallContext.tsx:1267 [CallContext] ğŸ¯ Participants in message: (2)Â [3, 2]
CallContext.tsx:1268 [CallContext] ğŸ¯ CallId in message: group_call_1757927932626_38_3
CallContext.tsx:1269 [CallContext] ğŸ¯ Full sync flag: true
CallContext.tsx:2185 [CallContext] ğŸ”¥ Group call participants update: {type: 'group_call_participants_update', payload: {â€¦}}
CallContext.tsx:2186 [CallContext] ğŸ”¥ Message payload: {callId: 'group_call_1757927932626_38_3', participants: Array(2), participantData: Array(2), fullSync: true, timestamp: 1757927940266}
CallContext.tsx:2191 [CallContext] Comparing callIds - message: group_call_1757927932626_38_3 activeCall: group_call_1757927932626_38_3
CallContext.tsx:2192 [CallContext] ActiveCall groupId: 38
CallContext.tsx:2231 [CallContext] Extracted groupIds - message: 38 active: 38
CallContext.tsx:2232 [CallContext] CallId parts: (5)Â ['group', 'call', '1757927932626', '38', '3']
CallContext.tsx:2235 [CallContext] Group IDs match, updating participants: (2)Â [3, 2]
CallContext.tsx:2241 [CallContext] ğŸ¯ Processing participant update - fullSync: true participantData: (2)Â [{â€¦}, {â€¦}]
CallContext.tsx:2242 [CallContext] ğŸ¯ Participants array length: 2 ParticipantData array length: 2
CallContext.tsx:2249 [CallContext] ğŸ”¥ Using detailed participant data from server: (2)Â [{â€¦}, {â€¦}]
CallContext.tsx:2250 [CallContext] ğŸ”¥ Detailed participant sample: {userId: 3, userName: 'aji', audioEnabled: true, videoEnabled: true, stream: null}
CallContext.tsx:2279 [CallContext] Unique participants after deduplication: (2)Â [{â€¦}, {â€¦}]
CallContext.tsx:2309 [CallContext] Processing regular participant update (not full sync)
GroupCall.tsx:307 [GroupCall] ğŸ”¥ Participant data update event received: {callId: 'group_call_1757927932626_38_3', participants: Array(2), isNewMember: false, fullSync: false}
CallContext.tsx:2406 [CallContext] ğŸ”¥ Dispatching participant-data-updated event for fullSync
GroupCall.tsx:307 [GroupCall] ğŸ”¥ Participant data update event received: {callId: 'group_call_1757927932626_38_3', participants: Array(2), isNewMember: false, fullSync: true, participantData: Array(2)}
CallContext.tsx:4648 [CallContext] ğŸ”¥ PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:334 [GroupCall] Updating participants: (2)Â [{â€¦}, {â€¦}]
GroupCall.tsx:335 [GroupCall] Current user ID: 2
GroupCall.tsx:336 [GroupCall] Available remote streams: Map(0)Â {size: 0}
GroupCall.tsx:340 [GroupCall] Remote streams array: []
GroupCall.tsx:343 [GroupCall] ğŸ” Before filtering participants: (2)Â ['aji(3)', 'eko(2)']
GroupCall.tsx:344 [GroupCall] ğŸ” Current user to filter out: 2
GroupCall.tsx:347 [GroupCall] ğŸ” After filtering participants: ['aji(3)']
GroupCall.tsx:353 [GroupCall] ğŸ” Mapping participant aji (3): {streamKey: 'user_3', hasStream: false, streamId: undefined, streamActive: undefined, audioTracks: 0}
GroupCall.tsx:370 [GroupCall] ğŸ“‹ Final participants list: [{â€¦}]
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:396 [GroupCall] Sending ICE candidate to user 3
GroupCall.tsx:463 [GroupCall] Connection state changed for user 3: connecting
CallContext.tsx:1156 [CallContext] Received message: {type: 'initiate_group_webrtc', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'initiate_group_webrtc', hasPayload: true, messageKeys: Array(2), routingToCase: 'initiate_group_webrtc'}
CallContext.tsx:1273 [CallContext] ğŸ”¥ ROUTING: initiate_group_webrtc case matched, calling handleInitiateGroupWebRTC
CallContext.tsx:2438 [CallContext] ğŸš€ Group WebRTC initiation received: {type: 'initiate_group_webrtc', payload: {â€¦}}
CallContext.tsx:2445 [CallContext] ğŸ” DEBUG handleInitiateGroupWebRTC: {currentActiveCall: {â€¦}, activeCallFromState: null, messageCallId: 'group_call_1757927932626_38_3', messageParticipants: Array(2)}
CallContext.tsx:2485 [CallContext] ğŸ¯ Auto-triggering WebRTC setup for group call participants: (2)Â [{â€¦}, {â€¦}]
GroupCall.tsx:519 [GroupCall] Initiating WebRTC for group call: {callId: 'group_call_1757927932626_38_3', participants: Array(2), forceInit: true, newMember: 2, activeCall: {â€¦}}
GroupCall.tsx:734 [GroupCall] ğŸš€ Initiating WebRTC connections for participants
GroupCall.tsx:751 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: aji (3)
CallContext.tsx:2500 [CallContext] ğŸ”„ Server forced WebRTC initiation for new member 2
CallContext.tsx:2516 [CallContext] âœ… WebRTC auto-initiation event dispatched
GroupCall.tsx:777 [GroupCall] âœ… Sent WebRTC offer to user 3
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1306 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757927932626_38_3', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:509 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757927932626_38_3', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:688 [GroupCall] ğŸ“¥ PROCESSING WEBRTC ANSWER from user: 3
GroupCall.tsx:698 [GroupCall] âœ… Set remote description for answer from user: 3
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_ice_candidate', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_ice_candidate', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_ice_candidate'}
CallContext.tsx:1313 [CallContext] Forwarding group WebRTC ICE candidate: {callId: 'group_call_1757927932626_38_3', candidate: {â€¦}, fromUserId: 3}
GroupCall.tsx:514 [GroupCall] Received group WebRTC ICE candidate: {callId: 'group_call_1757927932626_38_3', candidate: {â€¦}, fromUserId: 3}
GroupCall.tsx:708 [GroupCall] ğŸ“¥ PROCESSING ICE CANDIDATE from user: 3
GroupCall.tsx:722 [GroupCall] âœ… Added ICE candidate for user: 3
GroupCall.tsx:463 [GroupCall] Connection state changed for user 3: connected
GroupCall.tsx:466 [GroupCall] âœ… Successfully connected to user 3
GroupCall.tsx:544 [GroupCall] ğŸ”„ Force WebRTC reconnect triggered for new member: {callId: 'group_call_1757927932626_38_3', participants: Array(2), newMember: 2, forceInit: true, fromServer: true}
CallContext.tsx:4600 [CallContext] ğŸš€ Triggered WebRTC initialization for group call
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1299 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757927932626_38_3', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:504 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757927932626_38_3', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:585 [GroupCall] ğŸ“¥ PROCESSING WEBRTC OFFER from user: 3
GroupCall.tsx:645 [GroupCall] ğŸ“Š Current senders before answer for user 3: 1
GroupCall.tsx:659 [GroupCall] ğŸ”§ About to setRemoteDescription for user 3
GroupCall.tsx:661 [GroupCall] âœ… Set remote description for offer from user: 3
GroupCall.tsx:667 [GroupCall] âœ… Created and set local answer for user: 3
GroupCall.tsx:679 [GroupCall] âœ… Sent WebRTC answer to user: 3
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1306 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757927932626_38_3', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:509 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757927932626_38_3', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:688 [GroupCall] ğŸ“¥ PROCESSING WEBRTC ANSWER from user: 3
GroupCall.tsx:703 [GroupCall] âŒ Error handling incoming answer from user 3: InvalidStateError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: Called in wrong state: stable
handleIncomingWebRTCAnswer @ GroupCall.tsx:703
await in handleIncomingWebRTCAnswer
handleGroupWebRTCAnswer @ GroupCall.tsx:510
websocket.onmessage @ CallContext.tsx:1307Understand this error
CallContext.tsx:1156 [CallContext] Received message: {type: 'force_webrtc_reconnect', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'force_webrtc_reconnect', hasPayload: true, messageKeys: Array(2), routingToCase: 'force_webrtc_reconnect'}
CallContext.tsx:1277 [CallContext] ğŸ”¥ ROUTING: force_webrtc_reconnect case matched, calling handleInitiateGroupWebRTC
CallContext.tsx:2438 [CallContext] ğŸš€ Group WebRTC initiation received: {type: 'force_webrtc_reconnect', payload: {â€¦}}
CallContext.tsx:2445 [CallContext] ğŸ” DEBUG handleInitiateGroupWebRTC: {currentActiveCall: {â€¦}, activeCallFromState: null, messageCallId: 'group_call_1757927932626_38_3', messageParticipants: Array(2)}
CallContext.tsx:2485 [CallContext] ğŸ¯ Auto-triggering WebRTC setup for group call participants: (2)Â [{â€¦}, {â€¦}]
GroupCall.tsx:519 [GroupCall] Initiating WebRTC for group call: {callId: 'group_call_1757927932626_38_3', participants: Array(2), forceInit: true, newMember: 2, activeCall: {â€¦}}
GroupCall.tsx:734 [GroupCall] ğŸš€ Initiating WebRTC connections for participants
GroupCall.tsx:751 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: aji (3)
CallContext.tsx:2500 [CallContext] ğŸ”„ Server forced WebRTC initiation for new member 2
CallContext.tsx:2516 [CallContext] âœ… WebRTC auto-initiation event dispatched
GroupCall.tsx:777 [GroupCall] âœ… Sent WebRTC offer to user 3
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_call_participants_update', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_call_participants_update', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_call_participants_update'}
CallContext.tsx:1266 [CallContext] ğŸ”¥ GROUP_CALL_PARTICIPANTS_UPDATE received: {type: 'group_call_participants_update', payload: {â€¦}}
CallContext.tsx:1267 [CallContext] ğŸ¯ Participants in message: (2)Â [{â€¦}, {â€¦}]
CallContext.tsx:1268 [CallContext] ğŸ¯ CallId in message: group_call_1757927932626_38_3
CallContext.tsx:1269 [CallContext] ğŸ¯ Full sync flag: true
CallContext.tsx:2185 [CallContext] ğŸ”¥ Group call participants update: {type: 'group_call_participants_update', payload: {â€¦}}
CallContext.tsx:2186 [CallContext] ğŸ”¥ Message payload: {callId: 'group_call_1757927932626_38_3', participants: Array(2), isNewMember: true, fullSync: true}
CallContext.tsx:2191 [CallContext] Comparing callIds - message: group_call_1757927932626_38_3 activeCall: group_call_1757927932626_38_3
CallContext.tsx:2192 [CallContext] ActiveCall groupId: 38
CallContext.tsx:2231 [CallContext] Extracted groupIds - message: 38 active: 38
CallContext.tsx:2232 [CallContext] CallId parts: (5)Â ['group', 'call', '1757927932626', '38', '3']
CallContext.tsx:2235 [CallContext] Group IDs match, updating participants: (2)Â [{â€¦}, {â€¦}]
CallContext.tsx:2241 [CallContext] ğŸ¯ Processing participant update - fullSync: true participantData: undefined
CallContext.tsx:2242 [CallContext] ğŸ¯ Participants array length: 2 ParticipantData array length: undefined
CallContext.tsx:2254 [CallContext] Received detailed participant data: (2)Â [{â€¦}, {â€¦}]
CallContext.tsx:2279 [CallContext] Unique participants after deduplication: (2)Â [{â€¦}, {â€¦}]
CallContext.tsx:2283 [CallContext] ğŸ”¥ Full sync for new member - ensuring complete participant data
GroupCall.tsx:307 [GroupCall] ğŸ”¥ Participant data update event received: {callId: 'group_call_1757927932626_38_3', participants: Array(2), isNewMember: true, fullSync: true}
GroupCall.tsx:311 [GroupCall] ğŸ¯ Full sync for new member - updating participant list
CallContext.tsx:2304 [CallContext] ğŸ¯ Full sync complete - participant data updated for new member
CallContext.tsx:4648 [CallContext] ğŸ”¥ PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:334 [GroupCall] Updating participants: (2)Â [{â€¦}, {â€¦}]
GroupCall.tsx:335 [GroupCall] Current user ID: 2
GroupCall.tsx:336 [GroupCall] Available remote streams: Map(0)Â {size: 0}
GroupCall.tsx:340 [GroupCall] Remote streams array: []
GroupCall.tsx:343 [GroupCall] ğŸ” Before filtering participants: (2)Â ['aji(3)', 'eko(2)']
GroupCall.tsx:344 [GroupCall] ğŸ” Current user to filter out: 2
GroupCall.tsx:347 [GroupCall] ğŸ” After filtering participants: ['aji(3)']
GroupCall.tsx:353 [GroupCall] ğŸ” Mapping participant aji (3): {streamKey: 'user_3', hasStream: false, streamId: undefined, streamActive: undefined, audioTracks: 0}
GroupCall.tsx:370 [GroupCall] ğŸ“‹ Final participants list: [{â€¦}]
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:544 [GroupCall] ğŸ”„ Force WebRTC reconnect triggered for new member: {callId: 'group_call_1757927932626_38_3', participants: Array(2), newMember: 2, forceInit: true, fromServer: true}
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1299 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757927932626_38_3', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:504 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757927932626_38_3', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:585 [GroupCall] ğŸ“¥ PROCESSING WEBRTC OFFER from user: 3
GroupCall.tsx:645 [GroupCall] ğŸ“Š Current senders before answer for user 3: 2
GroupCall.tsx:659 [GroupCall] ğŸ”§ About to setRemoteDescription for user 3
GroupCall.tsx:683 [GroupCall] âŒ Error handling incoming offer from user 3: InvalidAccessError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote offer sdp: The order of m-lines in subsequent offer doesn't match order from previous offer/answer.
handleIncomingWebRTCOffer @ GroupCall.tsx:683
await in handleIncomingWebRTCOffer
handleGroupWebRTCOffer @ GroupCall.tsx:505
websocket.onmessage @ CallContext.tsx:1300Understand this error
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1299 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757927932626_38_3', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:504 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757927932626_38_3', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:585 [GroupCall] ğŸ“¥ PROCESSING WEBRTC OFFER from user: 3
GroupCall.tsx:645 [GroupCall] ğŸ“Š Current senders before answer for user 3: 2
GroupCall.tsx:659 [GroupCall] ğŸ”§ About to setRemoteDescription for user 3
GroupCall.tsx:683 [GroupCall] âŒ Error handling incoming offer from user 3: InvalidAccessError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote offer sdp: The order of m-lines in subsequent offer doesn't match order from previous offer/answer.
handleIncomingWebRTCOffer @ GroupCall.tsx:683
await in handleIncomingWebRTCOffer
handleGroupWebRTCOffer @ GroupCall.tsx:505
websocket.onmessage @ CallContext.tsx:1300Understand this error
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1306 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757927932626_38_3', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:509 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757927932626_38_3', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:688 [GroupCall] ğŸ“¥ PROCESSING WEBRTC ANSWER from user: 3
GroupCall.tsx:703 [GroupCall] âŒ Error handling incoming answer from user 3: InvalidStateError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: Called in wrong state: stable
handleIncomingWebRTCAnswer @ GroupCall.tsx:703
await in handleIncomingWebRTCAnswer
handleGroupWebRTCAnswer @ GroupCall.tsx:510
websocket.onmessage @ CallContext.tsx:1307Understand this error
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1299 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757927932626_38_3', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:504 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757927932626_38_3', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:585 [GroupCall] ğŸ“¥ PROCESSING WEBRTC OFFER from user: 3
GroupCall.tsx:645 [GroupCall] ğŸ“Š Current senders before answer for user 3: 2
GroupCall.tsx:659 [GroupCall] ğŸ”§ About to setRemoteDescription for user 3
GroupCall.tsx:661 [GroupCall] âœ… Set remote description for offer from user: 3
GroupCall.tsx:667 [GroupCall] âœ… Created and set local answer for user: 3
GroupCall.tsx:679 [GroupCall] âœ… Sent WebRTC answer to user: 3
CallContext.tsx:1156 [CallContext] Received message: {type: 'initiate_group_webrtc', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'initiate_group_webrtc', hasPayload: true, messageKeys: Array(2), routingToCase: 'initiate_group_webrtc'}
CallContext.tsx:1273 [CallContext] ğŸ”¥ ROUTING: initiate_group_webrtc case matched, calling handleInitiateGroupWebRTC
CallContext.tsx:2438 [CallContext] ğŸš€ Group WebRTC initiation received: {type: 'initiate_group_webrtc', payload: {â€¦}}
CallContext.tsx:2445 [CallContext] ğŸ” DEBUG handleInitiateGroupWebRTC: {currentActiveCall: {â€¦}, activeCallFromState: null, messageCallId: 'group_call_1757927932626_38_3', messageParticipants: Array(2)}
CallContext.tsx:2485 [CallContext] ğŸ¯ Auto-triggering WebRTC setup for group call participants: (2)Â [{â€¦}, {â€¦}]
GroupCall.tsx:519 [GroupCall] Initiating WebRTC for group call: {callId: 'group_call_1757927932626_38_3', participants: Array(2), forceInit: true, newMember: undefined, activeCall: {â€¦}}
GroupCall.tsx:734 [GroupCall] ğŸš€ Initiating WebRTC connections for participants
GroupCall.tsx:751 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: aji (3)
CallContext.tsx:2516 [CallContext] âœ… WebRTC auto-initiation event dispatched
GroupCall.tsx:777 [GroupCall] âœ… Sent WebRTC offer to user 3
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1299 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757927932626_38_3', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:504 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757927932626_38_3', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:585 [GroupCall] ğŸ“¥ PROCESSING WEBRTC OFFER from user: 3
GroupCall.tsx:645 [GroupCall] ğŸ“Š Current senders before answer for user 3: 3
GroupCall.tsx:659 [GroupCall] ğŸ”§ About to setRemoteDescription for user 3
GroupCall.tsx:661 [GroupCall] âœ… Set remote description for offer from user: 3
GroupCall.tsx:667 [GroupCall] âœ… Created and set local answer for user: 3
GroupCall.tsx:679 [GroupCall] âœ… Sent WebRTC answer to user: 3
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1306 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757927932626_38_3', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:509 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757927932626_38_3', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:688 [GroupCall] ğŸ“¥ PROCESSING WEBRTC ANSWER from user: 3
GroupCall.tsx:703 [GroupCall] âŒ Error handling incoming answer from user 3: InvalidStateError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: Called in wrong state: stable
handleIncomingWebRTCAnswer @ GroupCall.tsx:703
await in handleIncomingWebRTCAnswer
handleGroupWebRTCAnswer @ GroupCall.tsx:510
websocket.onmessage @ CallContext.tsx:1307Understand this error
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1299 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757927932626_38_3', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:504 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757927932626_38_3', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:585 [GroupCall] ğŸ“¥ PROCESSING WEBRTC OFFER from user: 3
GroupCall.tsx:645 [GroupCall] ğŸ“Š Current senders before answer for user 3: 3
GroupCall.tsx:659 [GroupCall] ğŸ”§ About to setRemoteDescription for user 3
GroupCall.tsx:661 [GroupCall] âœ… Set remote description for offer from user: 3
GroupCall.tsx:667 [GroupCall] âœ… Created and set local answer for user: 3
GroupCall.tsx:679 [GroupCall] âœ… Sent WebRTC answer to user: 3
CallContext.tsx:1156 [CallContext] Received message: {type: 'force_webrtc_reconnect', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'force_webrtc_reconnect', hasPayload: true, messageKeys: Array(2), routingToCase: 'force_webrtc_reconnect'}
CallContext.tsx:1277 [CallContext] ğŸ”¥ ROUTING: force_webrtc_reconnect case matched, calling handleInitiateGroupWebRTC
CallContext.tsx:2438 [CallContext] ğŸš€ Group WebRTC initiation received: {type: 'force_webrtc_reconnect', payload: {â€¦}}
CallContext.tsx:2445 [CallContext] ğŸ” DEBUG handleInitiateGroupWebRTC: {currentActiveCall: {â€¦}, activeCallFromState: null, messageCallId: 'group_call_1757927932626_38_3', messageParticipants: Array(2)}
CallContext.tsx:2485 [CallContext] ğŸ¯ Auto-triggering WebRTC setup for group call participants: (2)Â [{â€¦}, {â€¦}]
GroupCall.tsx:519 [GroupCall] Initiating WebRTC for group call: {callId: 'group_call_1757927932626_38_3', participants: Array(2), forceInit: true, newMember: undefined, activeCall: {â€¦}}
GroupCall.tsx:734 [GroupCall] ğŸš€ Initiating WebRTC connections for participants
GroupCall.tsx:751 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: aji (3)
CallContext.tsx:2516 [CallContext] âœ… WebRTC auto-initiation event dispatched
GroupCall.tsx:777 [GroupCall] âœ… Sent WebRTC offer to user 3
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1306 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757927932626_38_3', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:509 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757927932626_38_3', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:688 [GroupCall] ğŸ“¥ PROCESSING WEBRTC ANSWER from user: 3
GroupCall.tsx:698 [GroupCall] âœ… Set remote description for answer from user: 3