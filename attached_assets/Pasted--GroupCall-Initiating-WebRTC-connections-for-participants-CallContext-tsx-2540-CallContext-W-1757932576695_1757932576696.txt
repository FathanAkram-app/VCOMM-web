[GroupCall] ğŸš€ Initiating WebRTC connections for participants
CallContext.tsx:2540 [CallContext] âœ… WebRTC auto-initiation event dispatched
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_call_participants_update', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_call_participants_update', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_call_participants_update'}
CallContext.tsx:1266 [CallContext] ğŸ”¥ GROUP_CALL_PARTICIPANTS_UPDATE received: {type: 'group_call_participants_update', payload: {â€¦}}
CallContext.tsx:1267 [CallContext] ğŸ¯ Participants in message: (2)Â [2, 3]
CallContext.tsx:1268 [CallContext] ğŸ¯ CallId in message: group_call_1757932537742_38_2
CallContext.tsx:1269 [CallContext] ğŸ¯ Full sync flag: undefined
CallContext.tsx:2209 [CallContext] ğŸ”¥ Group call participants update: {type: 'group_call_participants_update', payload: {â€¦}}
CallContext.tsx:2210 [CallContext] ğŸ”¥ Message payload: {callId: 'group_call_1757932537742_38_2', participants: Array(2), newParticipant: 3}
CallContext.tsx:2215 [CallContext] Comparing callIds - message: group_call_1757932537742_38_2 activeCall: group_call_1757932537742_38_2
CallContext.tsx:2216 [CallContext] ActiveCall groupId: 38
CallContext.tsx:2255 [CallContext] Extracted groupIds - message: 38 active: 38
CallContext.tsx:2256 [CallContext] CallId parts: (5)Â ['group', 'call', '1757932537742', '38', '2']
CallContext.tsx:2259 [CallContext] Group IDs match, updating participants: (2)Â [2, 3]
CallContext.tsx:2265 [CallContext] ğŸ¯ Processing participant update - fullSync: undefined participantData: undefined
CallContext.tsx:2266 [CallContext] ğŸ¯ Participants array length: 2 ParticipantData array length: undefined
CallContext.tsx:2303 [CallContext] Unique participants after deduplication: (2)Â [{â€¦}, {â€¦}]
CallContext.tsx:2333 [CallContext] Processing regular participant update (not full sync)
GroupCall.tsx:299 [GroupCall] ğŸ”¥ Participant data update event received: {callId: 'group_call_1757932537742_38_2', participants: Array(2), isNewMember: false, fullSync: false}
CallContext.tsx:4676 [CallContext] ğŸ”¥ PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:326 [GroupCall] Updating participants: (2)Â [{â€¦}, {â€¦}]
GroupCall.tsx:327 [GroupCall] Current user ID: 2
GroupCall.tsx:328 [GroupCall] Available remote streams: Map(0)Â {size: 0}
GroupCall.tsx:332 [GroupCall] Remote streams array: []
GroupCall.tsx:335 [GroupCall] ğŸ” Before filtering participants: (2)Â ['User 2(2)', 'User 3(3)']
GroupCall.tsx:336 [GroupCall] ğŸ” Current user to filter out: 2
GroupCall.tsx:339 [GroupCall] ğŸ” After filtering participants: ['User 3(3)']
GroupCall.tsx:345 [GroupCall] ğŸ” Mapping participant User 3 (3): {streamKey: 'user_3', hasStream: false, streamId: undefined, streamActive: undefined, audioTracks: 0}
GroupCall.tsx:362 [GroupCall] ğŸ“‹ Final participants list: [{â€¦}]
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:926 [GroupCall] ğŸ¯ Audio attachment useEffect triggered - participants count: 1
GroupCall.tsx:939 [GroupCall] â³ Waiting for User 3 - stream: false, audioRef: true
CallContext.tsx:1156 [CallContext] Received message: {type: 'initiate_group_webrtc', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'initiate_group_webrtc', hasPayload: true, messageKeys: Array(2), routingToCase: 'initiate_group_webrtc'}
CallContext.tsx:1273 [CallContext] ğŸ”¥ ROUTING: initiate_group_webrtc case matched, calling handleInitiateGroupWebRTC
CallContext.tsx:2462 [CallContext] ğŸš€ Group WebRTC initiation received: {type: 'initiate_group_webrtc', payload: {â€¦}}
CallContext.tsx:2469 [CallContext] ğŸ” DEBUG handleInitiateGroupWebRTC: {currentActiveCall: {â€¦}, activeCallFromState: null, messageCallId: 'group_call_1757932537742_38_2', messageParticipants: undefined}
CallContext.tsx:2509 [CallContext] ğŸ¯ Auto-triggering WebRTC setup for group call participants: undefined
GroupCall.tsx:595 [GroupCall] Initiating WebRTC for group call: {callId: 'group_call_1757932537742_38_2', participants: undefined, forceInit: undefined, newMember: undefined, activeCall: {â€¦}}
GroupCall.tsx:796 [GroupCall] ğŸš€ Initiating WebRTC connections for participants
GroupCall.tsx:813 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 3 (3)
GroupCall.tsx:378 [GroupCall] Creating new peer connection for user 3
GroupCall.tsx:386 [GroupCall] ğŸ”§ TRANSCEIVER FIX: Adding audio transceiver for user 3
GroupCall.tsx:391 [GroupCall] ğŸ”§ TRANSCEIVER FIX: Audio transceiver created: {userId: 3, direction: 'sendrecv', hasLocalStream: true, transceiverMid: null}
GroupCall.tsx:405 [GroupCall] ğŸ”§ LOCAL TRACK FIX: Attached local audio track for user 3: {trackId: '05978931-a99f-4af1-b014-997637b57cfe', trackEnabled: true, streamId: '4de0e331-6d13-4d03-b96b-c33b8c25cfbc', direction: 'sendrecv'}
GroupCall.tsx:417 [GroupCall] ğŸ” INSTRUMENTATION: Peer connection setup complete for user 3: {transceivers: Array(1), senders: Array(1), receivers: Array(1)}
CallContext.tsx:2540 [CallContext] âœ… WebRTC auto-initiation event dispatched
GroupCall.tsx:437 [GroupCall] ğŸ” INSTRUMENTATION: Negotiation needed for user 3
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:839 [GroupCall] âœ… Sent WebRTC offer to user 3
2GroupCall.tsx:443 [GroupCall] Sending ICE candidate to user 3
CallContext.tsx:1156 [CallContext] Received message: {type: 'initiate_group_webrtc', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'initiate_group_webrtc', hasPayload: true, messageKeys: Array(2), routingToCase: 'initiate_group_webrtc'}
CallContext.tsx:1273 [CallContext] ğŸ”¥ ROUTING: initiate_group_webrtc case matched, calling handleInitiateGroupWebRTC
CallContext.tsx:2462 [CallContext] ğŸš€ Group WebRTC initiation received: {type: 'initiate_group_webrtc', payload: {â€¦}}
CallContext.tsx:2469 [CallContext] ğŸ” DEBUG handleInitiateGroupWebRTC: {currentActiveCall: {â€¦}, activeCallFromState: null, messageCallId: 'group_call_1757932537742_38_2', messageParticipants: Array(2)}
CallContext.tsx:2509 [CallContext] ğŸ¯ Auto-triggering WebRTC setup for group call participants: (2)Â [{â€¦}, {â€¦}]
GroupCall.tsx:595 [GroupCall] Initiating WebRTC for group call: {callId: 'group_call_1757932537742_38_2', participants: Array(2), forceInit: true, newMember: 3, activeCall: {â€¦}}
GroupCall.tsx:796 [GroupCall] ğŸš€ Initiating WebRTC connections for participants
GroupCall.tsx:813 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 3 (3)
CallContext.tsx:2524 [CallContext] ğŸ”„ Server forced WebRTC initiation for new member 3
CallContext.tsx:2540 [CallContext] âœ… WebRTC auto-initiation event dispatched
GroupCall.tsx:839 [GroupCall] âœ… Sent WebRTC offer to user 3
GroupCall.tsx:620 [GroupCall] ğŸ”„ Force WebRTC reconnect triggered for new member: {callId: 'group_call_1757932537742_38_2', participants: Array(2), newMember: 3, forceInit: true, fromServer: true}
GroupCall.tsx:623 [GroupCall] ğŸš€ Forcing WebRTC connection to new member 3
GroupCall.tsx:796 [GroupCall] ğŸš€ Initiating WebRTC connections for participants
GroupCall.tsx:813 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 3 (3)
GroupCall.tsx:839 [GroupCall] âœ… Sent WebRTC offer to user 3
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_call_participants_update', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_call_participants_update', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_call_participants_update'}
CallContext.tsx:1266 [CallContext] ğŸ”¥ GROUP_CALL_PARTICIPANTS_UPDATE received: {type: 'group_call_participants_update', payload: {â€¦}}
CallContext.tsx:1267 [CallContext] ğŸ¯ Participants in message: (3)Â [2, 3, 4]
CallContext.tsx:1268 [CallContext] ğŸ¯ CallId in message: group_call_1757932537742_38_2
CallContext.tsx:1269 [CallContext] ğŸ¯ Full sync flag: undefined
CallContext.tsx:2209 [CallContext] ğŸ”¥ Group call participants update: {type: 'group_call_participants_update', payload: {â€¦}}
CallContext.tsx:2210 [CallContext] ğŸ”¥ Message payload: {callId: 'group_call_1757932537742_38_2', participants: Array(3), newParticipant: 4}
CallContext.tsx:2215 [CallContext] Comparing callIds - message: group_call_1757932537742_38_2 activeCall: group_call_1757932537742_38_2
CallContext.tsx:2216 [CallContext] ActiveCall groupId: 38
CallContext.tsx:2255 [CallContext] Extracted groupIds - message: 38 active: 38
CallContext.tsx:2256 [CallContext] CallId parts: (5)Â ['group', 'call', '1757932537742', '38', '2']
CallContext.tsx:2259 [CallContext] Group IDs match, updating participants: (3)Â [2, 3, 4]
CallContext.tsx:2265 [CallContext] ğŸ¯ Processing participant update - fullSync: undefined participantData: undefined
CallContext.tsx:2266 [CallContext] ğŸ¯ Participants array length: 3 ParticipantData array length: undefined
CallContext.tsx:2303 [CallContext] Unique participants after deduplication: (3)Â [{â€¦}, {â€¦}, {â€¦}]
CallContext.tsx:2333 [CallContext] Processing regular participant update (not full sync)
GroupCall.tsx:299 [GroupCall] ğŸ”¥ Participant data update event received: {callId: 'group_call_1757932537742_38_2', participants: Array(3), isNewMember: false, fullSync: false}
CallContext.tsx:4676 [CallContext] ğŸ”¥ PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:326 [GroupCall] Updating participants: (3)Â [{â€¦}, {â€¦}, {â€¦}]
GroupCall.tsx:327 [GroupCall] Current user ID: 2
GroupCall.tsx:328 [GroupCall] Available remote streams: Map(0)Â {size: 0}
GroupCall.tsx:332 [GroupCall] Remote streams array: []
GroupCall.tsx:335 [GroupCall] ğŸ” Before filtering participants: (3)Â ['User 2(2)', 'User 3(3)', 'User 4(4)']
GroupCall.tsx:336 [GroupCall] ğŸ” Current user to filter out: 2
GroupCall.tsx:339 [GroupCall] ğŸ” After filtering participants: (2)Â ['User 3(3)', 'User 4(4)']
GroupCall.tsx:345 [GroupCall] ğŸ” Mapping participant User 3 (3): {streamKey: 'user_3', hasStream: false, streamId: undefined, streamActive: undefined, audioTracks: 0}
GroupCall.tsx:345 [GroupCall] ğŸ” Mapping participant User 4 (4): {streamKey: 'user_4', hasStream: false, streamId: undefined, streamActive: undefined, audioTracks: 0}
GroupCall.tsx:362 [GroupCall] ğŸ“‹ Final participants list: (2)Â [{â€¦}, {â€¦}]
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:926 [GroupCall] ğŸ¯ Audio attachment useEffect triggered - participants count: 2
GroupCall.tsx:939 [GroupCall] â³ Waiting for User 3 - stream: false, audioRef: true
GroupCall.tsx:939 [GroupCall] â³ Waiting for User 4 - stream: false, audioRef: true
CallContext.tsx:1156 [CallContext] Received message: {type: 'initiate_group_webrtc', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'initiate_group_webrtc', hasPayload: true, messageKeys: Array(2), routingToCase: 'initiate_group_webrtc'}
CallContext.tsx:1273 [CallContext] ğŸ”¥ ROUTING: initiate_group_webrtc case matched, calling handleInitiateGroupWebRTC
CallContext.tsx:2462 [CallContext] ğŸš€ Group WebRTC initiation received: {type: 'initiate_group_webrtc', payload: {â€¦}}
CallContext.tsx:2469 [CallContext] ğŸ” DEBUG handleInitiateGroupWebRTC: {currentActiveCall: {â€¦}, activeCallFromState: null, messageCallId: 'group_call_1757932537742_38_2', messageParticipants: undefined}
CallContext.tsx:2509 [CallContext] ğŸ¯ Auto-triggering WebRTC setup for group call participants: undefined
GroupCall.tsx:595 [GroupCall] Initiating WebRTC for group call: {callId: 'group_call_1757932537742_38_2', participants: undefined, forceInit: undefined, newMember: undefined, activeCall: {â€¦}}
GroupCall.tsx:796 [GroupCall] ğŸš€ Initiating WebRTC connections for participants
GroupCall.tsx:813 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 3 (3)
CallContext.tsx:2540 [CallContext] âœ… WebRTC auto-initiation event dispatched
GroupCall.tsx:839 [GroupCall] âœ… Sent WebRTC offer to user 3
CallContext.tsx:1156 [CallContext] Received message: {type: 'force_webrtc_reconnect', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'force_webrtc_reconnect', hasPayload: true, messageKeys: Array(2), routingToCase: 'force_webrtc_reconnect'}
CallContext.tsx:1277 [CallContext] ğŸ”¥ ROUTING: force_webrtc_reconnect case matched, calling handleInitiateGroupWebRTC
CallContext.tsx:2462 [CallContext] ğŸš€ Group WebRTC initiation received: {type: 'force_webrtc_reconnect', payload: {â€¦}}
CallContext.tsx:2469 [CallContext] ğŸ” DEBUG handleInitiateGroupWebRTC: {currentActiveCall: {â€¦}, activeCallFromState: null, messageCallId: 'group_call_1757932537742_38_2', messageParticipants: Array(2)}
CallContext.tsx:2509 [CallContext] ğŸ¯ Auto-triggering WebRTC setup for group call participants: (2)Â [{â€¦}, {â€¦}]
GroupCall.tsx:595 [GroupCall] Initiating WebRTC for group call: {callId: 'group_call_1757932537742_38_2', participants: Array(2), forceInit: true, newMember: 3, activeCall: {â€¦}}
GroupCall.tsx:796 [GroupCall] ğŸš€ Initiating WebRTC connections for participants
GroupCall.tsx:813 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 3 (3)
CallContext.tsx:2524 [CallContext] ğŸ”„ Server forced WebRTC initiation for new member 3
CallContext.tsx:2540 [CallContext] âœ… WebRTC auto-initiation event dispatched
GroupCall.tsx:839 [GroupCall] âœ… Sent WebRTC offer to user 3
GroupCall.tsx:813 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 4 (4)
GroupCall.tsx:378 [GroupCall] Creating new peer connection for user 4
GroupCall.tsx:386 [GroupCall] ğŸ”§ TRANSCEIVER FIX: Adding audio transceiver for user 4
GroupCall.tsx:391 [GroupCall] ğŸ”§ TRANSCEIVER FIX: Audio transceiver created: {userId: 4, direction: 'sendrecv', hasLocalStream: true, transceiverMid: null}
GroupCall.tsx:405 [GroupCall] ğŸ”§ LOCAL TRACK FIX: Attached local audio track for user 4: {trackId: '05978931-a99f-4af1-b014-997637b57cfe', trackEnabled: true, streamId: '4de0e331-6d13-4d03-b96b-c33b8c25cfbc', direction: 'sendrecv'}
GroupCall.tsx:417 [GroupCall] ğŸ” INSTRUMENTATION: Peer connection setup complete for user 4: {transceivers: Array(1), senders: Array(1), receivers: Array(1)}
GroupCall.tsx:437 [GroupCall] ğŸ” INSTRUMENTATION: Negotiation needed for user 4
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:839 [GroupCall] âœ… Sent WebRTC offer to user 4
GroupCall.tsx:443 [GroupCall] Sending ICE candidate to user 4
GroupCall.tsx:620 [GroupCall] ğŸ”„ Force WebRTC reconnect triggered for new member: {callId: 'group_call_1757932537742_38_2', participants: Array(2), newMember: 3, forceInit: true, fromServer: true}
GroupCall.tsx:623 [GroupCall] ğŸš€ Forcing WebRTC connection to new member 3
GroupCall.tsx:813 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 4 (4)
GroupCall.tsx:508 [GroupCall] Connection state changed for user 3: connecting
GroupCall.tsx:839 [GroupCall] âœ… Sent WebRTC offer to user 4
GroupCall.tsx:443 [GroupCall] Sending ICE candidate to user 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1323 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 4}
GroupCall.tsx:580 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 4}
GroupCall.tsx:661 [GroupCall] ğŸ“¥ PROCESSING WEBRTC OFFER from user: 4
GroupCall.tsx:708 [GroupCall] ğŸ“Š Current senders before answer for user 4: 1
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_ice_candidate', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_ice_candidate', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_ice_candidate'}
CallContext.tsx:1337 [CallContext] Forwarding group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 4}
GroupCall.tsx:590 [GroupCall] Received group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 4}
GroupCall.tsx:770 [GroupCall] ğŸ“¥ PROCESSING ICE CANDIDATE from user: 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_ice_candidate', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_ice_candidate', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_ice_candidate'}
CallContext.tsx:1337 [CallContext] Forwarding group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 4}
GroupCall.tsx:590 [GroupCall] Received group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 4}
GroupCall.tsx:770 [GroupCall] ğŸ“¥ PROCESSING ICE CANDIDATE from user: 4
GroupCall.tsx:457 [GroupCall] ğŸ¥ RECEIVED REMOTE TRACK from user 4: audio
GroupCall.tsx:458 [GroupCall] ğŸ¥ Event streams: [MediaStream]
GroupCall.tsx:478 [GroupCall] ğŸ“¦ STORING REMOTE STREAM for user 4: {streamId: '9030395e-8b10-4cb4-90d0-3d283ccd9e0e', active: true, audioTracks: 1, videoTracks: 0, totalTracks: 1}
GroupCall.tsx:723 [GroupCall] âœ… Set remote description for offer from user: 4
2GroupCall.tsx:784 [GroupCall] âœ… Added ICE candidate for user: 4
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:491 [GroupCall] ğŸ“¦ Updated remoteStreams map, total streams: 1
GroupCall.tsx:326 [GroupCall] Updating participants: (3)Â [{â€¦}, {â€¦}, {â€¦}]
GroupCall.tsx:327 [GroupCall] Current user ID: 2
GroupCall.tsx:328 [GroupCall] Available remote streams: Map(1)Â {'user_4' => MediaStream}
GroupCall.tsx:332 [GroupCall] Remote streams array: [MediaStream]
GroupCall.tsx:335 [GroupCall] ğŸ” Before filtering participants: (3)Â ['User 2(2)', 'User 3(3)', 'User 4(4)']
GroupCall.tsx:336 [GroupCall] ğŸ” Current user to filter out: 2
GroupCall.tsx:339 [GroupCall] ğŸ” After filtering participants: (2)Â ['User 3(3)', 'User 4(4)']
GroupCall.tsx:345 [GroupCall] ğŸ” Mapping participant User 3 (3): {streamKey: 'user_3', hasStream: false, streamId: undefined, streamActive: undefined, audioTracks: 0}
GroupCall.tsx:345 [GroupCall] ğŸ” Mapping participant User 4 (4): {streamKey: 'user_4', hasStream: true, streamId: '9030395e-8b10-4cb4-90d0-3d283ccd9e0e', streamActive: true, audioTracks: 1}
GroupCall.tsx:362 [GroupCall] ğŸ“‹ Final participants list: (2)Â [{â€¦}, {â€¦}]
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:926 [GroupCall] ğŸ¯ Audio attachment useEffect triggered - participants count: 2
GroupCall.tsx:939 [GroupCall] â³ Waiting for User 3 - stream: false, audioRef: true
GroupCall.tsx:930 [GroupCall] ğŸ¯ CALLING attachAudioStreamExact for User 4 (UserID: 4)
GroupCall.tsx:141 [GroupCall] âœ… Setting User 4(4) stream to audio element - EXACT SAME AS AUDIOCALL
GroupCall.tsx:142 [GroupCall] User 4(4) stream details: {id: '9030395e-8b10-4cb4-90d0-3d283ccd9e0e', active: true, audioTracks: 1}
GroupCall.tsx:150 [GroupCall] User 4(4) Track 0: {kind: 'audio', enabled: true, muted: false, readyState: 'live', id: 'b4b797a4-47e1-41c0-83f1-cef6182e7196'}
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1323 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:580 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:661 [GroupCall] ğŸ“¥ PROCESSING WEBRTC OFFER from user: 3
GroupCall.tsx:708 [GroupCall] ğŸ“Š Current senders before answer for user 3: 1
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1323 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 4}
GroupCall.tsx:580 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 4}
GroupCall.tsx:661 [GroupCall] ğŸ“¥ PROCESSING WEBRTC OFFER from user: 4
GroupCall.tsx:671 [GroupCall] âš ï¸ Peer connection for user 4 not in correct state for offer: have-remote-offer
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_ice_candidate', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_ice_candidate', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_ice_candidate'}
CallContext.tsx:1337 [CallContext] Forwarding group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 3}
GroupCall.tsx:590 [GroupCall] Received group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 3}
GroupCall.tsx:770 [GroupCall] ğŸ“¥ PROCESSING ICE CANDIDATE from user: 3
GroupCall.tsx:729 [GroupCall] âœ… Created and set local answer for user: 4
GroupCall.tsx:741 [GroupCall] âœ… Sent WebRTC answer to user: 4
GroupCall.tsx:437 [GroupCall] ğŸ” INSTRUMENTATION: Negotiation needed for user 4
GroupCall.tsx:169 [GroupCall] âœ… User 4(4) audio playing successfully
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_ice_candidate', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_ice_candidate', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_ice_candidate'}
CallContext.tsx:1337 [CallContext] Forwarding group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 3}
GroupCall.tsx:590 [GroupCall] Received group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 3}
GroupCall.tsx:770 [GroupCall] ğŸ“¥ PROCESSING ICE CANDIDATE from user: 3
GroupCall.tsx:723 [GroupCall] âœ… Set remote description for offer from user: 3
2GroupCall.tsx:784 [GroupCall] âœ… Added ICE candidate for user: 3
GroupCall.tsx:508 [GroupCall] Connection state changed for user 3: new
GroupCall.tsx:729 [GroupCall] âœ… Created and set local answer for user: 3
GroupCall.tsx:741 [GroupCall] âœ… Sent WebRTC answer to user: 3
GroupCall.tsx:437 [GroupCall] ğŸ” INSTRUMENTATION: Negotiation needed for user 3
GroupCall.tsx:443 [GroupCall] Sending ICE candidate to user 4
GroupCall.tsx:508 [GroupCall] Connection state changed for user 4: connecting
GroupCall.tsx:443 [GroupCall] Sending ICE candidate to user 3
GroupCall.tsx:508 [GroupCall] Connection state changed for user 3: connecting
GroupCall.tsx:796 [GroupCall] ğŸš€ Initiating WebRTC connections for participants
GroupCall.tsx:813 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 3 (3)
GroupCall.tsx:839 [GroupCall] âœ… Sent WebRTC offer to user 3
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1330 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:585 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:750 [GroupCall] ğŸ“¥ PROCESSING WEBRTC ANSWER from user: 3
GroupCall.tsx:765 [GroupCall] âŒ Error handling incoming answer from user 3: InvalidAccessError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: The order of m-lines in answer doesn't match order in offer. Rejecting answer.
handleIncomingWebRTCAnswer @ GroupCall.tsx:765
await in handleIncomingWebRTCAnswer
handleGroupWebRTCAnswer @ GroupCall.tsx:586
websocket.onmessage @ CallContext.tsx:1331Understand this error
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_ice_candidate', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_ice_candidate', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_ice_candidate'}
CallContext.tsx:1337 [CallContext] Forwarding group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 3}
GroupCall.tsx:590 [GroupCall] Received group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 3}
GroupCall.tsx:770 [GroupCall] ğŸ“¥ PROCESSING ICE CANDIDATE from user: 3
GroupCall.tsx:784 [GroupCall] âœ… Added ICE candidate for user: 3
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:498 [GroupCall] ğŸ”„ FORCE RE-RENDER participants for user 4
GroupCall.tsx:926 [GroupCall] ğŸ¯ Audio attachment useEffect triggered - participants count: 2
GroupCall.tsx:939 [GroupCall] â³ Waiting for User 3 - stream: false, audioRef: true
GroupCall.tsx:930 [GroupCall] ğŸ¯ CALLING attachAudioStreamExact for User 4 (UserID: 4)
GroupCall.tsx:141 [GroupCall] âœ… Setting User 4(4) stream to audio element - EXACT SAME AS AUDIOCALL
GroupCall.tsx:142 [GroupCall] User 4(4) stream details: {id: '9030395e-8b10-4cb4-90d0-3d283ccd9e0e', active: true, audioTracks: 1}
GroupCall.tsx:150 [GroupCall] User 4(4) Track 0: {kind: 'audio', enabled: true, muted: false, readyState: 'live', id: 'b4b797a4-47e1-41c0-83f1-cef6182e7196'}
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_ice_candidate', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_ice_candidate', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_ice_candidate'}
CallContext.tsx:1337 [CallContext] Forwarding group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 4}
GroupCall.tsx:590 [GroupCall] Received group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 4}
GroupCall.tsx:770 [GroupCall] ğŸ“¥ PROCESSING ICE CANDIDATE from user: 4
GroupCall.tsx:443 [GroupCall] Sending ICE candidate to user 4
GroupCall.tsx:443 [GroupCall] Sending ICE candidate to user 3
GroupCall.tsx:169 [GroupCall] âœ… User 4(4) audio playing successfully
GroupCall.tsx:784 [GroupCall] âœ… Added ICE candidate for user: 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_ice_candidate', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_ice_candidate', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_ice_candidate'}
CallContext.tsx:1337 [CallContext] Forwarding group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 4}
GroupCall.tsx:590 [GroupCall] Received group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 4}
GroupCall.tsx:770 [GroupCall] ğŸ“¥ PROCESSING ICE CANDIDATE from user: 4
GroupCall.tsx:784 [GroupCall] âœ… Added ICE candidate for user: 4
GroupCall.tsx:813 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 4 (4)
GroupCall.tsx:839 [GroupCall] âœ… Sent WebRTC offer to user 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'initiate_group_webrtc', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'initiate_group_webrtc', hasPayload: true, messageKeys: Array(2), routingToCase: 'initiate_group_webrtc'}
CallContext.tsx:1273 [CallContext] ğŸ”¥ ROUTING: initiate_group_webrtc case matched, calling handleInitiateGroupWebRTC
CallContext.tsx:2462 [CallContext] ğŸš€ Group WebRTC initiation received: {type: 'initiate_group_webrtc', payload: {â€¦}}
CallContext.tsx:2469 [CallContext] ğŸ” DEBUG handleInitiateGroupWebRTC: {currentActiveCall: {â€¦}, activeCallFromState: null, messageCallId: 'group_call_1757932537742_38_2', messageParticipants: Array(3)}
CallContext.tsx:2509 [CallContext] ğŸ¯ Auto-triggering WebRTC setup for group call participants: (3)Â [{â€¦}, {â€¦}, {â€¦}]
GroupCall.tsx:595 [GroupCall] Initiating WebRTC for group call: {callId: 'group_call_1757932537742_38_2', participants: Array(3), forceInit: true, newMember: 4, activeCall: {â€¦}}
GroupCall.tsx:796 [GroupCall] ğŸš€ Initiating WebRTC connections for participants
GroupCall.tsx:813 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 3 (3)
CallContext.tsx:2524 [CallContext] ğŸ”„ Server forced WebRTC initiation for new member 4
CallContext.tsx:2540 [CallContext] âœ… WebRTC auto-initiation event dispatched
GroupCall.tsx:839 [GroupCall] âœ… Sent WebRTC offer to user 3
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1330 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:585 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:750 [GroupCall] ğŸ“¥ PROCESSING WEBRTC ANSWER from user: 3
GroupCall.tsx:765 [GroupCall] âŒ Error handling incoming answer from user 3: InvalidAccessError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: The order of m-lines in answer doesn't match order in offer. Rejecting answer.
handleIncomingWebRTCAnswer @ GroupCall.tsx:765
await in handleIncomingWebRTCAnswer
handleGroupWebRTCAnswer @ GroupCall.tsx:586
websocket.onmessage @ CallContext.tsx:1331Understand this error
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1330 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:585 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:750 [GroupCall] ğŸ“¥ PROCESSING WEBRTC ANSWER from user: 3
GroupCall.tsx:765 [GroupCall] âŒ Error handling incoming answer from user 3: InvalidAccessError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: The order of m-lines in answer doesn't match order in offer. Rejecting answer.
handleIncomingWebRTCAnswer @ GroupCall.tsx:765
await in handleIncomingWebRTCAnswer
handleGroupWebRTCAnswer @ GroupCall.tsx:586
websocket.onmessage @ CallContext.tsx:1331Understand this error
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1330 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 4}
GroupCall.tsx:585 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 4}
GroupCall.tsx:750 [GroupCall] ğŸ“¥ PROCESSING WEBRTC ANSWER from user: 4
GroupCall.tsx:765 [GroupCall] âŒ Error handling incoming answer from user 4: InvalidAccessError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: The order of m-lines in answer doesn't match order in offer. Rejecting answer.
handleIncomingWebRTCAnswer @ GroupCall.tsx:765
await in handleIncomingWebRTCAnswer
handleGroupWebRTCAnswer @ GroupCall.tsx:586
websocket.onmessage @ CallContext.tsx:1331Understand this error
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1323 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 4}
GroupCall.tsx:580 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 4}
GroupCall.tsx:661 [GroupCall] ğŸ“¥ PROCESSING WEBRTC OFFER from user: 4
GroupCall.tsx:708 [GroupCall] ğŸ“Š Current senders before answer for user 4: 2
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_ice_candidate', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_ice_candidate', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_ice_candidate'}
CallContext.tsx:1337 [CallContext] Forwarding group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 4}
GroupCall.tsx:590 [GroupCall] Received group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 4}
GroupCall.tsx:770 [GroupCall] ğŸ“¥ PROCESSING ICE CANDIDATE from user: 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_ice_candidate', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_ice_candidate', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_ice_candidate'}
CallContext.tsx:1337 [CallContext] Forwarding group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 4}
GroupCall.tsx:590 [GroupCall] Received group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 4}
GroupCall.tsx:770 [GroupCall] ğŸ“¥ PROCESSING ICE CANDIDATE from user: 4
GroupCall.tsx:457 [GroupCall] ğŸ¥ RECEIVED REMOTE TRACK from user 4: audio
GroupCall.tsx:458 [GroupCall] ğŸ¥ Event streams: [MediaStream]
GroupCall.tsx:478 [GroupCall] ğŸ“¦ STORING REMOTE STREAM for user 4: {streamId: '9030395e-8b10-4cb4-90d0-3d283ccd9e0e', active: true, audioTracks: 1, videoTracks: 0, totalTracks: 1}
GroupCall.tsx:723 [GroupCall] âœ… Set remote description for offer from user: 4
2GroupCall.tsx:784 [GroupCall] âœ… Added ICE candidate for user: 4
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:491 [GroupCall] ğŸ“¦ Updated remoteStreams map, total streams: 1
GroupCall.tsx:326 [GroupCall] Updating participants: (3)Â [{â€¦}, {â€¦}, {â€¦}]
GroupCall.tsx:327 [GroupCall] Current user ID: 2
GroupCall.tsx:328 [GroupCall] Available remote streams: Map(1)Â {'user_4' => MediaStream}
GroupCall.tsx:332 [GroupCall] Remote streams array: [MediaStream]
GroupCall.tsx:335 [GroupCall] ğŸ” Before filtering participants: (3)Â ['User 2(2)', 'User 3(3)', 'User 4(4)']
GroupCall.tsx:336 [GroupCall] ğŸ” Current user to filter out: 2
GroupCall.tsx:339 [GroupCall] ğŸ” After filtering participants: (2)Â ['User 3(3)', 'User 4(4)']
GroupCall.tsx:345 [GroupCall] ğŸ” Mapping participant User 3 (3): {streamKey: 'user_3', hasStream: false, streamId: undefined, streamActive: undefined, audioTracks: 0}
GroupCall.tsx:345 [GroupCall] ğŸ” Mapping participant User 4 (4): {streamKey: 'user_4', hasStream: true, streamId: '9030395e-8b10-4cb4-90d0-3d283ccd9e0e', streamActive: true, audioTracks: 1}
GroupCall.tsx:362 [GroupCall] ğŸ“‹ Final participants list: (2)Â [{â€¦}, {â€¦}]
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:926 [GroupCall] ğŸ¯ Audio attachment useEffect triggered - participants count: 2
GroupCall.tsx:939 [GroupCall] â³ Waiting for User 3 - stream: false, audioRef: true
GroupCall.tsx:930 [GroupCall] ğŸ¯ CALLING attachAudioStreamExact for User 4 (UserID: 4)
GroupCall.tsx:141 [GroupCall] âœ… Setting User 4(4) stream to audio element - EXACT SAME AS AUDIOCALL
GroupCall.tsx:142 [GroupCall] User 4(4) stream details: {id: '9030395e-8b10-4cb4-90d0-3d283ccd9e0e', active: true, audioTracks: 1}
GroupCall.tsx:150 [GroupCall] User 4(4) Track 0: {kind: 'audio', enabled: true, muted: false, readyState: 'live', id: 'b4b797a4-47e1-41c0-83f1-cef6182e7196'}
GroupCall.tsx:620 [GroupCall] ğŸ”„ Force WebRTC reconnect triggered for new member: {callId: 'group_call_1757932537742_38_2', participants: Array(3), newMember: 4, forceInit: true, fromServer: true}
GroupCall.tsx:623 [GroupCall] ğŸš€ Forcing WebRTC connection to new member 4
GroupCall.tsx:813 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 4 (4)
GroupCall.tsx:729 [GroupCall] âœ… Created and set local answer for user: 4
GroupCall.tsx:741 [GroupCall] âœ… Sent WebRTC answer to user: 4
GroupCall.tsx:437 [GroupCall] ğŸ” INSTRUMENTATION: Negotiation needed for user 4
GroupCall.tsx:169 [GroupCall] âœ… User 4(4) audio playing successfully
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1330 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 4}
GroupCall.tsx:585 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 4}
GroupCall.tsx:750 [GroupCall] ğŸ“¥ PROCESSING WEBRTC ANSWER from user: 4
GroupCall.tsx:839 [GroupCall] âœ… Sent WebRTC offer to user 4
GroupCall.tsx:765 [GroupCall] âŒ Error handling incoming answer from user 4: InvalidAccessError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: The order of m-lines in answer doesn't match order in offer. Rejecting answer.
handleIncomingWebRTCAnswer @ GroupCall.tsx:765
await in handleIncomingWebRTCAnswer
handleGroupWebRTCAnswer @ GroupCall.tsx:586
websocket.onmessage @ CallContext.tsx:1331Understand this error
GroupCall.tsx:508 [GroupCall] Connection state changed for user 4: failed
GroupCall.tsx:513 [GroupCall] âŒ Connection failed/disconnected for user 4
GroupCall.tsx:630 [GroupCall] ğŸ”„ Secondary WebRTC trigger for new member visibility
GroupCall.tsx:796 [GroupCall] ğŸš€ Initiating WebRTC connections for participants
GroupCall.tsx:813 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 3 (3)
GroupCall.tsx:839 [GroupCall] âœ… Sent WebRTC offer to user 3
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:498 [GroupCall] ğŸ”„ FORCE RE-RENDER participants for user 4
GroupCall.tsx:926 [GroupCall] ğŸ¯ Audio attachment useEffect triggered - participants count: 2
GroupCall.tsx:939 [GroupCall] â³ Waiting for User 3 - stream: false, audioRef: true
GroupCall.tsx:930 [GroupCall] ğŸ¯ CALLING attachAudioStreamExact for User 4 (UserID: 4)
GroupCall.tsx:141 [GroupCall] âœ… Setting User 4(4) stream to audio element - EXACT SAME AS AUDIOCALL
GroupCall.tsx:142 [GroupCall] User 4(4) stream details: {id: '9030395e-8b10-4cb4-90d0-3d283ccd9e0e', active: true, audioTracks: 1}
GroupCall.tsx:150 [GroupCall] User 4(4) Track 0: {kind: 'audio', enabled: true, muted: false, readyState: 'live', id: 'b4b797a4-47e1-41c0-83f1-cef6182e7196'}
GroupCall.tsx:169 [GroupCall] âœ… User 4(4) audio playing successfully
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_ice_candidate', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_ice_candidate', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_ice_candidate'}
CallContext.tsx:1337 [CallContext] Forwarding group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 4}
GroupCall.tsx:590 [GroupCall] Received group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 4}
GroupCall.tsx:770 [GroupCall] ğŸ“¥ PROCESSING ICE CANDIDATE from user: 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_ice_candidate', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_ice_candidate', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_ice_candidate'}
CallContext.tsx:1337 [CallContext] Forwarding group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 4}
GroupCall.tsx:590 [GroupCall] Received group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 4}
GroupCall.tsx:770 [GroupCall] ğŸ“¥ PROCESSING ICE CANDIDATE from user: 4
2GroupCall.tsx:784 [GroupCall] âœ… Added ICE candidate for user: 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1323 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 4}
GroupCall.tsx:580 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 4}
GroupCall.tsx:661 [GroupCall] ğŸ“¥ PROCESSING WEBRTC OFFER from user: 4
GroupCall.tsx:378 [GroupCall] Creating new peer connection for user 4
GroupCall.tsx:386 [GroupCall] ğŸ”§ TRANSCEIVER FIX: Adding audio transceiver for user 4
GroupCall.tsx:391 [GroupCall] ğŸ”§ TRANSCEIVER FIX: Audio transceiver created: {userId: 4, direction: 'sendrecv', hasLocalStream: true, transceiverMid: null}
GroupCall.tsx:405 [GroupCall] ğŸ”§ LOCAL TRACK FIX: Attached local audio track for user 4: {trackId: '05978931-a99f-4af1-b014-997637b57cfe', trackEnabled: true, streamId: '4de0e331-6d13-4d03-b96b-c33b8c25cfbc', direction: 'sendrecv'}
GroupCall.tsx:417 [GroupCall] ğŸ” INSTRUMENTATION: Peer connection setup complete for user 4: {transceivers: Array(1), senders: Array(1), receivers: Array(1)}
GroupCall.tsx:708 [GroupCall] ğŸ“Š Current senders before answer for user 4: 1
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:457 [GroupCall] ğŸ¥ RECEIVED REMOTE TRACK from user 4: audio
GroupCall.tsx:458 [GroupCall] ğŸ¥ Event streams: [MediaStream]
GroupCall.tsx:478 [GroupCall] ğŸ“¦ STORING REMOTE STREAM for user 4: {streamId: '9030395e-8b10-4cb4-90d0-3d283ccd9e0e', active: true, audioTracks: 1, videoTracks: 0, totalTracks: 1}
GroupCall.tsx:723 [GroupCall] âœ… Set remote description for offer from user: 4
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:491 [GroupCall] ğŸ“¦ Updated remoteStreams map, total streams: 1
GroupCall.tsx:326 [GroupCall] Updating participants: (3)Â [{â€¦}, {â€¦}, {â€¦}]
GroupCall.tsx:327 [GroupCall] Current user ID: 2
GroupCall.tsx:328 [GroupCall] Available remote streams: Map(1)Â {'user_4' => MediaStream}
GroupCall.tsx:332 [GroupCall] Remote streams array: [MediaStream]
GroupCall.tsx:335 [GroupCall] ğŸ” Before filtering participants: (3)Â ['User 2(2)', 'User 3(3)', 'User 4(4)']
GroupCall.tsx:336 [GroupCall] ğŸ” Current user to filter out: 2
GroupCall.tsx:339 [GroupCall] ğŸ” After filtering participants: (2)Â ['User 3(3)', 'User 4(4)']
GroupCall.tsx:345 [GroupCall] ğŸ” Mapping participant User 3 (3): {streamKey: 'user_3', hasStream: false, streamId: undefined, streamActive: undefined, audioTracks: 0}
GroupCall.tsx:345 [GroupCall] ğŸ” Mapping participant User 4 (4): {streamKey: 'user_4', hasStream: true, streamId: '9030395e-8b10-4cb4-90d0-3d283ccd9e0e', streamActive: true, audioTracks: 1}
GroupCall.tsx:362 [GroupCall] ğŸ“‹ Final participants list: (2)Â [{â€¦}, {â€¦}]
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:926 [GroupCall] ğŸ¯ Audio attachment useEffect triggered - participants count: 2
GroupCall.tsx:939 [GroupCall] â³ Waiting for User 3 - stream: false, audioRef: true
GroupCall.tsx:930 [GroupCall] ğŸ¯ CALLING attachAudioStreamExact for User 4 (UserID: 4)
GroupCall.tsx:141 [GroupCall] âœ… Setting User 4(4) stream to audio element - EXACT SAME AS AUDIOCALL
GroupCall.tsx:142 [GroupCall] User 4(4) stream details: {id: '9030395e-8b10-4cb4-90d0-3d283ccd9e0e', active: true, audioTracks: 1}
GroupCall.tsx:150 [GroupCall] User 4(4) Track 0: {kind: 'audio', enabled: true, muted: false, readyState: 'live', id: 'b4b797a4-47e1-41c0-83f1-cef6182e7196'}
GroupCall.tsx:729 [GroupCall] âœ… Created and set local answer for user: 4
GroupCall.tsx:741 [GroupCall] âœ… Sent WebRTC answer to user: 4
GroupCall.tsx:437 [GroupCall] ğŸ” INSTRUMENTATION: Negotiation needed for user 4
GroupCall.tsx:169 [GroupCall] âœ… User 4(4) audio playing successfully
GroupCall.tsx:443 [GroupCall] Sending ICE candidate to user 4
GroupCall.tsx:796 [GroupCall] ğŸš€ Initiating WebRTC connections for participants
GroupCall.tsx:813 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 3 (3)
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1323 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:580 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:661 [GroupCall] ğŸ“¥ PROCESSING WEBRTC OFFER from user: 3
GroupCall.tsx:708 [GroupCall] ğŸ“Š Current senders before answer for user 3: 2
GroupCall.tsx:839 [GroupCall] âœ… Sent WebRTC offer to user 3
GroupCall.tsx:457 [GroupCall] ğŸ¥ RECEIVED REMOTE TRACK from user 3: audio
GroupCall.tsx:458 [GroupCall] ğŸ¥ Event streams: [MediaStream]
GroupCall.tsx:478 [GroupCall] ğŸ“¦ STORING REMOTE STREAM for user 3: {streamId: 'a5401928-16f0-4e74-abb7-aaf186741be6', active: true, audioTracks: 1, videoTracks: 0, totalTracks: 1}
GroupCall.tsx:723 [GroupCall] âœ… Set remote description for offer from user: 3
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:491 [GroupCall] ğŸ“¦ Updated remoteStreams map, total streams: 2
GroupCall.tsx:326 [GroupCall] Updating participants: (3)Â [{â€¦}, {â€¦}, {â€¦}]
GroupCall.tsx:327 [GroupCall] Current user ID: 2
GroupCall.tsx:328 [GroupCall] Available remote streams: Map(2)Â {'user_4' => MediaStream, 'user_3' => MediaStream}
GroupCall.tsx:332 [GroupCall] Remote streams array: (2)Â [MediaStream, MediaStream]
GroupCall.tsx:335 [GroupCall] ğŸ” Before filtering participants: (3)Â ['User 2(2)', 'User 3(3)', 'User 4(4)']
GroupCall.tsx:336 [GroupCall] ğŸ” Current user to filter out: 2
GroupCall.tsx:339 [GroupCall] ğŸ” After filtering participants: (2)Â ['User 3(3)', 'User 4(4)']
GroupCall.tsx:345 [GroupCall] ğŸ” Mapping participant User 3 (3): {streamKey: 'user_3', hasStream: true, streamId: 'a5401928-16f0-4e74-abb7-aaf186741be6', streamActive: true, audioTracks: 1}
GroupCall.tsx:345 [GroupCall] ğŸ” Mapping participant User 4 (4): {streamKey: 'user_4', hasStream: true, streamId: '9030395e-8b10-4cb4-90d0-3d283ccd9e0e', streamActive: true, audioTracks: 1}
GroupCall.tsx:362 [GroupCall] ğŸ“‹ Final participants list: (2)Â [{â€¦}, {â€¦}]
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:926 [GroupCall] ğŸ¯ Audio attachment useEffect triggered - participants count: 2
GroupCall.tsx:930 [GroupCall] ğŸ¯ CALLING attachAudioStreamExact for User 3 (UserID: 3)
GroupCall.tsx:141 [GroupCall] âœ… Setting User 3(3) stream to audio element - EXACT SAME AS AUDIOCALL
GroupCall.tsx:142 [GroupCall] User 3(3) stream details: {id: 'a5401928-16f0-4e74-abb7-aaf186741be6', active: true, audioTracks: 1}
GroupCall.tsx:150 [GroupCall] User 3(3) Track 0: {kind: 'audio', enabled: true, muted: false, readyState: 'live', id: 'afe35110-b019-4677-a681-2120445a3f86'}
GroupCall.tsx:930 [GroupCall] ğŸ¯ CALLING attachAudioStreamExact for User 4 (UserID: 4)
GroupCall.tsx:141 [GroupCall] âœ… Setting User 4(4) stream to audio element - EXACT SAME AS AUDIOCALL
GroupCall.tsx:142 [GroupCall] User 4(4) stream details: {id: '9030395e-8b10-4cb4-90d0-3d283ccd9e0e', active: true, audioTracks: 1}
GroupCall.tsx:150 [GroupCall] User 4(4) Track 0: {kind: 'audio', enabled: true, muted: false, readyState: 'live', id: 'b4b797a4-47e1-41c0-83f1-cef6182e7196'}
GroupCall.tsx:729 [GroupCall] âœ… Created and set local answer for user: 3
GroupCall.tsx:741 [GroupCall] âœ… Sent WebRTC answer to user: 3
GroupCall.tsx:437 [GroupCall] ğŸ” INSTRUMENTATION: Negotiation needed for user 3
GroupCall.tsx:169 [GroupCall] âœ… User 3(3) audio playing successfully
GroupCall.tsx:169 [GroupCall] âœ… User 4(4) audio playing successfully
GroupCall.tsx:443 [GroupCall] Sending ICE candidate to user 3
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:498 [GroupCall] ğŸ”„ FORCE RE-RENDER participants for user 4
GroupCall.tsx:926 [GroupCall] ğŸ¯ Audio attachment useEffect triggered - participants count: 2
GroupCall.tsx:930 [GroupCall] ğŸ¯ CALLING attachAudioStreamExact for User 3 (UserID: 3)
GroupCall.tsx:141 [GroupCall] âœ… Setting User 3(3) stream to audio element - EXACT SAME AS AUDIOCALL
GroupCall.tsx:142 [GroupCall] User 3(3) stream details: {id: 'a5401928-16f0-4e74-abb7-aaf186741be6', active: true, audioTracks: 1}
GroupCall.tsx:150 [GroupCall] User 3(3) Track 0: {kind: 'audio', enabled: true, muted: false, readyState: 'live', id: 'afe35110-b019-4677-a681-2120445a3f86'}
GroupCall.tsx:930 [GroupCall] ğŸ¯ CALLING attachAudioStreamExact for User 4 (UserID: 4)
GroupCall.tsx:141 [GroupCall] âœ… Setting User 4(4) stream to audio element - EXACT SAME AS AUDIOCALL
GroupCall.tsx:142 [GroupCall] User 4(4) stream details: {id: '9030395e-8b10-4cb4-90d0-3d283ccd9e0e', active: true, audioTracks: 1}
GroupCall.tsx:150 [GroupCall] User 4(4) Track 0: {kind: 'audio', enabled: true, muted: false, readyState: 'live', id: 'b4b797a4-47e1-41c0-83f1-cef6182e7196'}
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_ice_candidate', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_ice_candidate', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_ice_candidate'}
CallContext.tsx:1337 [CallContext] Forwarding group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 3}
GroupCall.tsx:590 [GroupCall] Received group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 3}
GroupCall.tsx:770 [GroupCall] ğŸ“¥ PROCESSING ICE CANDIDATE from user: 3
GroupCall.tsx:169 [GroupCall] âœ… User 3(3) audio playing successfully
GroupCall.tsx:169 [GroupCall] âœ… User 4(4) audio playing successfully
GroupCall.tsx:784 [GroupCall] âœ… Added ICE candidate for user: 3
GroupCall.tsx:443 [GroupCall] Sending ICE candidate to user 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1330 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:585 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:750 [GroupCall] ğŸ“¥ PROCESSING WEBRTC ANSWER from user: 3
GroupCall.tsx:765 [GroupCall] âŒ Error handling incoming answer from user 3: InvalidStateError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: Called in wrong state: stable
handleIncomingWebRTCAnswer @ GroupCall.tsx:765
await in handleIncomingWebRTCAnswer
handleGroupWebRTCAnswer @ GroupCall.tsx:586
websocket.onmessage @ CallContext.tsx:1331Understand this error
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1323 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:580 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:661 [GroupCall] ğŸ“¥ PROCESSING WEBRTC OFFER from user: 3
GroupCall.tsx:708 [GroupCall] ğŸ“Š Current senders before answer for user 3: 2
GroupCall.tsx:723 [GroupCall] âœ… Set remote description for offer from user: 3
GroupCall.tsx:729 [GroupCall] âœ… Created and set local answer for user: 3
GroupCall.tsx:741 [GroupCall] âœ… Sent WebRTC answer to user: 3
GroupCall.tsx:437 [GroupCall] ğŸ” INSTRUMENTATION: Negotiation needed for user 3
GroupCall.tsx:813 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 4 (4)
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:498 [GroupCall] ğŸ”„ FORCE RE-RENDER participants for user 3
GroupCall.tsx:926 [GroupCall] ğŸ¯ Audio attachment useEffect triggered - participants count: 2
GroupCall.tsx:930 [GroupCall] ğŸ¯ CALLING attachAudioStreamExact for User 3 (UserID: 3)
GroupCall.tsx:141 [GroupCall] âœ… Setting User 3(3) stream to audio element - EXACT SAME AS AUDIOCALL
GroupCall.tsx:142 [GroupCall] User 3(3) stream details: {id: 'a5401928-16f0-4e74-abb7-aaf186741be6', active: true, audioTracks: 1}
GroupCall.tsx:150 [GroupCall] User 3(3) Track 0: {kind: 'audio', enabled: true, muted: false, readyState: 'live', id: 'afe35110-b019-4677-a681-2120445a3f86'}
GroupCall.tsx:930 [GroupCall] ğŸ¯ CALLING attachAudioStreamExact for User 4 (UserID: 4)
GroupCall.tsx:141 [GroupCall] âœ… Setting User 4(4) stream to audio element - EXACT SAME AS AUDIOCALL
GroupCall.tsx:142 [GroupCall] User 4(4) stream details: {id: '9030395e-8b10-4cb4-90d0-3d283ccd9e0e', active: true, audioTracks: 1}
GroupCall.tsx:150 [GroupCall] User 4(4) Track 0: {kind: 'audio', enabled: true, muted: false, readyState: 'live', id: 'b4b797a4-47e1-41c0-83f1-cef6182e7196'}
GroupCall.tsx:839 [GroupCall] âœ… Sent WebRTC offer to user 4
GroupCall.tsx:169 [GroupCall] âœ… User 3(3) audio playing successfully
GroupCall.tsx:443 [GroupCall] Sending ICE candidate to user 3
GroupCall.tsx:169 [GroupCall] âœ… User 4(4) audio playing successfully
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1330 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 4}
GroupCall.tsx:585 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 4}
GroupCall.tsx:750 [GroupCall] ğŸ“¥ PROCESSING WEBRTC ANSWER from user: 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_ice_candidate', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_ice_candidate', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_ice_candidate'}
CallContext.tsx:1337 [CallContext] Forwarding group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 4}
GroupCall.tsx:590 [GroupCall] Received group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 4}
GroupCall.tsx:770 [GroupCall] ğŸ“¥ PROCESSING ICE CANDIDATE from user: 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_ice_candidate', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_ice_candidate', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_ice_candidate'}
CallContext.tsx:1337 [CallContext] Forwarding group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 4}
GroupCall.tsx:590 [GroupCall] Received group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 4}
GroupCall.tsx:770 [GroupCall] ğŸ“¥ PROCESSING ICE CANDIDATE from user: 4
GroupCall.tsx:765 [GroupCall] âŒ Error handling incoming answer from user 4: InvalidAccessError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: The order of m-lines in answer doesn't match order in offer. Rejecting answer.
handleIncomingWebRTCAnswer @ GroupCall.tsx:765
await in handleIncomingWebRTCAnswer
handleGroupWebRTCAnswer @ GroupCall.tsx:586
websocket.onmessage @ CallContext.tsx:1331Understand this error
2GroupCall.tsx:784 [GroupCall] âœ… Added ICE candidate for user: 4
GroupCall.tsx:508 [GroupCall] Connection state changed for user 4: connecting
CallContext.tsx:1156 [CallContext] Received message: {type: 'force_webrtc_reconnect', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'force_webrtc_reconnect', hasPayload: true, messageKeys: Array(2), routingToCase: 'force_webrtc_reconnect'}
CallContext.tsx:1277 [CallContext] ğŸ”¥ ROUTING: force_webrtc_reconnect case matched, calling handleInitiateGroupWebRTC
CallContext.tsx:2462 [CallContext] ğŸš€ Group WebRTC initiation received: {type: 'force_webrtc_reconnect', payload: {â€¦}}
CallContext.tsx:2469 [CallContext] ğŸ” DEBUG handleInitiateGroupWebRTC: {currentActiveCall: {â€¦}, activeCallFromState: null, messageCallId: 'group_call_1757932537742_38_2', messageParticipants: Array(3)}
CallContext.tsx:2509 [CallContext] ğŸ¯ Auto-triggering WebRTC setup for group call participants: (3)Â [{â€¦}, {â€¦}, {â€¦}]
GroupCall.tsx:595 [GroupCall] Initiating WebRTC for group call: {callId: 'group_call_1757932537742_38_2', participants: Array(3), forceInit: true, newMember: 4, activeCall: {â€¦}}
GroupCall.tsx:796 [GroupCall] ğŸš€ Initiating WebRTC connections for participants
GroupCall.tsx:813 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 3 (3)
CallContext.tsx:2524 [CallContext] ğŸ”„ Server forced WebRTC initiation for new member 4
CallContext.tsx:2540 [CallContext] âœ… WebRTC auto-initiation event dispatched
GroupCall.tsx:839 [GroupCall] âœ… Sent WebRTC offer to user 3
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1330 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:585 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:750 [GroupCall] ğŸ“¥ PROCESSING WEBRTC ANSWER from user: 3
GroupCall.tsx:765 [GroupCall] âŒ Error handling incoming answer from user 3: InvalidAccessError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: The order of m-lines in answer doesn't match order in offer. Rejecting answer.
handleIncomingWebRTCAnswer @ GroupCall.tsx:765
await in handleIncomingWebRTCAnswer
handleGroupWebRTCAnswer @ GroupCall.tsx:586
websocket.onmessage @ CallContext.tsx:1331Understand this error
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1330 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:585 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:750 [GroupCall] ğŸ“¥ PROCESSING WEBRTC ANSWER from user: 3
GroupCall.tsx:765 [GroupCall] âŒ Error handling incoming answer from user 3: InvalidAccessError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: The order of m-lines in answer doesn't match order in offer. Rejecting answer.
handleIncomingWebRTCAnswer @ GroupCall.tsx:765
await in handleIncomingWebRTCAnswer
handleGroupWebRTCAnswer @ GroupCall.tsx:586
websocket.onmessage @ CallContext.tsx:1331Understand this error
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1330 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 4}
GroupCall.tsx:585 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 4}
GroupCall.tsx:750 [GroupCall] ğŸ“¥ PROCESSING WEBRTC ANSWER from user: 4
GroupCall.tsx:765 [GroupCall] âŒ Error handling incoming answer from user 4: InvalidAccessError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: The order of m-lines in answer doesn't match order in offer. Rejecting answer.
handleIncomingWebRTCAnswer @ GroupCall.tsx:765
await in handleIncomingWebRTCAnswer
handleGroupWebRTCAnswer @ GroupCall.tsx:586
websocket.onmessage @ CallContext.tsx:1331Understand this error
GroupCall.tsx:620 [GroupCall] ğŸ”„ Force WebRTC reconnect triggered for new member: {callId: 'group_call_1757932537742_38_2', participants: Array(3), newMember: 4, forceInit: true, fromServer: true}
GroupCall.tsx:623 [GroupCall] ğŸš€ Forcing WebRTC connection to new member 4
GroupCall.tsx:813 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 4 (4)
GroupCall.tsx:839 [GroupCall] âœ… Sent WebRTC offer to user 4
GroupCall.tsx:630 [GroupCall] ğŸ”„ Secondary WebRTC trigger for new member visibility
GroupCall.tsx:796 [GroupCall] ğŸš€ Initiating WebRTC connections for participants
GroupCall.tsx:813 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 3 (3)
GroupCall.tsx:839 [GroupCall] âœ… Sent WebRTC offer to user 3
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1323 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:580 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:661 [GroupCall] ğŸ“¥ PROCESSING WEBRTC OFFER from user: 3
GroupCall.tsx:708 [GroupCall] ğŸ“Š Current senders before answer for user 3: 3
GroupCall.tsx:723 [GroupCall] âœ… Set remote description for offer from user: 3
GroupCall.tsx:729 [GroupCall] âœ… Created and set local answer for user: 3
GroupCall.tsx:741 [GroupCall] âœ… Sent WebRTC answer to user: 3
GroupCall.tsx:437 [GroupCall] ğŸ” INSTRUMENTATION: Negotiation needed for user 3
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1330 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:585 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:750 [GroupCall] ğŸ“¥ PROCESSING WEBRTC ANSWER from user: 3
GroupCall.tsx:765 [GroupCall] âŒ Error handling incoming answer from user 3: InvalidStateError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: Called in wrong state: stable
handleIncomingWebRTCAnswer @ GroupCall.tsx:765
await in handleIncomingWebRTCAnswer
handleGroupWebRTCAnswer @ GroupCall.tsx:586
websocket.onmessage @ CallContext.tsx:1331Understand this error
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1323 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 4}
GroupCall.tsx:580 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 4}
GroupCall.tsx:661 [GroupCall] ğŸ“¥ PROCESSING WEBRTC OFFER from user: 4
GroupCall.tsx:708 [GroupCall] ğŸ“Š Current senders before answer for user 4: 3
GroupCall.tsx:745 [GroupCall] âŒ Error handling incoming offer from user 4: InvalidAccessError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote offer sdp: The order of m-lines in subsequent offer doesn't match order from previous offer/answer.
handleIncomingWebRTCOffer @ GroupCall.tsx:745
await in handleIncomingWebRTCOffer
handleGroupWebRTCOffer @ GroupCall.tsx:581
websocket.onmessage @ CallContext.tsx:1324Understand this error
GroupCall.tsx:813 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 4 (4)
GroupCall.tsx:508 [GroupCall] Connection state changed for user 3: connected
GroupCall.tsx:511 [GroupCall] âœ… Successfully connected to user 3
GroupCall.tsx:839 [GroupCall] âœ… Sent WebRTC offer to user 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1323 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:580 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:661 [GroupCall] ğŸ“¥ PROCESSING WEBRTC OFFER from user: 3
GroupCall.tsx:708 [GroupCall] ğŸ“Š Current senders before answer for user 3: 3
GroupCall.tsx:723 [GroupCall] âœ… Set remote description for offer from user: 3
GroupCall.tsx:729 [GroupCall] âœ… Created and set local answer for user: 3
GroupCall.tsx:741 [GroupCall] âœ… Sent WebRTC answer to user: 3
GroupCall.tsx:437 [GroupCall] ğŸ” INSTRUMENTATION: Negotiation needed for user 3
GroupCall.tsx:661 [GroupCall] ğŸ“¥ PROCESSING WEBRTC OFFER from user: 4
GroupCall.tsx:708 [GroupCall] ğŸ“Š Current senders before answer for user 4: 3
GroupCall.tsx:745 [GroupCall] âŒ Error handling incoming offer from user 4: InvalidAccessError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote offer sdp: The order of m-lines in subsequent offer doesn't match order from previous offer/answer.
handleIncomingWebRTCOffer @ GroupCall.tsx:745
await in handleIncomingWebRTCOffer
(anonymous) @ GroupCall.tsx:672
setTimeout
handleIncomingWebRTCOffer @ GroupCall.tsx:672
handleGroupWebRTCOffer @ GroupCall.tsx:581
websocket.onmessage @ CallContext.tsx:1324Understand this error
GroupCall.tsx:796 [GroupCall] ğŸš€ Initiating WebRTC connections for participants
GroupCall.tsx:813 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 3 (3)
GroupCall.tsx:839 [GroupCall] âœ… Sent WebRTC offer to user 3
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1330 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:585 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:750 [GroupCall] ğŸ“¥ PROCESSING WEBRTC ANSWER from user: 3
GroupCall.tsx:765 [GroupCall] âŒ Error handling incoming answer from user 3: InvalidAccessError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: The order of m-lines in answer doesn't match order in offer. Rejecting answer.
handleIncomingWebRTCAnswer @ GroupCall.tsx:765
await in handleIncomingWebRTCAnswer
handleGroupWebRTCAnswer @ GroupCall.tsx:586
websocket.onmessage @ CallContext.tsx:1331Understand this error
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1323 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 4}
GroupCall.tsx:580 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 4}
GroupCall.tsx:661 [GroupCall] ğŸ“¥ PROCESSING WEBRTC OFFER from user: 4
GroupCall.tsx:708 [GroupCall] ğŸ“Š Current senders before answer for user 4: 3
GroupCall.tsx:745 [GroupCall] âŒ Error handling incoming offer from user 4: InvalidAccessError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote offer sdp: The order of m-lines in subsequent offer doesn't match order from previous offer/answer.
handleIncomingWebRTCOffer @ GroupCall.tsx:745
await in handleIncomingWebRTCOffer
handleGroupWebRTCOffer @ GroupCall.tsx:581
websocket.onmessage @ CallContext.tsx:1324Understand this error
GroupCall.tsx:813 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 4 (4)
GroupCall.tsx:839 [GroupCall] âœ… Sent WebRTC offer to user 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1330 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:585 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:750 [GroupCall] ğŸ“¥ PROCESSING WEBRTC ANSWER from user: 3
GroupCall.tsx:765 [GroupCall] âŒ Error handling incoming answer from user 3: InvalidAccessError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: The order of m-lines in answer doesn't match order in offer. Rejecting answer.
handleIncomingWebRTCAnswer @ GroupCall.tsx:765
await in handleIncomingWebRTCAnswer
handleGroupWebRTCAnswer @ GroupCall.tsx:586
websocket.onmessage @ CallContext.tsx:1331Understand this error
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1323 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:580 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:661 [GroupCall] ğŸ“¥ PROCESSING WEBRTC OFFER from user: 3
GroupCall.tsx:708 [GroupCall] ğŸ“Š Current senders before answer for user 3: 3
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_ice_candidate', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_ice_candidate', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_ice_candidate'}
CallContext.tsx:1337 [CallContext] Forwarding group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 3}
GroupCall.tsx:590 [GroupCall] Received group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 3}
GroupCall.tsx:770 [GroupCall] ğŸ“¥ PROCESSING ICE CANDIDATE from user: 3
GroupCall.tsx:630 [GroupCall] ğŸ”„ Secondary WebRTC trigger for new member visibility
GroupCall.tsx:796 [GroupCall] ğŸš€ Initiating WebRTC connections for participants
GroupCall.tsx:813 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 3 (3)
GroupCall.tsx:723 [GroupCall] âœ… Set remote description for offer from user: 3
GroupCall.tsx:784 [GroupCall] âœ… Added ICE candidate for user: 3
GroupCall.tsx:845 [GroupCall] âŒ Failed to create WebRTC connection for user 3: InvalidStateError: Failed to execute 'setLocalDescription' on 'RTCPeerConnection': Failed to set local offer sdp: Called in wrong state: have-remote-offer
initiateWebRTCConnections @ GroupCall.tsx:845
await in initiateWebRTCConnections
(anonymous) @ GroupCall.tsx:631
setTimeout
handleForceWebRTCReconnect @ GroupCall.tsx:629
(anonymous) @ CallContext.tsx:2528
setTimeout
handleInitiateGroupWebRTC @ CallContext.tsx:2527
websocket.onmessage @ CallContext.tsx:1274Understand this error
GroupCall.tsx:729 [GroupCall] âœ… Created and set local answer for user: 3
GroupCall.tsx:741 [GroupCall] âœ… Sent WebRTC answer to user: 3
GroupCall.tsx:437 [GroupCall] ğŸ” INSTRUMENTATION: Negotiation needed for user 3
GroupCall.tsx:443 [GroupCall] Sending ICE candidate to user 3
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1330 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:585 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:750 [GroupCall] ğŸ“¥ PROCESSING WEBRTC ANSWER from user: 3
GroupCall.tsx:765 [GroupCall] âŒ Error handling incoming answer from user 3: InvalidStateError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: Called in wrong state: stable
handleIncomingWebRTCAnswer @ GroupCall.tsx:765
await in handleIncomingWebRTCAnswer
handleGroupWebRTCAnswer @ GroupCall.tsx:586
websocket.onmessage @ CallContext.tsx:1331Understand this error
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_ice_candidate', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_ice_candidate', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_ice_candidate'}
CallContext.tsx:1337 [CallContext] Forwarding group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 3}
GroupCall.tsx:590 [GroupCall] Received group WebRTC ICE candidate: {callId: 'group_call_1757932537742_38_2', candidate: {â€¦}, fromUserId: 3}
GroupCall.tsx:770 [GroupCall] ğŸ“¥ PROCESSING ICE CANDIDATE from user: 3
GroupCall.tsx:784 [GroupCall] âœ… Added ICE candidate for user: 3
GroupCall.tsx:813 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 4 (4)
GroupCall.tsx:839 [GroupCall] âœ… Sent WebRTC offer to user 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1323 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 4}
GroupCall.tsx:580 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 4}
GroupCall.tsx:661 [GroupCall] ğŸ“¥ PROCESSING WEBRTC OFFER from user: 4
GroupCall.tsx:708 [GroupCall] ğŸ“Š Current senders before answer for user 4: 3
GroupCall.tsx:745 [GroupCall] âŒ Error handling incoming offer from user 4: InvalidAccessError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote offer sdp: The order of m-lines in subsequent offer doesn't match order from previous offer/answer.
handleIncomingWebRTCOffer @ GroupCall.tsx:745
await in handleIncomingWebRTCOffer
handleGroupWebRTCOffer @ GroupCall.tsx:581
websocket.onmessage @ CallContext.tsx:1324Understand this error
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1323 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:580 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:661 [GroupCall] ğŸ“¥ PROCESSING WEBRTC OFFER from user: 3
GroupCall.tsx:708 [GroupCall] ğŸ“Š Current senders before answer for user 3: 4
GroupCall.tsx:723 [GroupCall] âœ… Set remote description for offer from user: 3
GroupCall.tsx:729 [GroupCall] âœ… Created and set local answer for user: 3
GroupCall.tsx:741 [GroupCall] âœ… Sent WebRTC answer to user: 3
GroupCall.tsx:437 [GroupCall] ğŸ” INSTRUMENTATION: Negotiation needed for user 3
GroupCall.tsx:630 [GroupCall] ğŸ”„ Secondary WebRTC trigger for new member visibility
GroupCall.tsx:796 [GroupCall] ğŸš€ Initiating WebRTC connections for participants
GroupCall.tsx:813 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 3 (3)
GroupCall.tsx:839 [GroupCall] âœ… Sent WebRTC offer to user 3
GroupCall.tsx:813 [GroupCall] ğŸ¯ Creating WebRTC connection for participant: User 4 (4)
GroupCall.tsx:839 [GroupCall] âœ… Sent WebRTC offer to user 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1323 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:580 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 3}
GroupCall.tsx:661 [GroupCall] ğŸ“¥ PROCESSING WEBRTC OFFER from user: 3
GroupCall.tsx:708 [GroupCall] ğŸ“Š Current senders before answer for user 3: 4
GroupCall.tsx:723 [GroupCall] âœ… Set remote description for offer from user: 3
GroupCall.tsx:729 [GroupCall] âœ… Created and set local answer for user: 3
GroupCall.tsx:741 [GroupCall] âœ… Sent WebRTC answer to user: 3
GroupCall.tsx:437 [GroupCall] ğŸ” INSTRUMENTATION: Negotiation needed for user 3
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1330 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:585 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757932537742_38_2', answer: {â€¦}, fromUserId: 3}
GroupCall.tsx:750 [GroupCall] ğŸ“¥ PROCESSING WEBRTC ANSWER from user: 3
GroupCall.tsx:765 [GroupCall] âŒ Error handling incoming answer from user 3: InvalidStateError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: Called in wrong state: stable
handleIncomingWebRTCAnswer @ GroupCall.tsx:765
await in handleIncomingWebRTCAnswer
handleGroupWebRTCAnswer @ GroupCall.tsx:586
websocket.onmessage @ CallContext.tsx:1331Understand this error
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1323 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 4}
GroupCall.tsx:580 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757932537742_38_2', offer: {â€¦}, fromUserId: 4}
GroupCall.tsx:661 [GroupCall] ğŸ“¥ PROCESSING WEBRTC OFFER from user: 4
GroupCall.tsx:708 [GroupCall] ğŸ“Š Current senders before answer for user 4: 3
GroupCall.tsx:745 [GroupCall] âŒ Error handling incoming offer from user 4: InvalidAccessError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote offer sdp: The order of m-lines in subsequent offer doesn't match order from previous offer/answer.
handleIncomingWebRTCOffer @ GroupCall.tsx:745
await in handleIncomingWebRTCOffer
handleGroupWebRTCOffer @ GroupCall.tsx:581
websocket.onmessage @ CallContext.tsx:1324Understand this error
GroupCall.tsx:536 [GroupCall] ğŸ” STATS: User 3 audio reception: {bytesReceived: 5380, connectionState: 'connected', iceConnectionState: 'connected'}
GroupCall.tsx:536 [GroupCall] ğŸ” STATS: User 4 audio reception: {bytesReceived: 0, connectionState: 'failed', iceConnectionState: 'connected'}
GroupCall.tsx:536 [GroupCall] ğŸ” STATS: User 4 audio reception: {bytesReceived: 0, connectionState: 'connecting', iceConnectionState: 'checking'}
GroupCall.tsx:536 [GroupCall] ğŸ” STATS: User 3 audio reception: {bytesReceived: 16607, connectionState: 'connected', iceConnectionState: 'connected'}
GroupCall.tsx:536 [GroupCall] ğŸ” STATS: User 4 audio reception: {bytesReceived: 0, connectionState: 'failed', iceConnectionState: 'connected'}
GroupCall.tsx:536 [GroupCall] ğŸ” STATS: User 4 audio reception: {bytesReceived: 0, connectionState: 'connecting', iceConnectionState: 'checking'}
sw.js:194 [SW] Message received: {type: 'KEEP_ALIVE'}
sw.js:201 Uncaught TypeError: Cannot read properties of undefined (reading 'postMessage')
    at sw.js:201:22
(anonymous) @ sw.js:201Understand this error
GroupCall.tsx:536 [GroupCall] ğŸ” STATS: User 3 audio reception: {bytesReceived: 26603, connectionState: 'connected', iceConnectionState: 'connected'}
GroupCall.tsx:536 [GroupCall] ğŸ” STATS: User 4 audio reception: {bytesReceived: 0, connectionState: 'failed', iceConnectionState: 'disconnected'}
GroupCall.tsx:536 [GroupCall] ğŸ” STATS: User 4 audio reception: {bytesReceived: 0, connectionState: 'connecting', iceConnectionState: 'checking'}
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_call_user_left', userId: 4, roomId: 38, callType: 'audio'}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_call_user_left', hasPayload: false, messageKeys: Array(4), routingToCase: 'group_call_user_left'}
CallContext.tsx:2153 [CallContext] User left group call: {type: 'group_call_user_left', userId: 4, roomId: 38, callType: 'audio'}
CallContext.tsx:2160 [CallContext] Removing user 4 from group call participants
CallContext.tsx:2174 [CallContext] Updated participants after user 4 left: (2)Â [{â€¦}, {â€¦}]
CallContext.tsx:2182 [CallContext] 2 participant(s) remaining, call continues
CallContext.tsx:4676 [CallContext] ğŸ”¥ PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:326 [GroupCall] Updating participants: (2)Â [{â€¦}, {â€¦}]
GroupCall.tsx:327 [GroupCall] Current user ID: 2
GroupCall.tsx:328 [GroupCall] Available remote streams: Map(2)Â {'user_4' => MediaStream, 'user_3' => MediaStream}
GroupCall.tsx:332 [GroupCall] Remote streams array: (2)Â [MediaStream, MediaStream]
GroupCall.tsx:335 [GroupCall] ğŸ” Before filtering participants: (2)Â ['User 2(2)', 'User 3(3)']
GroupCall.tsx:336 [GroupCall] ğŸ” Current user to filter out: 2
GroupCall.tsx:339 [GroupCall] ğŸ” After filtering participants: ['User 3(3)']
GroupCall.tsx:345 [GroupCall] ğŸ” Mapping participant User 3 (3): {streamKey: 'user_3', hasStream: true, streamId: 'a5401928-16f0-4e74-abb7-aaf186741be6', streamActive: true, audioTracks: 1}
GroupCall.tsx:362 [GroupCall] ğŸ“‹ Final participants list: [{â€¦}]
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:926 [GroupCall] ğŸ¯ Audio attachment useEffect triggered - participants count: 1
GroupCall.tsx:930 [GroupCall] ğŸ¯ CALLING attachAudioStreamExact for User 3 (UserID: 3)
GroupCall.tsx:141 [GroupCall] âœ… Setting User 3(3) stream to audio element - EXACT SAME AS AUDIOCALL
GroupCall.tsx:142 [GroupCall] User 3(3) stream details: {id: 'a5401928-16f0-4e74-abb7-aaf186741be6', active: true, audioTracks: 1}
GroupCall.tsx:150 [GroupCall] User 3(3) Track 0: {kind: 'audio', enabled: true, muted: false, readyState: 'live', id: 'afe35110-b019-4677-a681-2120445a3f86'}
GroupCall.tsx:169 [GroupCall] âœ… User 3(3) audio playing successfully
CallContext.tsx:1156 [CallContext] Received message: {type: 'user_status', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'user_status', hasPayload: true, messageKeys: Array(2), routingToCase: 'user_status'}
CallContext.tsx:1223 [CallContext] Received user status update: {userId: 4, status: 'offline'}
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_call_user_left', userId: 3, roomId: 38, callType: 'audio'}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'group_call_user_left', hasPayload: false, messageKeys: Array(4), routingToCase: 'group_call_user_left'}
CallContext.tsx:2153 [CallContext] User left group call: {type: 'group_call_user_left', userId: 3, roomId: 38, callType: 'audio'}
CallContext.tsx:2160 [CallContext] Removing user 3 from group call participants
CallContext.tsx:2174 [CallContext] Updated participants after user 3 left: [{â€¦}]
CallContext.tsx:2182 [CallContext] 1 participant(s) remaining, call continues
CallContext.tsx:4676 [CallContext] ğŸ”¥ PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:326 [GroupCall] Updating participants: [{â€¦}]
GroupCall.tsx:327 [GroupCall] Current user ID: 2
GroupCall.tsx:328 [GroupCall] Available remote streams: Map(2)Â {'user_4' => MediaStream, 'user_3' => MediaStream}
GroupCall.tsx:332 [GroupCall] Remote streams array: (2)Â [MediaStream, MediaStream]
GroupCall.tsx:335 [GroupCall] ğŸ” Before filtering participants: ['User 2(2)']
GroupCall.tsx:336 [GroupCall] ğŸ” Current user to filter out: 2
GroupCall.tsx:339 [GroupCall] ğŸ” After filtering participants: []
GroupCall.tsx:362 [GroupCall] ğŸ“‹ Final participants list: []
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupCall.tsx:926 [GroupCall] ğŸ¯ Audio attachment useEffect triggered - participants count: 0
CallContext.tsx:1156 [CallContext] Received message: {type: 'user_status', payload: {â€¦}}
CallContext.tsx:1159 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'user_status', hasPayload: true, messageKeys: Array(2), routingToCase: 'user_status'}
CallContext.tsx:1223 [CallContext] Received user status update: {userId: 3, status: 'offline'}