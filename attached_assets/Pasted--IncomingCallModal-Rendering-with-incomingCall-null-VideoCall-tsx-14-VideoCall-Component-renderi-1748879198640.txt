[IncomingCallModal] Rendering with incomingCall: null
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748879117785_4_3', callType: 'video', status: 'calling', isIncoming: false, peerUserId: 3,¬†‚Ä¶}
VideoCall.tsx:18 [VideoCall] Local stream changed: MediaStream¬†{id: 'fd61fad4-e3f4-466e-ba84-3e33291581cd', active: true, onaddtrack: null, onremovetrack: null, onactive: null,¬†‚Ä¶}
VideoCall.tsx:21 [VideoCall] Local stream attached to video element
VideoCall.tsx:27 [VideoCall] Remote stream changed: null
CallContext.tsx:227 [CallContext] Received message: {type: 'webrtc_answer', callId: 'call_1748879117785_4_3', answer: {‚Ä¶}}
CallContext.tsx:251 [CallContext] üéØ Processing webrtc_answer message: {type: 'webrtc_answer', callId: 'call_1748879117785_4_3', answer: {‚Ä¶}}
CallContext.tsx:814 [CallContext] üì° Received WebRTC answer for callId: call_1748879117785_4_3
CallContext.tsx:818 [CallContext] Current activeCall for answer: call_1748879117785_4_3
CallContext.tsx:831 [CallContext] üì° Setting remote description (answer) on caller side
CallContext.tsx:833 [CallContext] ‚úÖ Remote description (answer) set successfully on caller side
CallContext.tsx:836 [CallContext] üéØ Waiting for ontrack event to provide remote stream to caller...
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748879117785_4_3', callType: 'video', status: 'calling', isIncoming: false, peerUserId: 3,¬†‚Ä¶}
CallContext.tsx:195 [CallContext] Creating stable WebSocket for calls...
CallContext.tsx:264 [CallContext] WebSocket disconnected
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748879117785_4_3', callType: 'video', status: 'calling', isIncoming: false, peerUserId: 3,¬†‚Ä¶}
CallContext.tsx:202 [CallContext] WebSocket connected successfully for calls
CallContext.tsx:213 [CallContext] Authenticated user 4 with WebSocket
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748879117785_4_3', callType: 'video', status: 'calling', isIncoming: false, peerUserId: 3,¬†‚Ä¶}
CallContext.tsx:227 [CallContext] Received message: {type: 'user_status', payload: {‚Ä¶}}
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748879117785_4_3', callType: 'video', status: 'calling', isIncoming: false, peerUserId: 3,¬†‚Ä¶}
CallContext.tsx:195 [CallContext] Creating stable WebSocket for calls...
CallContext.tsx:264 [CallContext] WebSocket disconnected
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748879117785_4_3', callType: 'video', status: 'calling', isIncoming: false, peerUserId: 3,¬†‚Ä¶}
CallContext.tsx:202 [CallContext] WebSocket connected successfully for calls
CallContext.tsx:213 [CallContext] Authenticated user 4 with WebSocket
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748879117785_4_3', callType: 'video', status: 'calling', isIncoming: false, peerUserId: 3,¬†‚Ä¶}
CallContext.tsx:227 [CallContext] Received message: {type: 'user_status', payload: {‚Ä¶}}
CallContext.tsx:227 [CallContext] Received message: {type: 'call_accepted', payload: {‚Ä¶}}
CallContext.tsx:498 [CallContext] Call accepted, payload: {callId: 'call_1748879117785_4_3'}
CallContext.tsx:499 [CallContext] Current activeCall (state): {callId: 'call_1748879117785_4_3', callType: 'video', status: 'calling', isIncoming: false, peerUserId: 3,¬†‚Ä¶}
CallContext.tsx:500 [CallContext] Current activeCall (ref): {callId: 'call_1748879117785_4_3', callType: 'video', status: 'calling', isIncoming: false, peerUserId: 3,¬†‚Ä¶}
CallContext.tsx:501 [CallContext] Current incomingCall: null
CallContext.tsx:507 [CallContext] Updating call status to connected
CallContext.tsx:510 [CallContext] Stopping ALL ringtone sources - call accepted
CallContext.tsx:520 [CallContext] ‚úÖ HTML5 ringtone force stopped
CallContext.tsx:571 [CallContext] Waiting for receiver to be ready for WebRTC...
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748879117785_4_3', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 3,¬†‚Ä¶}
VideoCall.tsx:63 [VideoCall] Setting up call duration timer
CallContext.tsx:227 [CallContext] Received message: {type: 'webrtc_ready', payload: {‚Ä¶}}
CallContext.tsx:607 [CallContext] Received WebRTC ready signal, payload: {callId: 'call_1748879117785_4_3'}
CallContext.tsx:608 [CallContext] Current activeCall (state): {callId: 'call_1748879117785_4_3', callType: 'video', status: 'calling', isIncoming: false, peerUserId: 3,¬†‚Ä¶}
CallContext.tsx:609 [CallContext] Current activeCall (ref): {callId: 'call_1748879117785_4_3', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 3,¬†‚Ä¶}
CallContext.tsx:615 [CallContext] ‚úÖ Found activeCall and peerConnection for WebRTC ready
CallContext.tsx:621 [CallContext] ‚úÖ Cleared fallback timeout - received ready signal
CallContext.tsx:626 [CallContext] Creating WebRTC offer after receiver ready...
CallContext.tsx:629 [CallContext] Local description set successfully
CallContext.tsx:642 [CallContext] ‚ö†Ô∏è WebSocket not ready, using HTTP API fallback
CallContext.tsx:659 [CallContext] ‚úÖ Sent WebRTC offer via HTTP API fallback
CallContext.tsx:227 [CallContext] Received message: {type: 'webrtc_answer', callId: 'call_1748879117785_4_3', answer: {‚Ä¶}}
CallContext.tsx:251 [CallContext] üéØ Processing webrtc_answer message: {type: 'webrtc_answer', callId: 'call_1748879117785_4_3', answer: {‚Ä¶}}
CallContext.tsx:814 [CallContext] üì° Received WebRTC answer for callId: call_1748879117785_4_3
CallContext.tsx:818 [CallContext] Current activeCall for answer: call_1748879117785_4_3
CallContext.tsx:831 [CallContext] üì° Setting remote description (answer) on caller side
CallContext.tsx:975 [CallContext] üì° CALLER: Received remote stream in startCall
CallContext.tsx:977 [CallContext] üì° CALLER: Remote stream details: {id: '6f1df744-35f7-4c67-8536-fbb289286173', active: true, audioTracks: 1, videoTracks: 1}
CallContext.tsx:985 [CallContext] üì° CALLER: Storing remote stream globally
CallContext.tsx:975 [CallContext] üì° CALLER: Received remote stream in startCall
CallContext.tsx:977 [CallContext] üì° CALLER: Remote stream details: {id: '6f1df744-35f7-4c67-8536-fbb289286173', active: true, audioTracks: 1, videoTracks: 1}
CallContext.tsx:985 [CallContext] üì° CALLER: Storing remote stream globally
CallContext.tsx:833 [CallContext] ‚úÖ Remote description (answer) set successfully on caller side
CallContext.tsx:836 [CallContext] üéØ Waiting for ontrack event to provide remote stream to caller...
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748879117785_4_3', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 3,¬†‚Ä¶}
VideoCall.tsx:27 [VideoCall] Remote stream changed: MediaStream¬†{id: '6f1df744-35f7-4c67-8536-fbb289286173', active: true, onaddtrack: null, onremovetrack: null, onactive: null,¬†‚Ä¶}
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748879117785_4_3', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 3,¬†‚Ä¶}
2CallContext.tsx:1000 [CallContext] ‚ùå CALLER: Remote audio element not found in startCall
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748879117785_4_3', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 3,¬†‚Ä¶}
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748879117785_4_3', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 3,¬†‚Ä¶}
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748879117785_4_3', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 3,¬†‚Ä¶}
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748879117785_4_3', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 3,¬†‚Ä¶}
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748879117785_4_3', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 3,¬†‚Ä¶}
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748879117785_4_3', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 3,¬†‚Ä¶}