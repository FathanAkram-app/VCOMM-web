Starting group video call for group: Alpha
CallContext.tsx:2027 [CallContext] Starting group call: {groupId: 37, groupName: 'Alpha', callType: 'video'}
CallContext.tsx:11 [CallContext] Mobile compatibility check: {isMobile: false, isHTTPS: true, userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWeb…KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', hasMediaDevices: ƒ}
CallContext.tsx:2038 [CallContext] Mobile compatibility check for group call: {isMobile: false, isHTTPS: true, hasMediaDevices: ƒ}
CallContext.tsx:2061 [CallContext] Requesting media permissions for group call...
CallContext.tsx:2063 [CallContext] Got local media stream for group call
CallContext.tsx:2114 [CallContext] Group call invitation sent
ChatRoom.tsx:634 Processing message data for grouping: (3) [{…}, {…}, {…}]
ChatRoom.tsx:635 Total messages to process: 3
ChatRoom.tsx:707 Grouped messages: [{…}]
ChatRoom.tsx:708 Total date groups: 1
ChatRoom.tsx:710 Total messages in first group: 3
IncomingCallModal.tsx:8 [IncomingCallModal] Rendering with incomingCall: null
GroupVideoCall.tsx:48 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749098186259_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:49 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:50 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:51 [GroupVideoCall] localStream: null
GroupVideoCall.tsx:57 [GroupVideoCall] Getting local media stream...
GroupVideoCall.tsx:123 [GroupVideoCall] Processing participants from activeCall: []
GroupVideoCall.tsx:132 [GroupVideoCall] Other participants: []
GroupVideoCall.tsx:153 [GroupVideoCall] Updated participants list: []
ChatRoom.tsx:634 Processing message data for grouping: (3) [{…}, {…}, {…}]
ChatRoom.tsx:635 Total messages to process: 3
ChatRoom.tsx:707 Grouped messages: [{…}]
ChatRoom.tsx:708 Total date groups: 1
ChatRoom.tsx:710 Total messages in first group: 3
IncomingCallModal.tsx:8 [IncomingCallModal] Rendering with incomingCall: null
GroupVideoCall.tsx:48 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749098186259_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:49 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:50 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:51 [GroupVideoCall] localStream: null
GroupVideoCall.tsx:48 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749098186259_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:49 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:50 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:51 [GroupVideoCall] localStream: null
GroupVideoCall.tsx:92 [GroupVideoCall] useEffect cleanup triggered
GroupVideoCall.tsx:211 [GroupVideoCall] Cleaning up media tracks
GroupVideoCall.tsx:253 [GroupVideoCall] All media cleanup completed
GroupVideoCall.tsx:100 [GroupVideoCall] Component unmounting - final cleanup
GroupVideoCall.tsx:211 [GroupVideoCall] Cleaning up media tracks
GroupVideoCall.tsx:253 [GroupVideoCall] All media cleanup completed
GroupVideoCall.tsx:171 [GroupVideoCall] Component unmounting, cleaning up streams
GroupVideoCall.tsx:211 [GroupVideoCall] Cleaning up media tracks
GroupVideoCall.tsx:253 [GroupVideoCall] All media cleanup completed
GroupVideoCall.tsx:57 [GroupVideoCall] Getting local media stream...
GroupVideoCall.tsx:123 [GroupVideoCall] Processing participants from activeCall: []
GroupVideoCall.tsx:132 [GroupVideoCall] Other participants: []
GroupVideoCall.tsx:153 [GroupVideoCall] Updated participants list: []
GroupVideoCall.tsx:48 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749098186259_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:49 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:50 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:51 [GroupVideoCall] localStream: null
GroupVideoCall.tsx:176 [GroupVideoCall] Available devices: 7
GroupVideoCall.tsx:63 [GroupVideoCall] Got local media stream: MediaStream {id: '09632ab9-98db-4bc2-a5ed-1cee35c7f2d8', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
GroupVideoCall.tsx:64 [GroupVideoCall] Video tracks: 1
GroupVideoCall.tsx:65 [GroupVideoCall] Audio tracks: 1
GroupVideoCall.tsx:71 [GroupVideoCall] Video track disabled by default
GroupVideoCall.tsx:63 [GroupVideoCall] Got local media stream: MediaStream {id: 'e43b3712-c99d-4b24-aa1c-ba89def80649', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
GroupVideoCall.tsx:64 [GroupVideoCall] Video tracks: 1
GroupVideoCall.tsx:65 [GroupVideoCall] Audio tracks: 1
GroupVideoCall.tsx:71 [GroupVideoCall] Video track disabled by default
GroupVideoCall.tsx:79 [GroupVideoCall] Set local video source
GroupVideoCall.tsx:48 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749098186259_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:49 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:50 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:51 [GroupVideoCall] localStream: MediaStream {id: 'e43b3712-c99d-4b24-aa1c-ba89def80649', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
GroupVideoCall.tsx:109 [GroupVideoCall] Local video stream attached to element
GroupVideoCall.tsx:115 [GroupVideoCall] Initial video state: false
GroupVideoCall.tsx:48 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749098186259_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:49 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:50 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:51 [GroupVideoCall] localStream: MediaStream {id: 'e43b3712-c99d-4b24-aa1c-ba89def80649', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
GroupVideoCall.tsx:48 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749098186259_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:49 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:50 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:51 [GroupVideoCall] localStream: MediaStream {id: 'e43b3712-c99d-4b24-aa1c-ba89def80649', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
CallContext.tsx:380 [CallContext] Creating stable WebSocket for calls...
CallContext.tsx:461 [CallContext] WebSocket disconnected
GroupVideoCall.tsx:48 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749098186259_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:49 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:50 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:51 [GroupVideoCall] localStream: MediaStream {id: 'e43b3712-c99d-4b24-aa1c-ba89def80649', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
CallContext.tsx:387 [CallContext] WebSocket connected successfully for calls
CallContext.tsx:398 [CallContext] Authenticated user 2 with WebSocket
GroupVideoCall.tsx:48 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749098186259_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:49 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:50 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:51 [GroupVideoCall] localStream: MediaStream {id: 'e43b3712-c99d-4b24-aa1c-ba89def80649', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
CallContext.tsx:412 [CallContext] Received message: {type: 'user_status', payload: {…}}
CallContext.tsx:412 [CallContext] Received message: {type: 'group_call_participants_update', payload: {…}}
CallContext.tsx:985 [CallContext] Group call participants update: {type: 'group_call_participants_update', payload: {…}}
CallContext.tsx:990 [CallContext] Comparing callIds - message: group_call_1749098186259_37_2 activeCall: group_call_1749098186259_37_2
CallContext.tsx:991 [CallContext] ActiveCall groupId: 37
CallContext.tsx:1030 [CallContext] Extracted groupIds - message: 37 active: 37
CallContext.tsx:1031 [CallContext] CallId parts: (5) ['group', 'call', '1749098186259', '37', '2']
CallContext.tsx:1034 [CallContext] Group IDs match, updating participants: (2) [2, 3]
CallContext.tsx:1038 [CallContext] Unique participants after deduplication: (2) [2, 3]
CallContext.tsx:1056 [CallContext] Updated participants in active call: (2) [2, 3]
GroupVideoCall.tsx:48 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749098186259_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:49 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:50 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:51 [GroupVideoCall] localStream: MediaStream {id: 'e43b3712-c99d-4b24-aa1c-ba89def80649', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
GroupVideoCall.tsx:92 [GroupVideoCall] useEffect cleanup triggered
GroupVideoCall.tsx:211 [GroupVideoCall] Cleaning up media tracks
GroupVideoCall.tsx:227 [GroupVideoCall] Clearing video element
GroupVideoCall.tsx:231 [GroupVideoCall] Cleared and reloaded video element
GroupVideoCall.tsx:253 [GroupVideoCall] All media cleanup completed
GroupVideoCall.tsx:57 [GroupVideoCall] Getting local media stream...
GroupVideoCall.tsx:123 [GroupVideoCall] Processing participants from activeCall: (2) [{…}, {…}]
GroupVideoCall.tsx:132 [GroupVideoCall] Other participants: [{…}]
GroupVideoCall.tsx:153 [GroupVideoCall] Updated participants list: [{…}]
GroupVideoCall.tsx:48 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749098186259_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:49 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:50 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:51 [GroupVideoCall] localStream: null
GroupVideoCall.tsx:161 [GroupVideoCall] Displaying participants in group call: [3]
GroupVideoCall.tsx:63 [GroupVideoCall] Got local media stream: MediaStream {id: 'e7c56b3c-ccd5-408f-8e4c-40bc8d25e370', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
GroupVideoCall.tsx:64 [GroupVideoCall] Video tracks: 1
GroupVideoCall.tsx:65 [GroupVideoCall] Audio tracks: 1
GroupVideoCall.tsx:71 [GroupVideoCall] Video track disabled by default
GroupVideoCall.tsx:79 [GroupVideoCall] Set local video source
GroupVideoCall.tsx:48 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749098186259_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:49 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:50 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:51 [GroupVideoCall] localStream: MediaStream {id: 'e7c56b3c-ccd5-408f-8e4c-40bc8d25e370', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
GroupVideoCall.tsx:109 [GroupVideoCall] Local video stream attached to element
GroupVideoCall.tsx:115 [GroupVideoCall] Initial video state: false
GroupVideoCall.tsx:48 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749098186259_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:49 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:50 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:51 [GroupVideoCall] localStream: MediaStream {id: 'e7c56b3c-ccd5-408f-8e4c-40bc8d25e370', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
CallContext.tsx:412 [CallContext] Received message: {type: 'user_status', payload: {…}}
CallContext.tsx:412 [CallContext] Received message: {type: 'user_status', payload: {…}}
GroupVideoCall.tsx:199 [GroupVideoCall] Video toggled: true
GroupVideoCall.tsx:204 [GroupVideoCall] Video element updated
GroupVideoCall.tsx:48 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749098186259_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:49 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:50 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:51 [GroupVideoCall] localStream: MediaStream {id: 'e7c56b3c-ccd5-408f-8e4c-40bc8d25e370', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
GroupVideoCall.tsx:48 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749098186259_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:49 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:50 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:51 [GroupVideoCall] localStream: MediaStream {id: 'e7c56b3c-ccd5-408f-8e4c-40bc8d25e370', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
CallContext.tsx:380 [CallContext] Creating stable WebSocket for calls...
CallContext.tsx:461 [CallContext] WebSocket disconnected
GroupVideoCall.tsx:48 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749098186259_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:49 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:50 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:51 [GroupVideoCall] localStream: MediaStream {id: 'e7c56b3c-ccd5-408f-8e4c-40bc8d25e370', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
CallContext.tsx:387 [CallContext] WebSocket connected successfully for calls
CallContext.tsx:398 [CallContext] Authenticated user 2 with WebSocket
GroupVideoCall.tsx:48 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749098186259_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:49 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:50 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:51 [GroupVideoCall] localStream: MediaStream {id: 'e7c56b3c-ccd5-408f-8e4c-40bc8d25e370', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
CallContext.tsx:412 [CallContext] Received message: {type: 'user_status', payload: {…}}
GroupVideoCall.tsx:48 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749098186259_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:49 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:50 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:51 [GroupVideoCall] localStream: MediaStream {id: 'e7c56b3c-ccd5-408f-8e4c-40bc8d25e370', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
CallContext.tsx:380 [CallContext] Creating stable WebSocket for calls...
CallContext.tsx:461 [CallContext] WebSocket disconnected
GroupVideoCall.tsx:48 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749098186259_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:49 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:50 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:51 [GroupVideoCall] localStream: MediaStream {id: 'e7c56b3c-ccd5-408f-8e4c-40bc8d25e370', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
CallContext.tsx:387 [CallContext] WebSocket connected successfully for calls
CallContext.tsx:398 [CallContext] Authenticated user 2 with WebSocket
GroupVideoCall.tsx:48 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749098186259_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}