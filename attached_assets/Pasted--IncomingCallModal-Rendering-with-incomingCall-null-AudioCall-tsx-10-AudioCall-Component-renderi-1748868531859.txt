[IncomingCallModal] Rendering with incomingCall: null
AudioCall.tsx:10 [AudioCall] Component rendering with activeCall: {callId: 'call_1748868488127_1_3', callType: 'audio', status: 'calling', isIncoming: false, peerUserId: 3, …}
CallContext.tsx:222 [CallContext] Received message: {type: 'call_accepted', payload: {…}}
CallContext.tsx:477 [CallContext] Call accepted, payload: {callId: 'call_1748868488127_1_3'}
CallContext.tsx:478 [CallContext] Current activeCall (state): null
CallContext.tsx:479 [CallContext] Current activeCall (ref): {callId: 'call_1748868488127_1_3', callType: 'audio', status: 'calling', isIncoming: false, peerUserId: 3, …}
CallContext.tsx:480 [CallContext] Current incomingCall: null
CallContext.tsx:486 [CallContext] Updating call status to connected
CallContext.tsx:489 [CallContext] Stopping ALL ringtone sources - call accepted
CallContext.tsx:499 [CallContext] ✅ HTML5 ringtone force stopped
CallContext.tsx:550 [CallContext] Waiting for receiver to be ready for WebRTC...
AudioCall.tsx:10 [AudioCall] Component rendering with activeCall: {callId: 'call_1748868488127_1_3', callType: 'audio', status: 'connected', isIncoming: false, peerUserId: 3, …}
AudioCall.tsx:16 [AudioCall] Setting up call duration timer
CallContext.tsx:222 [CallContext] Received message: {type: 'webrtc_ready', payload: {…}}
CallContext.tsx:586 [CallContext] Received WebRTC ready signal, payload: {callId: 'call_1748868488127_1_3'}
CallContext.tsx:587 [CallContext] Current activeCall (state): null
CallContext.tsx:588 [CallContext] Current activeCall (ref): {callId: 'call_1748868488127_1_3', callType: 'audio', status: 'connected', isIncoming: false, peerUserId: 3, …}
CallContext.tsx:594 [CallContext] ✅ Found activeCall and peerConnection for WebRTC ready
CallContext.tsx:600 [CallContext] ✅ Cleared fallback timeout - received ready signal
CallContext.tsx:605 [CallContext] Creating WebRTC offer after receiver ready...
CallContext.tsx:608 [CallContext] Local description set successfully
CallContext.tsx:621 [CallContext] ⚠️ WebSocket not ready, using HTTP API fallback
CallContext.tsx:638 [CallContext] ✅ Sent WebRTC offer via HTTP API fallback
AudioCall.tsx:10 [AudioCall] Component rendering with activeCall: {callId: 'call_1748868488127_1_3', callType: 'audio', status: 'connected', isIncoming: false, peerUserId: 3, …}
AudioCall.tsx:10 [AudioCall] Component rendering with activeCall: {callId: 'call_1748868488127_1_3', callType: 'audio', status: 'connected', isIncoming: false, peerUserId: 3, …}
AudioCall.tsx:10 [AudioCall] Component rendering with activeCall: {callId: 'call_1748868488127_1_3', callType: 'audio', status: 'connected', isIncoming: false, peerUserId: 3, …}
AudioCall.tsx:10 [AudioCall] Component rendering with activeCall: {callId: 'call_1748868488127_1_3', callType: 'audio', status: 'connected', isIncoming: false, peerUserId: 3, …}
AudioCall.tsx:10 [AudioCall] Component rendering with activeCall: {callId: 'call_1748868488127_1_3', callType: 'audio', status: 'connected', isIncoming: false, peerUserId: 3, …}
AudioCall.tsx:10 [AudioCall] Component rendering with activeCall: {callId: 'call_1748868488127_1_3', callType: 'audio', status: 'connected', isIncoming: false, peerUserId: 3, …}
AudioCall.tsx:10 [AudioCall] Component rendering with activeCall: {callId: 'call_1748868488127_1_3', callType: 'audio', status: 'connected', isIncoming: false, peerUserId: 3, …}
AudioCall.tsx:10 [AudioCall] Component rendering with activeCall: {callId: 'call_1748868488127_1_3', callType: 'audio', status: 'connected', isIncoming: false, peerUserId: 3, …}
AudioCall.tsx:10 [AudioCall] Component rendering with activeCall: {callId: 'call_1748868488127_1_3', callType: 'audio', status: 'connected', isIncoming: false, peerUserId: 3, …}
AudioCall.tsx:10 [AudioCall] Component rendering with activeCall: {callId: 'call_1748868488127_1_3', callType: 'audio', status: 'connected', isIncoming: false, peerUserId: 3, …}
AudioCall.tsx:10 [AudioCall] Component rendering with activeCall: {callId: 'call_1748868488127_1_3', callType: 'audio', status: 'connected', isIncoming: false, peerUserId: 3, …}
AudioCall.tsx:10 [AudioCall] Component rendering with activeCall: {callId: 'call_1748868488127_1_3', callType: 'audio', status: 'connected', isIncoming: false, peerUserId: 3, …}
AudioCall.tsx:10 [AudioCall] Component rendering with activeCall: {callId: 'call_1748868488127_1_3', callType: 'audio', status: 'connected', isIncoming: false, peerUserId: 3, …}
AudioCall.tsx:10 [AudioCall] Component rendering with activeCall: {callId: 'call_1748868488127_1_3', callType: 'audio', status: 'connected', isIncoming: false, peerUserId: 3, …}
AudioCall.tsx:10 [AudioCall] Component rendering with activeCall: {callId: 'call_1748868488127_1_3', callType: 'audio', status: 'connected', isIncoming: false, peerUserId: 3, …}