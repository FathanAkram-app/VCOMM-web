[CallContext] FORCE STOPPING ALL RINGTONES - call accepted
CallContext.tsx:665 [CallContext] ğŸ”‡ STOPPING ALL RINGTONES - comprehensive cleanup
CallContext.tsx:720 [CallContext] âœ… Stopped 0 audio elements
CallContext.tsx:764 [CallContext] âœ… RINGTONE CLEANUP COMPLETED
CallContext.tsx:842 [CallContext] ğŸ”‡ AGGRESSIVE AUDIO CLEANUP - STOPPING ALL AUDIO
CallContext.tsx:854 [CallContext] Force stopping current oscillator
CallContext.tsx:866 [CallContext] Force disconnecting current gain node
CallContext.tsx:876 [CallContext] ğŸ’¥ NUCLEAR AUDIO CLEANUP - Closing ALL AudioContext instances
CallContext.tsx:892 [CallContext] âœ… Closed AudioContext
CallContext.tsx:915 [CallContext] Clearing stored waiting tone interval
CallContext.tsx:922 [CallContext] ğŸ’¥ NUCLEAR INTERVAL CLEANUP - Clearing ALL intervals (except protected timers)
CallContext.tsx:958 [CallContext] âœ… Nuclear interval cleanup completed (protected timers preserved)
CallContext.tsx:963 [CallContext] âœ… AGGRESSIVE AUDIO CLEANUP COMPLETED
CallContext.tsx:1588 [CallContext] Updating call status to connected
CallContext.tsx:1591 [CallContext] Stopping ALL ringtone sources - call accepted
CallContext.tsx:1652 [CallContext] Waiting for receiver to be ready for WebRTC...
CallContext.tsx:4570 [CallContext] ğŸ”¥ PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1757924513208_2_3', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 3,Â â€¦}
VideoCall.tsx:87 [VideoCall] ğŸ• Simple timer check - activeCall: true status: connected
VideoCall.tsx:96 [VideoCall] ğŸ• STARTING SIMPLE TIMER NOW for callId: call_1757924513208_2_3
VideoCall.tsx:112 [VideoCall] ğŸ• SIMPLE TICK: 00:00:00 elapsed ms: 0
VideoCall.tsx:121 [VideoCall] ğŸ• Simple timer interval created: 78
VideoCall.tsx:125 [VideoCall] ğŸ• Timer protected from nuclear cleanup
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1757924513208_2_3', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 3,Â â€¦}
CallContext.tsx:1120 [CallContext] Received message: {type: 'webrtc_ready', payload: {â€¦}}
CallContext.tsx:1123 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'webrtc_ready', hasPayload: true, messageKeys: Array(2), routingToCase: 'webrtc_ready'}
CallContext.tsx:1688 [CallContext] Received WebRTC ready signal, payload: {callId: 'call_1757924513208_2_3'}
CallContext.tsx:1689 [CallContext] Current activeCall (state): null
CallContext.tsx:1690 [CallContext] Current activeCall (ref): {callId: 'call_1757924513208_2_3', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 3,Â â€¦}
CallContext.tsx:1696 [CallContext] âœ… Found activeCall and peerConnection for WebRTC ready
CallContext.tsx:1702 [CallContext] âœ… Cleared fallback timeout - received ready signal
CallContext.tsx:1707 [CallContext] ğŸ”„ ENHANCED: Preparing WebRTC offer with proper track validation...
CallContext.tsx:1710 [CallContext] ğŸ¤ ENHANCED: Validating local track attachment before offer...
CallContext.tsx:1712 [CallContext] ğŸ“Š Current senders before offer: 2
CallContext.tsx:1717 [CallContext] Sender 0: {hasTrack: true, kind: 'audio', enabled: true, readyState: 'live', id: 'e4e5c253-551d-4c3e-b8a5-4949352a8819'}
CallContext.tsx:1717 [CallContext] Sender 1: {hasTrack: true, kind: 'video', enabled: true, readyState: 'live', id: '5a50fe9c-d417-45be-9ec9-8896bec01a5b'}
CallContext.tsx:1752 [CallContext] âœ… ENHANCED: Audio track properly attached before offer creation
CallContext.tsx:1756 [CallContext] ğŸ”„ ENHANCED: Creating offer with proper constraints...
CallContext.tsx:1766 [CallContext] ğŸ“‹ ENHANCED: Validating offer SDP...
CallContext.tsx:1774 [CallContext] âœ… Found audio media section in offer
2CallContext.tsx:1778 [CallContext] âœ… Found proper audio direction in offer: a=sendrecv
CallContext.tsx:1792 [CallContext] âœ… ENHANCED: Local description set successfully with proper validation
CallContext.tsx:1805 [CallContext] âš ï¸ WebSocket not ready, using HTTP API fallback
CallContext.tsx:1822 [CallContext] âœ… Sent WebRTC offer via HTTP API fallback
VideoCall.tsx:112 [VideoCall] ğŸ• SIMPLE TICK: 00:00:01 elapsed ms: 1007
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1757924513208_2_3', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 3,Â â€¦}
CallContext.tsx:1120 [CallContext] Received message: {type: 'webrtc_answer', callId: 'call_1757924513208_2_3', answer: {â€¦}}
CallContext.tsx:1123 [CallContext] ğŸ” DEBUG MESSAGE ROUTING: {messageType: 'webrtc_answer', hasPayload: false, messageKeys: Array(3), routingToCase: 'webrtc_answer'}
CallContext.tsx:1255 [CallContext] ğŸ¯ Processing webrtc_answer message: {type: 'webrtc_answer', callId: 'call_1757924513208_2_3', answer: {â€¦}}
CallContext.tsx:2860 [CallContext] ğŸ“¡ ENHANCED: Received WebRTC answer for callId: call_1757924513208_2_3
CallContext.tsx:2864 [CallContext] Current activeCall for answer: call_1757924513208_2_3
CallContext.tsx:2877 [CallContext] ğŸ“¡ ENHANCED: Setting remote description (answer) with validation
CallContext.tsx:2881 [CallContext] ğŸ“Š Current signaling state: have-local-offer
CallContext.tsx:3105 [CallContext] ğŸ“¡ CALLER: Received remote stream in startCall
CallContext.tsx:3107 [CallContext] ğŸ“¡ CALLER: Remote stream details: {id: '8cdc3e2b-7e60-4a8b-bab8-071b871e2baf', active: true, audioTracks: 1, videoTracks: 1}
CallContext.tsx:3115 [CallContext] ğŸ“¡ CALLER: Storing remote stream globally
CallContext.tsx:3119 [CallContext] Remote audio received - stopping waiting tone
CallContext.tsx:842 [CallContext] ğŸ”‡ AGGRESSIVE AUDIO CLEANUP - STOPPING ALL AUDIO
CallContext.tsx:876 [CallContext] ğŸ’¥ NUCLEAR AUDIO CLEANUP - Closing ALL AudioContext instances
CallContext.tsx:892 [CallContext] âœ… Closed AudioContext
CallContext.tsx:922 [CallContext] ğŸ’¥ NUCLEAR INTERVAL CLEANUP - Clearing ALL intervals (except protected timers)
CallContext.tsx:928 [CallContext] ğŸ›¡ï¸ Protecting robust video call timer: 78
CallContext.tsx:958 [CallContext] âœ… Nuclear interval cleanup completed (protected timers preserved)
CallContext.tsx:963 [CallContext] âœ… AGGRESSIVE AUDIO CLEANUP COMPLETED
CallContext.tsx:3105 [CallContext] ğŸ“¡ CALLER: Received remote stream in startCall
CallContext.tsx:3107 [CallContext] ğŸ“¡ CALLER: Remote stream details: {id: '8cdc3e2b-7e60-4a8b-bab8-071b871e2baf', active: true, audioTracks: 1, videoTracks: 1}
CallContext.tsx:3115 [CallContext] ğŸ“¡ CALLER: Storing remote stream globally
CallContext.tsx:3119 [CallContext] Remote audio received - stopping waiting tone
CallContext.tsx:842 [CallContext] ğŸ”‡ AGGRESSIVE AUDIO CLEANUP - STOPPING ALL AUDIO
CallContext.tsx:876 [CallContext] ğŸ’¥ NUCLEAR AUDIO CLEANUP - Closing ALL AudioContext instances
CallContext.tsx:892 [CallContext] âœ… Closed AudioContext
CallContext.tsx:922 [CallContext] ğŸ’¥ NUCLEAR INTERVAL CLEANUP - Clearing ALL intervals (except protected timers)
CallContext.tsx:928 [CallContext] ğŸ›¡ï¸ Protecting robust video call timer: 78
CallContext.tsx:958 [CallContext] âœ… Nuclear interval cleanup completed (protected timers preserved)
CallContext.tsx:963 [CallContext] âœ… AGGRESSIVE AUDIO CLEANUP COMPLETED
CallContext.tsx:2889 [CallContext] âœ… ENHANCED: Remote description (answer) set successfully on caller side
CallContext.tsx:2892 [CallContext] ğŸ”„ ENHANCED: Starting transport connectivity monitoring
CallContext.tsx:483 [CallContext] ğŸ”„ ENHANCED: Starting comprehensive transport state monitoring for callId: call_1757924513208_2_3
CallContext.tsx:2896 [CallContext] ğŸ“Š Post-answer transceiver validation:
CallContext.tsx:2899 [CallContext] Final Transceiver 0: {direction: 'sendrecv', currentDirection: 'sendrecv', mid: '0', kind: 'audio', senderTrack: {â€¦}}
CallContext.tsx:2899 [CallContext] Final Transceiver 1: {direction: 'sendrecv', currentDirection: 'sendrecv', mid: '1', kind: 'video', senderTrack: {â€¦}}
CallContext.tsx:2918 [CallContext] ğŸ¯ ENHANCED: Waiting for ontrack event to provide remote stream to caller...
CallContext.tsx:4570 [CallContext] ğŸ”¥ PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] ğŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1757924513208_2_3', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 3,Â â€¦}
VideoCall.tsx:27 [VideoCall] Remote stream changed: MediaStreamÂ {id: '8cdc3e2b-7e60-4a8b-bab8-071b871e2baf', active: true, onaddtrack: null, onremovetrack: null, onactive: null,Â â€¦}
VideoCall.tsx:29 [VideoCall] âœ… Setting remote stream to video element
VideoCall.tsx:30 [VideoCall] Remote stream details: {id: '8cdc3e2b-7e60-4a8b-bab8-071b871e2baf', active: true, audioTracks: 1, videoTracks: 1}
VideoCall.tsx:39 [VideoCall] Track 0: {kind: 'audio', enabled: true, muted: false, readyState: 'live', id: 'faa51064-3354-4b50-99f9-6a48370889aa'}
VideoCall.tsx:39 [VideoCall] Track 1: {kind: 'video', enabled: true, muted: false, readyState: 'live', id: 'cded4899-e7a2-4aed-9aa9-10730740fb09'}