[CallContext] üì± MOBILE: Starting video call to: dino from mobile device
CallContext.tsx:11 [CallContext] Mobile compatibility check: {isMobile: false, isHTTPS: true, userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWeb‚Ä¶KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', hasMediaDevices: ∆í}
CallContext.tsx:930 [CallContext] Requesting media permissions with mobile-optimized constraints: {audio: true, video: {‚Ä¶}}
CallContext.tsx:931 [CallContext] Device info: {isMobile: false, isHTTPS: true, hasMediaDevices: ∆í}
CallContext.tsx:966 [CallContext] ‚úÖ Successfully got media stream: {audioTracks: 1, videoTracks: 1, callType: 'video'}
CallContext.tsx:974 [CallContext] üìπ Video call tracks details:
CallContext.tsx:976 [CallContext] Local track 0: {kind: 'audio', enabled: true, readyState: 'live', id: 'b1444b2a-b8ea-4c5c-acd2-9696bbc38ae9', label: 'Default - Microphone Array (Realtek(R) Audio)'}
CallContext.tsx:976 [CallContext] Local track 1: {kind: 'video', enabled: true, readyState: 'live', id: '7cd50995-cf93-4568-8582-e943953f499a', label: 'Integrated Webcam (0bda:58ca)'}
ChatRoom.tsx:634 Processing message data for grouping: (15)¬†[{‚Ä¶}, {‚Ä¶}, {‚Ä¶}, {‚Ä¶}, {‚Ä¶}, {‚Ä¶}, {‚Ä¶}, {‚Ä¶}, {‚Ä¶}, {‚Ä¶}, {‚Ä¶}, {‚Ä¶}, {‚Ä¶}, {‚Ä¶}, {‚Ä¶}]
ChatRoom.tsx:635 Total messages to process: 15
ChatRoom.tsx:707 Grouped messages: (3)¬†[{‚Ä¶}, {‚Ä¶}, {‚Ä¶}]
ChatRoom.tsx:708 Total date groups: 3
ChatRoom.tsx:710 Total messages in first group: 12
SimpleAudioPlayer.tsx:189 Trying to play audio from URL: /uploads/voice_note_93.webm
SimpleAudioPlayer.tsx:190 File name extracted: voice_note_93.webm
SimpleAudioPlayer.tsx:189 Trying to play audio from URL: /uploads/voice_note_94.webm
SimpleAudioPlayer.tsx:190 File name extracted: voice_note_94.webm
SimpleAudioPlayer.tsx:189 Trying to play audio from URL: /uploads/voice_note_95.webm
SimpleAudioPlayer.tsx:190 File name extracted: voice_note_95.webm
SimpleAudioPlayer.tsx:189 Trying to play audio from URL: /uploads/voice_note_96.webm
SimpleAudioPlayer.tsx:190 File name extracted: voice_note_96.webm
SimpleAudioPlayer.tsx:189 Trying to play audio from URL: /uploads/voice_note_97.webm
SimpleAudioPlayer.tsx:190 File name extracted: voice_note_97.webm
SimpleAudioPlayer.tsx:189 Trying to play audio from URL: /uploads/voice_note_98.webm
SimpleAudioPlayer.tsx:190 File name extracted: voice_note_98.webm
SimpleAudioPlayer.tsx:189 Trying to play audio from URL: /uploads/voice_note_100.webm
SimpleAudioPlayer.tsx:190 File name extracted: voice_note_100.webm
SimpleAudioPlayer.tsx:189 Trying to play audio from URL: /uploads/voice_note_101.webm
SimpleAudioPlayer.tsx:190 File name extracted: voice_note_101.webm
SimpleAudioPlayer.tsx:189 Trying to play audio from URL: /uploads/voice_note_102.webm
SimpleAudioPlayer.tsx:190 File name extracted: voice_note_102.webm
SimpleAudioPlayer.tsx:189 Trying to play audio from URL: /uploads/voice_note_103.webm
SimpleAudioPlayer.tsx:190 File name extracted: voice_note_103.webm
SimpleAudioPlayer.tsx:189 Trying to play audio from URL: /uploads/voice_note_112.webm
SimpleAudioPlayer.tsx:190 File name extracted: voice_note_112.webm
SimpleAudioPlayer.tsx:189 Trying to play audio from URL: /uploads/cb6e82da-5857-4a0a-a22b-633501b23dda.webm
SimpleAudioPlayer.tsx:190 File name extracted: cb6e82da-5857-4a0a-a22b-633501b23dda.webm
SimpleAudioPlayer.tsx:189 Trying to play audio from URL: /uploads/af9e8986-15cc-4d4f-9ff9-7fe02050656b.webm
SimpleAudioPlayer.tsx:190 File name extracted: af9e8986-15cc-4d4f-9ff9-7fe02050656b.webm
IncomingCallModal.tsx:8 [IncomingCallModal] Rendering with incomingCall: null
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748881665286_2_4', callType: 'video', status: 'calling', isIncoming: false, peerUserId: 4,¬†‚Ä¶}
VideoCall.tsx:18 [VideoCall] Local stream changed: MediaStream¬†{id: '1323f8ff-6833-4bf5-a378-e461efcd0670', active: true, onaddtrack: null, onremovetrack: null, onactive: null,¬†‚Ä¶}
VideoCall.tsx:21 [VideoCall] Local stream attached to video element
VideoCall.tsx:27 [VideoCall] Remote stream changed: null
VideoCall.tsx:77 [VideoCall] ‚è≥ Waiting for remote stream...
CallContext.tsx:227 [CallContext] Received message: {type: 'webrtc_answer', callId: 'call_1748881665286_2_4', answer: {‚Ä¶}}
CallContext.tsx:251 [CallContext] üéØ Processing webrtc_answer message: {type: 'webrtc_answer', callId: 'call_1748881665286_2_4', answer: {‚Ä¶}}
CallContext.tsx:814 [CallContext] üì° Received WebRTC answer for callId: call_1748881665286_2_4
CallContext.tsx:818 [CallContext] Current activeCall for answer: call_1748881665286_2_4
CallContext.tsx:831 [CallContext] üì° Setting remote description (answer) on caller side
CallContext.tsx:833 [CallContext] ‚úÖ Remote description (answer) set successfully on caller side
CallContext.tsx:836 [CallContext] üéØ Waiting for ontrack event to provide remote stream to caller...
CallContext.tsx:227 [CallContext] Received message: {type: 'call_accepted', payload: {‚Ä¶}}
CallContext.tsx:498 [CallContext] Call accepted, payload: {callId: 'call_1748881665286_2_4'}
CallContext.tsx:499 [CallContext] Current activeCall (state): null
CallContext.tsx:500 [CallContext] Current activeCall (ref): {callId: 'call_1748881665286_2_4', callType: 'video', status: 'calling', isIncoming: false, peerUserId: 4,¬†‚Ä¶}
CallContext.tsx:501 [CallContext] Current incomingCall: null
CallContext.tsx:507 [CallContext] Updating call status to connected
CallContext.tsx:510 [CallContext] Stopping ALL ringtone sources - call accepted
CallContext.tsx:520 [CallContext] ‚úÖ HTML5 ringtone force stopped
CallContext.tsx:571 [CallContext] Waiting for receiver to be ready for WebRTC...
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748881665286_2_4', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 4,¬†‚Ä¶}
CallContext.tsx:227 [CallContext] Received message: {type: 'webrtc_ready', payload: {‚Ä¶}}
CallContext.tsx:607 [CallContext] Received WebRTC ready signal, payload: {callId: 'call_1748881665286_2_4'}
CallContext.tsx:608 [CallContext] Current activeCall (state): null
CallContext.tsx:609 [CallContext] Current activeCall (ref): {callId: 'call_1748881665286_2_4', callType: 'video', status: 'calling', isIncoming: false, peerUserId: 4,¬†‚Ä¶}
CallContext.tsx:615 [CallContext] ‚úÖ Found activeCall and peerConnection for WebRTC ready
CallContext.tsx:621 [CallContext] ‚úÖ Cleared fallback timeout - received ready signal
CallContext.tsx:626 [CallContext] Creating WebRTC offer after receiver ready...
VideoCall.tsx:87 [VideoCall] Setting up call duration timer
CallContext.tsx:629 [CallContext] Local description set successfully
CallContext.tsx:642 [CallContext] ‚ö†Ô∏è WebSocket not ready, using HTTP API fallback
CallContext.tsx:659 [CallContext] ‚úÖ Sent WebRTC offer via HTTP API fallback
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748881665286_2_4', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 4,¬†‚Ä¶}
CallContext.tsx:227 [CallContext] Received message: {type: 'webrtc_answer', callId: 'call_1748881665286_2_4', answer: {‚Ä¶}}
CallContext.tsx:251 [CallContext] üéØ Processing webrtc_answer message: {type: 'webrtc_answer', callId: 'call_1748881665286_2_4', answer: {‚Ä¶}}
CallContext.tsx:814 [CallContext] üì° Received WebRTC answer for callId: call_1748881665286_2_4
CallContext.tsx:818 [CallContext] Current activeCall for answer: call_1748881665286_2_4
CallContext.tsx:831 [CallContext] üì° Setting remote description (answer) on caller side
CallContext.tsx:1003 [CallContext] üì° CALLER: Received remote stream in startCall
CallContext.tsx:1005 [CallContext] üì° CALLER: Remote stream details: {id: 'ea3dd923-079e-485f-a560-85475bd9941c', active: true, audioTracks: 1, videoTracks: 1}
CallContext.tsx:1013 [CallContext] üì° CALLER: Storing remote stream globally
CallContext.tsx:1003 [CallContext] üì° CALLER: Received remote stream in startCall
CallContext.tsx:1005 [CallContext] üì° CALLER: Remote stream details: {id: 'ea3dd923-079e-485f-a560-85475bd9941c', active: true, audioTracks: 1, videoTracks: 1}
CallContext.tsx:1013 [CallContext] üì° CALLER: Storing remote stream globally
CallContext.tsx:833 [CallContext] ‚úÖ Remote description (answer) set successfully on caller side
CallContext.tsx:836 [CallContext] üéØ Waiting for ontrack event to provide remote stream to caller...
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748881665286_2_4', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 4,¬†‚Ä¶}
VideoCall.tsx:27 [VideoCall] Remote stream changed: MediaStream¬†{id: 'ea3dd923-079e-485f-a560-85475bd9941c', active: true, onaddtrack: null, onremovetrack: null, onactive: null,¬†‚Ä¶}
VideoCall.tsx:29 [VideoCall] ‚úÖ Setting remote stream to video element
VideoCall.tsx:30 [VideoCall] Remote stream details: {id: 'ea3dd923-079e-485f-a560-85475bd9941c', active: true, audioTracks: 1, videoTracks: 1}
VideoCall.tsx:39 [VideoCall] Track 0: {kind: 'audio', enabled: true, muted: false, readyState: 'live', id: '2b2c23b9-bb11-4010-ae25-dec6b2009e01'}
VideoCall.tsx:39 [VideoCall] Track 1: {kind: 'video', enabled: true, muted: false, readyState: 'live', id: 'b3ac0f54-e645-4da2-a696-ff3f897cb4bd'}
2CallContext.tsx:1028 [CallContext] ‚ùå CALLER: Remote audio element not found in startCall
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748881665286_2_4', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 4,¬†‚Ä¶}
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748881665286_2_4', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 4,¬†‚Ä¶}
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748881665286_2_4', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 4,¬†‚Ä¶}
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748881665286_2_4', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 4,¬†‚Ä¶}
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748881665286_2_4', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 4,¬†‚Ä¶}
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748881665286_2_4', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 4,¬†‚Ä¶}
VideoCall.tsx:14 [VideoCall] Component rendering with activeCall: {callId: 'call_1748881665286_2_4', callType: 'video', status: 'connected', isIncoming: false, peerUserId: 4,¬†‚Ä¶}