[CallContext] Received message: {type: 'user_status', payload: {‚Ä¶}}
CallContext.tsx:655 [CallContext] Received message: {type: 'user_status', payload: {‚Ä¶}}
CallContext.tsx:655 [CallContext] Received message: {type: 'incoming_group_call', payload: {‚Ä¶}}
CallContext.tsx:659 [CallContext] üö® INCOMING GROUP CALL MESSAGE DETECTED - USER ID: 5
CallContext.tsx:660 [CallContext] üö® MESSAGE PAYLOAD: {
  "type": "incoming_group_call",
  "payload": {
    "callId": "group_call_1752120222984_38_5",
    "groupId": 38,
    "groupName": "Ampera Grup",
    "callType": "video",
    "fromUserId": 2,
    "fromUserName": "eko"
  }
}
CallContext.tsx:673 [CallContext] Received incoming_group_call: {callId: 'group_call_1752120222984_38_5', groupId: 38, groupName: 'Ampera Grup', callType: 'video', fromUserId: 2,¬†‚Ä¶}
CallContext.tsx:1226 [CallContext] üîî Incoming group call received: {callId: 'group_call_1752120222984_38_5', groupId: 38, groupName: 'Ampera Grup', callType: 'video', fromUserId: 2,¬†‚Ä¶}
CallContext.tsx:1229 [CallContext] Extracted call details: {callId: 'group_call_1752120222984_38_5', groupId: 38, groupName: 'Ampera Grup', callType: 'video'}
CallContext.tsx:1230 [CallContext] Current activeCall: undefined
CallContext.tsx:1239 [CallContext] üîä Playing notification sound for incoming group call
CallContext.tsx:1246 [CallContext] ‚ùå Error playing notification sound: ReferenceError: playIncomingCallSound is not defined
    at handleIncomingGroupCall (CallContext.tsx:1243:7)
    at websocket.onmessage (CallContext.tsx:674:13)
handleIncomingGroupCall @ CallContext.tsx:1246
websocket.onmessage @ CallContext.tsx:674Understand this error
CallContext.tsx:1250 [CallContext] üîß Creating RTCPeerConnection for group call
CallContext.tsx:1262 [CallContext] ‚úÖ RTCPeerConnection created successfully
CallContext.tsx:1280 [CallContext] ‚úÖ ICE candidate handler setup successfully
CallContext.tsx:1286 [CallContext] üî• BEFORE setIncomingCall - current state: null
CallContext.tsx:1308 [CallContext] üî• About to call setIncomingCall with: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'ringing', isIncoming: true, peerUserId: 2,¬†‚Ä¶}
CallContext.tsx:1310 [CallContext] üî• setIncomingCall called successfully
CallContext.tsx:1317 [CallContext] üî• AFTER setIncomingCall - created incoming group call
CallContext.tsx:1318 [CallContext] üéØ Set incoming group call modal for: Ampera Grup
CallContext.tsx:2874 [CallContext] üî• PROVIDER VALUE UPDATE: {incomingCall: {‚Ä¶}, activeCall: null, hasIncomingCall: true, incomingCallId: 'group_call_1752120222984_38_5'}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: {‚Ä¶}, activeCall: null, hasIncomingCall: true}
IncomingCallModal.tsx:4 [IncomingCallModal] üî• COMPONENT RENDERED - START
useCall.ts:12 [useCall] üî• Context value: {incomingCall: {‚Ä¶}, activeCall: null, hasIncomingCall: true}
IncomingCallModal.tsx:8 [IncomingCallModal] üî• After useCall hook - incomingCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'ringing', isIncoming: true, peerUserId: 2,¬†‚Ä¶}
IncomingCallModal.tsx:9 [IncomingCallModal] üî• incomingCall type check: object
IncomingCallModal.tsx:10 [IncomingCallModal] üî• incomingCall falsy check: false
IncomingCallModal.tsx:17 [IncomingCallModal] ‚úÖ SHOWING MODAL for call: group_call_1752120222984_38_5
IncomingCallModal.tsx:18 [IncomingCallModal] Modal details: {isGroupCall: true, groupName: 'Ampera Grup', callType: 'video', fromUser: 'eko'}
CallContext.tsx:655 [CallContext] Received message: {type: 'group_call_participants_update', payload: {‚Ä¶}}
CallContext.tsx:696 [CallContext] üî• GROUP_CALL_PARTICIPANTS_UPDATE received: {type: 'group_call_participants_update', payload: {‚Ä¶}}
CallContext.tsx:1422 [CallContext] Group call participants update: {type: 'group_call_participants_update', payload: {‚Ä¶}}
CallContext.tsx:1427 [CallContext] Comparing callIds - message: group_call_1752120222984_38_5 activeCall: undefined
CallContext.tsx:1428 [CallContext] ActiveCall groupId: undefined
CallContext.tsx:1437 [CallContext] Using stored group call data: {callId: 'group_call_1752119629639_38_2', groupId: 38, groupName: 'Ampera Grup', callType: 'video'}
CallContext.tsx:1467 [CallContext] Extracted groupIds - message: 38 active: 38
CallContext.tsx:1468 [CallContext] CallId parts: (5)¬†['group', 'call', '1752120222984', '38', '5']
CallContext.tsx:1471 [CallContext] Group IDs match, updating participants: [2]
CallContext.tsx:1475 [CallContext] Unique participants after deduplication: [2]
CallContext.tsx:2862 [CallContext] üî• INCOMING CALL STATE CHANGED: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'ringing', isIncoming: true, peerUserId: 2,¬†‚Ä¶}
CallContext.tsx:2864 [CallContext] üî• INCOMING CALL DETAILS: {callId: 'group_call_1752120222984_38_5', groupName: 'Ampera Grup', callType: 'video', isGroupCall: true}
CallContext.tsx:1322 [CallContext] üîç DEBUG: incomingCall state after 100ms: null
CallContext.tsx:1323 [CallContext] üîç DEBUG: incomingCallRef after 100ms: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'ringing', isIncoming: true, peerUserId: 2,¬†‚Ä¶}
CallContext.tsx:655 [CallContext] Received message: {type: 'user_status', payload: {‚Ä¶}}
CallContext.tsx:1500 [CallContext] ‚úÖ Updated participants with names: [{‚Ä¶}]
CallContext.tsx:2874 [CallContext] üî• PROVIDER VALUE UPDATE: {incomingCall: {‚Ä¶}, activeCall: {‚Ä¶}, hasIncomingCall: true, incomingCallId: 'group_call_1752120222984_38_5'}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: {‚Ä¶}, activeCall: {‚Ä¶}, hasIncomingCall: true}
IncomingCallModal.tsx:4 [IncomingCallModal] üî• COMPONENT RENDERED - START
useCall.ts:12 [useCall] üî• Context value: {incomingCall: {‚Ä¶}, activeCall: {‚Ä¶}, hasIncomingCall: true}
IncomingCallModal.tsx:8 [IncomingCallModal] üî• After useCall hook - incomingCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'ringing', isIncoming: true, peerUserId: 2,¬†‚Ä¶}
IncomingCallModal.tsx:9 [IncomingCallModal] üî• incomingCall type check: object
IncomingCallModal.tsx:10 [IncomingCallModal] üî• incomingCall falsy check: false
IncomingCallModal.tsx:17 [IncomingCallModal] ‚úÖ SHOWING MODAL for call: group_call_1752120222984_38_5
IncomingCallModal.tsx:18 [IncomingCallModal] Modal details: {isGroupCall: true, groupName: 'Ampera Grup', callType: 'video', fromUser: 'eko'}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: {‚Ä¶}, activeCall: {‚Ä¶}, hasIncomingCall: true}
GroupVideoCall.tsx:270 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'connected', isIncoming: false, groupId: 38,¬†‚Ä¶}
GroupVideoCall.tsx:271 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:272 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:273 [GroupVideoCall] localStream: null
GroupVideoCall.tsx:309 [GroupVideoCall] Getting new local media stream...
GroupVideoCall.tsx:388 [GroupVideoCall] ‚ö†Ô∏è No local stream available
GroupVideoCall.tsx:462 [GroupVideoCall] üìä Participants effect triggered
GroupVideoCall.tsx:463 [GroupVideoCall] üìä activeCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'connected', isIncoming: false, groupId: 38,¬†‚Ä¶}
GroupVideoCall.tsx:464 [GroupVideoCall] üìä activeCall?.participants: [{‚Ä¶}]
GroupVideoCall.tsx:465 [GroupVideoCall] üìä user?.id: 5
GroupVideoCall.tsx:471 [GroupVideoCall] üìä Current participants string: 
GroupVideoCall.tsx:472 [GroupVideoCall] üìä New participants string: [{"userId":2,"userName":"eko","audioEnabled":true,"videoEnabled":true,"stream":null}]
GroupVideoCall.tsx:481 [GroupVideoCall] üìä Processing participants from activeCall: [{‚Ä¶}]
GroupVideoCall.tsx:488 [GroupVideoCall] Checking participant 2, is current user: false
GroupVideoCall.tsx:492 [GroupVideoCall] üìä Other participants after filtering: [{‚Ä¶}]
GroupVideoCall.tsx:786 [GroupVideoCall] ‚è≥ Auto-initiation not ready: {participantsCount: 0, hasLocalStream: false, hasActiveCall: true, hasUser: true}
GroupVideoCall.tsx:798 [GroupVideoCall] Stream state updated: {remoteStreams: Array(0), participants: Array(0)}
CallContext.tsx:2874 [CallContext] üî• PROVIDER VALUE UPDATE: {incomingCall: {‚Ä¶}, activeCall: {‚Ä¶}, hasIncomingCall: true, incomingCallId: 'group_call_1752120222984_38_5'}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: {‚Ä¶}, activeCall: {‚Ä¶}, hasIncomingCall: true}
IncomingCallModal.tsx:4 [IncomingCallModal] üî• COMPONENT RENDERED - START
useCall.ts:12 [useCall] üî• Context value: {incomingCall: {‚Ä¶}, activeCall: {‚Ä¶}, hasIncomingCall: true}
IncomingCallModal.tsx:8 [IncomingCallModal] üî• After useCall hook - incomingCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'ringing', isIncoming: true, peerUserId: 2,¬†‚Ä¶}
IncomingCallModal.tsx:9 [IncomingCallModal] üî• incomingCall type check: object
IncomingCallModal.tsx:10 [IncomingCallModal] üî• incomingCall falsy check: false
IncomingCallModal.tsx:17 [IncomingCallModal] ‚úÖ SHOWING MODAL for call: group_call_1752120222984_38_5
IncomingCallModal.tsx:18 [IncomingCallModal] Modal details: {isGroupCall: true, groupName: 'Ampera Grup', callType: 'video', fromUser: 'eko'}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: {‚Ä¶}, activeCall: {‚Ä¶}, hasIncomingCall: true}
GroupVideoCall.tsx:270 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'connected', isIncoming: false, groupId: 38,¬†‚Ä¶}
GroupVideoCall.tsx:271 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:272 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:273 [GroupVideoCall] localStream: null
useCall.ts:12 [useCall] üî• Context value: {incomingCall: {‚Ä¶}, activeCall: {‚Ä¶}, hasIncomingCall: true}
GroupVideoCall.tsx:513 [GroupVideoCall] üìä Updated participants list: [{‚Ä¶}]
GroupVideoCall.tsx:270 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'connected', isIncoming: false, groupId: 38,¬†‚Ä¶}
GroupVideoCall.tsx:271 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:272 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:273 [GroupVideoCall] localStream: null
GroupVideoCall.tsx:1299 [GroupVideoCall] Rendering participant 2: {hasStream: false, streamActive: undefined, streamId: undefined, videoTracks: 0, audioTracks: 0}
GroupVideoCall.tsx:36 [StableParticipantVideo] Registered video ref for user 2
GroupVideoCall.tsx:70 [StableParticipantVideo] üßπ Clearing stream for user 2
GroupVideoCall.tsx:786 [GroupVideoCall] ‚è≥ Auto-initiation not ready: {participantsCount: 1, hasLocalStream: false, hasActiveCall: true, hasUser: true}
GroupVideoCall.tsx:798 [GroupVideoCall] Stream state updated: {remoteStreams: Array(0), participants: Array(1)}
CallContext.tsx:2874 [CallContext] üî• PROVIDER VALUE UPDATE: {incomingCall: {‚Ä¶}, activeCall: {‚Ä¶}, hasIncomingCall: true, incomingCallId: 'group_call_1752120222984_38_5'}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: {‚Ä¶}, activeCall: {‚Ä¶}, hasIncomingCall: true}
IncomingCallModal.tsx:4 [IncomingCallModal] üî• COMPONENT RENDERED - START
useCall.ts:12 [useCall] üî• Context value: {incomingCall: {‚Ä¶}, activeCall: {‚Ä¶}, hasIncomingCall: true}
IncomingCallModal.tsx:8 [IncomingCallModal] üî• After useCall hook - incomingCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'ringing', isIncoming: true, peerUserId: 2,¬†‚Ä¶}
IncomingCallModal.tsx:9 [IncomingCallModal] üî• incomingCall type check: object
IncomingCallModal.tsx:10 [IncomingCallModal] üî• incomingCall falsy check: false
IncomingCallModal.tsx:17 [IncomingCallModal] ‚úÖ SHOWING MODAL for call: group_call_1752120222984_38_5
IncomingCallModal.tsx:18 [IncomingCallModal] Modal details: {isGroupCall: true, groupName: 'Ampera Grup', callType: 'video', fromUser: 'eko'}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: {‚Ä¶}, activeCall: {‚Ä¶}, hasIncomingCall: true}
GroupVideoCall.tsx:270 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'connected', isIncoming: false, groupId: 38,¬†‚Ä¶}
GroupVideoCall.tsx:271 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:272 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:273 [GroupVideoCall] localStream: null
GroupVideoCall.tsx:1299 [GroupVideoCall] Rendering participant 2: {hasStream: false, streamActive: undefined, streamId: undefined, videoTracks: 0, audioTracks: 0}
ChatList.tsx:94 Contoh data percakapan dari server: {id: 37, createdById: 1, createdAt: '2025-06-03T13:29:48.912Z', updatedAt: '2025-06-05T10:41:56.380Z', isGroup: true,¬†‚Ä¶}
CallContext.tsx:605 [CallContext] Creating stable WebSocket for calls...
CallContext.tsx:751 [CallContext] WebSocket disconnected
CallContext.tsx:2874 [CallContext] üî• PROVIDER VALUE UPDATE: {incomingCall: {‚Ä¶}, activeCall: {‚Ä¶}, hasIncomingCall: true, incomingCallId: 'group_call_1752120222984_38_5'}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: {‚Ä¶}, activeCall: {‚Ä¶}, hasIncomingCall: true}
IncomingCallModal.tsx:4 [IncomingCallModal] üî• COMPONENT RENDERED - START
useCall.ts:12 [useCall] üî• Context value: {incomingCall: {‚Ä¶}, activeCall: {‚Ä¶}, hasIncomingCall: true}
IncomingCallModal.tsx:8 [IncomingCallModal] üî• After useCall hook - incomingCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'ringing', isIncoming: true, peerUserId: 2,¬†‚Ä¶}
IncomingCallModal.tsx:9 [IncomingCallModal] üî• incomingCall type check: object
IncomingCallModal.tsx:10 [IncomingCallModal] üî• incomingCall falsy check: false
IncomingCallModal.tsx:17 [IncomingCallModal] ‚úÖ SHOWING MODAL for call: group_call_1752120222984_38_5
IncomingCallModal.tsx:18 [IncomingCallModal] Modal details: {isGroupCall: true, groupName: 'Ampera Grup', callType: 'video', fromUser: 'eko'}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: {‚Ä¶}, activeCall: {‚Ä¶}, hasIncomingCall: true}
GroupVideoCall.tsx:270 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'connected', isIncoming: false, groupId: 38,¬†‚Ä¶}
GroupVideoCall.tsx:271 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:272 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:273 [GroupVideoCall] localStream: null
GroupVideoCall.tsx:1299 [GroupVideoCall] Rendering participant 2: {hasStream: false, streamActive: undefined, streamId: undefined, videoTracks: 0, audioTracks: 0}
GroupVideoCall.tsx:315 [GroupVideoCall] Got local media stream: MediaStream¬†{id: 'be4217b9-df31-4e36-9de7-e76155f2083c', active: true, onaddtrack: null, onremovetrack: null, onactive: null,¬†‚Ä¶}
GroupVideoCall.tsx:316 [GroupVideoCall] Video tracks: 1
GroupVideoCall.tsx:317 [GroupVideoCall] Audio tracks: 1
GroupVideoCall.tsx:323 [GroupVideoCall] Video track enabled by default for group calls
GroupVideoCall.tsx:331 [GroupVideoCall] Set local video source
useCall.ts:12 [useCall] üî• Context value: {incomingCall: {‚Ä¶}, activeCall: {‚Ä¶}, hasIncomingCall: true}
GroupVideoCall.tsx:270 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'connected', isIncoming: false, groupId: 38,¬†‚Ä¶}
GroupVideoCall.tsx:271 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:272 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:273 [GroupVideoCall] localStream: MediaStream¬†{id: 'be4217b9-df31-4e36-9de7-e76155f2083c', active: true, onaddtrack: null, onremovetrack: null, onactive: null,¬†‚Ä¶}
GroupVideoCall.tsx:1299 [GroupVideoCall] Rendering participant 2: {hasStream: false, streamActive: undefined, streamId: undefined, videoTracks: 0, audioTracks: 0}
GroupVideoCall.tsx:359 [GroupVideoCall] Local video stream attached to element
GroupVideoCall.tsx:360 [GroupVideoCall] Local stream details: {id: 'be4217b9-df31-4e36-9de7-e76155f2083c', active: true, videoTracks: 1, audioTracks: 1, videoTrackEnabled: true}
GroupVideoCall.tsx:374 [GroupVideoCall] Initial video state: true
GroupVideoCall.tsx:525 [GroupVideoCall] Setting up WebRTC connections for participants: [2]
GroupVideoCall.tsx:530 [GroupVideoCall] Creating peer connection for user: 2
GroupVideoCall.tsx:547 [GroupVideoCall] Adding local track to peer connection: audio
GroupVideoCall.tsx:547 [GroupVideoCall] Adding local track to peer connection: video
GroupVideoCall.tsx:729 [GroupVideoCall] üöÄ Auto-initiating WebRTC connections for all participants
GroupVideoCall.tsx:730 [GroupVideoCall] Current user ID: 5
GroupVideoCall.tsx:731 [GroupVideoCall] Participants to connect: [{‚Ä¶}]
GroupVideoCall.tsx:734 [GroupVideoCall] üîç Checking participant 2 - user ID: 5
GroupVideoCall.tsx:738 [GroupVideoCall] Existing connection for 2: true
GroupVideoCall.tsx:739 [GroupVideoCall] Connection state: stable
GroupVideoCall.tsx:742 [GroupVideoCall] üìû Creating offer for participant: 2
GroupVideoCall.tsx:1265 [GroupVideoCall] ‚úÖ Local video started playing
useCall.ts:12 [useCall] üî• Context value: {incomingCall: {‚Ä¶}, activeCall: {‚Ä¶}, hasIncomingCall: true}
GroupVideoCall.tsx:270 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'connected', isIncoming: false, groupId: 38,¬†‚Ä¶}
GroupVideoCall.tsx:271 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:272 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:273 [GroupVideoCall] localStream: MediaStream¬†{id: 'be4217b9-df31-4e36-9de7-e76155f2083c', active: true, onaddtrack: null, onremovetrack: null, onactive: null,¬†‚Ä¶}
GroupVideoCall.tsx:1299 [GroupVideoCall] Rendering participant 2: {hasStream: false, streamActive: undefined, streamId: undefined, videoTracks: 0, audioTracks: 0}
GroupVideoCall.tsx:678 [GroupVideoCall] Sending offer to user: 2
GroupVideoCall.tsx:679 [GroupVideoCall] Offer details: RTCSessionDescription¬†{type: 'offer', sdp: 'v=0\r\no=- 8707945840039286476 2 IN IP4 127.0.0.1\r\ns‚Ä¶6155f2083c c8fda243-554d-4540-9f85-1f99a16f7444\r\n'}
GroupVideoCall.tsx:697 [GroupVideoCall] ‚ö†Ô∏è WebSocket not ready, state: 3 retrying in 1s...
GroupVideoCall.tsx:1259 [GroupVideoCall] Local video metadata loaded
GroupVideoCall.tsx:1262 [GroupVideoCall] Local video can play
GroupVideoCall.tsx:379 [GroupVideoCall] ‚úÖ Local video playing successfully
3GroupVideoCall.tsx:622 [GroupVideoCall] Sending ICE candidate to user: 2
CallContext.tsx:612 [CallContext] WebSocket connected successfully for calls
CallContext.tsx:636 [CallContext] Authenticated user 5 with WebSocket
CallContext.tsx:2874 [CallContext] üî• PROVIDER VALUE UPDATE: {incomingCall: {‚Ä¶}, activeCall: {‚Ä¶}, hasIncomingCall: true, incomingCallId: 'group_call_1752120222984_38_5'}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: {‚Ä¶}, activeCall: {‚Ä¶}, hasIncomingCall: true}
IncomingCallModal.tsx:4 [IncomingCallModal] üî• COMPONENT RENDERED - START
useCall.ts:12 [useCall] üî• Context value: {incomingCall: {‚Ä¶}, activeCall: {‚Ä¶}, hasIncomingCall: true}
IncomingCallModal.tsx:8 [IncomingCallModal] üî• After useCall hook - incomingCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'ringing', isIncoming: true, peerUserId: 2,¬†‚Ä¶}
IncomingCallModal.tsx:9 [IncomingCallModal] üî• incomingCall type check: object
IncomingCallModal.tsx:10 [IncomingCallModal] üî• incomingCall falsy check: false
IncomingCallModal.tsx:17 [IncomingCallModal] ‚úÖ SHOWING MODAL for call: group_call_1752120222984_38_5
IncomingCallModal.tsx:18 [IncomingCallModal] Modal details: {isGroupCall: true, groupName: 'Ampera Grup', callType: 'video', fromUser: 'eko'}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: {‚Ä¶}, activeCall: {‚Ä¶}, hasIncomingCall: true}
GroupVideoCall.tsx:270 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'connected', isIncoming: false, groupId: 38,¬†‚Ä¶}
GroupVideoCall.tsx:271 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:272 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:273 [GroupVideoCall] localStream: MediaStream¬†{id: 'be4217b9-df31-4e36-9de7-e76155f2083c', active: true, onaddtrack: null, onremovetrack: null, onactive: null,¬†‚Ä¶}
GroupVideoCall.tsx:1299 [GroupVideoCall] Rendering participant 2: {hasStream: false, streamActive: undefined, streamId: undefined, videoTracks: 0, audioTracks: 0}
GroupVideoCall.tsx:694 [GroupVideoCall] ‚úÖ Sending WebRTC offer to user 2 : {type: 'group_webrtc_offer', payload: {‚Ä¶}}
CallContext.tsx:655 [CallContext] Received message: {type: 'user_status', payload: {‚Ä¶}}
GroupVideoCall.tsx:776 [GroupVideoCall] ‚ö†Ô∏è Connection not stable for 2: have-local-offer
(anonymous) @ GroupVideoCall.tsx:776
setTimeout
(anonymous) @ GroupVideoCall.tsx:745
(anonymous) @ GroupVideoCall.tsx:733
commitHookEffectListMount @ chunk-RPCDYKBN.js?v=01fe63e0:16915
commitPassiveMountOnFiber @ chunk-RPCDYKBN.js?v=01fe63e0:18156
commitPassiveMountEffects_complete @ chunk-RPCDYKBN.js?v=01fe63e0:18129
commitPassiveMountEffects_begin @ chunk-RPCDYKBN.js?v=01fe63e0:18119
commitPassiveMountEffects @ chunk-RPCDYKBN.js?v=01fe63e0:18109
flushPassiveEffectsImpl @ chunk-RPCDYKBN.js?v=01fe63e0:19490
flushPassiveEffects @ chunk-RPCDYKBN.js?v=01fe63e0:19447
(anonymous) @ chunk-RPCDYKBN.js?v=01fe63e0:19328
workLoop @ chunk-RPCDYKBN.js?v=01fe63e0:197
flushWork @ chunk-RPCDYKBN.js?v=01fe63e0:176
performWorkUntilDeadline @ chunk-RPCDYKBN.js?v=01fe63e0:384Understand this warning
GroupVideoCall.tsx:640 [GroupVideoCall] Connection state for user 2 : connecting
GroupVideoCall.tsx:665 [GroupVideoCall] Connection in progress for user 2
CallContext.tsx:2049 [CallContext] acceptCall function called
CallContext.tsx:2050 [CallContext] incomingCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'ringing', isIncoming: true, peerUserId: 2,¬†‚Ä¶}
CallContext.tsx:2051 [CallContext] ws connected: true
CallContext.tsx:2052 [CallContext] user: {id: 5, callsign: 'hari', nrp: '12312311', fullName: 'hari', rank: 'PFC',¬†‚Ä¶}
CallContext.tsx:2061 [CallContext] Accepting group call - redirecting to joinGroupCall
CallContext.tsx:2683 [CallContext] Joining existing group call: {callId: 'group_call_1752120222984_38_5', groupId: 38, groupName: 'Ampera Grup', callType: 'video'}
CallContext.tsx:2706 [CallContext] Requesting media permissions for joining group call...
CallContext.tsx:2874 [CallContext] üî• PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
IncomingCallModal.tsx:4 [IncomingCallModal] üî• COMPONENT RENDERED - START
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
IncomingCallModal.tsx:8 [IncomingCallModal] üî• After useCall hook - incomingCall: null
IncomingCallModal.tsx:9 [IncomingCallModal] üî• incomingCall type check: object
IncomingCallModal.tsx:10 [IncomingCallModal] üî• incomingCall falsy check: true
IncomingCallModal.tsx:13 [IncomingCallModal] No incoming call, returning null
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupVideoCall.tsx:270 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'connected', isIncoming: false, groupId: 38,¬†‚Ä¶}
GroupVideoCall.tsx:271 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:272 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:273 [GroupVideoCall] localStream: MediaStream¬†{id: 'be4217b9-df31-4e36-9de7-e76155f2083c', active: true, onaddtrack: null, onremovetrack: null, onactive: null,¬†‚Ä¶}
GroupVideoCall.tsx:1299 [GroupVideoCall] Rendering participant 2: {hasStream: false, streamActive: undefined, streamId: undefined, videoTracks: 0, audioTracks: 0}
CallContext.tsx:2862 [CallContext] üî• INCOMING CALL STATE CHANGED: null
CallContext.tsx:2708 [CallContext] Got local media stream for joining group call
CallContext.tsx:2744 [CallContext] Active call state set for group: 38 callId: group_call_1752120222984_38_5
CallContext.tsx:2781 [CallContext] Joined group call successfully
CallContext.tsx:2782 [CallContext] Active call state after joining: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'connected', isIncoming: false, localStream: MediaStream,¬†‚Ä¶}
CallContext.tsx:2785 [CallContext] üìä Processing pending participant updates after join...
CallContext.tsx:2874 [CallContext] üî• PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
IncomingCallModal.tsx:4 [IncomingCallModal] üî• COMPONENT RENDERED - START
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
IncomingCallModal.tsx:8 [IncomingCallModal] üî• After useCall hook - incomingCall: null
IncomingCallModal.tsx:9 [IncomingCallModal] üî• incomingCall type check: object
IncomingCallModal.tsx:10 [IncomingCallModal] üî• incomingCall falsy check: true
IncomingCallModal.tsx:13 [IncomingCallModal] No incoming call, returning null
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupVideoCall.tsx:270 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'connected', isIncoming: false, localStream: MediaStream,¬†‚Ä¶}
GroupVideoCall.tsx:271 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:272 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:273 [GroupVideoCall] localStream: MediaStream¬†{id: 'be4217b9-df31-4e36-9de7-e76155f2083c', active: true, onaddtrack: null, onremovetrack: null, onactive: null,¬†‚Ä¶}
GroupVideoCall.tsx:1299 [GroupVideoCall] Rendering participant 2: {hasStream: false, streamActive: undefined, streamId: undefined, videoTracks: 0, audioTracks: 0}
GroupVideoCall.tsx:344 [GroupVideoCall] Effect cleanup - activeCall changed but preserving streams
GroupVideoCall.tsx:281 [GroupVideoCall] Using existing local stream from activeCall
GroupVideoCall.tsx:284 [GroupVideoCall] Existing stream details: {id: '65b6950f-fde4-40c2-9aa9-91f98c054363', active: true, videoTracks: 1, audioTracks: 1}
GroupVideoCall.tsx:297 [GroupVideoCall] Video track enabled by default for group calls
GroupVideoCall.tsx:303 [GroupVideoCall] Set local video source from existing stream
GroupVideoCall.tsx:462 [GroupVideoCall] üìä Participants effect triggered
GroupVideoCall.tsx:463 [GroupVideoCall] üìä activeCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'connected', isIncoming: false, localStream: MediaStream,¬†‚Ä¶}
GroupVideoCall.tsx:464 [GroupVideoCall] üìä activeCall?.participants: []
GroupVideoCall.tsx:465 [GroupVideoCall] üìä user?.id: 5
GroupVideoCall.tsx:471 [GroupVideoCall] üìä Current participants string: [{"userId":2,"userName":"eko","audioEnabled":true,"videoEnabled":true,"stream":null}]
GroupVideoCall.tsx:472 [GroupVideoCall] üìä New participants string: []
GroupVideoCall.tsx:481 [GroupVideoCall] üìä Processing participants from activeCall: []
GroupVideoCall.tsx:492 [GroupVideoCall] üìä Other participants after filtering: []
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupVideoCall.tsx:513 [GroupVideoCall] üìä Updated participants list: []
GroupVideoCall.tsx:270 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'connected', isIncoming: false, localStream: MediaStream,¬†‚Ä¶}
GroupVideoCall.tsx:271 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:272 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:273 [GroupVideoCall] localStream: MediaStream¬†{id: '65b6950f-fde4-40c2-9aa9-91f98c054363', active: true, onaddtrack: null, onremovetrack: null, onactive: null,¬†‚Ä¶}
GroupVideoCall.tsx:359 [GroupVideoCall] Local video stream attached to element
GroupVideoCall.tsx:360 [GroupVideoCall] Local stream details: {id: '65b6950f-fde4-40c2-9aa9-91f98c054363', active: true, videoTracks: 1, audioTracks: 1, videoTrackEnabled: true}
GroupVideoCall.tsx:374 [GroupVideoCall] Initial video state: true
GroupVideoCall.tsx:786 [GroupVideoCall] ‚è≥ Auto-initiation not ready: {participantsCount: 0, hasLocalStream: true, hasActiveCall: true, hasUser: true}
GroupVideoCall.tsx:798 [GroupVideoCall] Stream state updated: {remoteStreams: Array(0), participants: Array(0)}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupVideoCall.tsx:270 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'connected', isIncoming: false, localStream: MediaStream,¬†‚Ä¶}
GroupVideoCall.tsx:271 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:272 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:273 [GroupVideoCall] localStream: MediaStream¬†{id: '65b6950f-fde4-40c2-9aa9-91f98c054363', active: true, onaddtrack: null, onremovetrack: null, onactive: null,¬†‚Ä¶}
GroupVideoCall.tsx:1265 [GroupVideoCall] ‚úÖ Local video started playing
GroupVideoCall.tsx:1259 [GroupVideoCall] Local video metadata loaded
GroupVideoCall.tsx:1262 [GroupVideoCall] Local video can play
GroupVideoCall.tsx:379 [GroupVideoCall] ‚úÖ Local video playing successfully
CallContext.tsx:2874 [CallContext] üî• PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupVideoCall.tsx:270 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'connected', isIncoming: false, localStream: MediaStream,¬†‚Ä¶}
GroupVideoCall.tsx:271 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:272 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:273 [GroupVideoCall] localStream: null
GroupVideoCall.tsx:344 [GroupVideoCall] Effect cleanup - activeCall changed but preserving streams
GroupVideoCall.tsx:351 [GroupVideoCall] Component unmounting - performing final cleanup
GroupVideoCall.tsx:1128 [GroupVideoCall] Cleaning up media tracks
GroupVideoCall.tsx:1170 [GroupVideoCall] All media cleanup completed
GroupVideoCall.tsx:281 [GroupVideoCall] Using existing local stream from activeCall
GroupVideoCall.tsx:284 [GroupVideoCall] Existing stream details: {id: '65b6950f-fde4-40c2-9aa9-91f98c054363', active: true, videoTracks: 1, audioTracks: 1}
GroupVideoCall.tsx:297 [GroupVideoCall] Video track enabled by default for group calls
GroupVideoCall.tsx:303 [GroupVideoCall] Set local video source from existing stream
GroupVideoCall.tsx:388 [GroupVideoCall] ‚ö†Ô∏è No local stream available
GroupVideoCall.tsx:462 [GroupVideoCall] üìä Participants effect triggered
GroupVideoCall.tsx:463 [GroupVideoCall] üìä activeCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'connected', isIncoming: false, localStream: MediaStream,¬†‚Ä¶}
GroupVideoCall.tsx:464 [GroupVideoCall] üìä activeCall?.participants: []
GroupVideoCall.tsx:465 [GroupVideoCall] üìä user?.id: 5
GroupVideoCall.tsx:471 [GroupVideoCall] üìä Current participants string: 
GroupVideoCall.tsx:472 [GroupVideoCall] üìä New participants string: []
GroupVideoCall.tsx:481 [GroupVideoCall] üìä Processing participants from activeCall: []
GroupVideoCall.tsx:492 [GroupVideoCall] üìä Other participants after filtering: []
GroupVideoCall.tsx:786 [GroupVideoCall] ‚è≥ Auto-initiation not ready: {participantsCount: 0, hasLocalStream: false, hasActiveCall: true, hasUser: true}
GroupVideoCall.tsx:798 [GroupVideoCall] Stream state updated: {remoteStreams: Array(0), participants: Array(0)}
CallContext.tsx:2874 [CallContext] üî• PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupVideoCall.tsx:270 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'connected', isIncoming: false, localStream: MediaStream,¬†‚Ä¶}
GroupVideoCall.tsx:271 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:272 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:273 [GroupVideoCall] localStream: null
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupVideoCall.tsx:513 [GroupVideoCall] üìä Updated participants list: []
GroupVideoCall.tsx:270 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'connected', isIncoming: false, localStream: MediaStream,¬†‚Ä¶}
GroupVideoCall.tsx:271 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:272 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:273 [GroupVideoCall] localStream: MediaStream¬†{id: '65b6950f-fde4-40c2-9aa9-91f98c054363', active: true, onaddtrack: null, onremovetrack: null, onactive: null,¬†‚Ä¶}
GroupVideoCall.tsx:359 [GroupVideoCall] Local video stream attached to element
GroupVideoCall.tsx:360 [GroupVideoCall] Local stream details: {id: '65b6950f-fde4-40c2-9aa9-91f98c054363', active: true, videoTracks: 1, audioTracks: 1, videoTrackEnabled: true}
GroupVideoCall.tsx:374 [GroupVideoCall] Initial video state: true
GroupVideoCall.tsx:786 [GroupVideoCall] ‚è≥ Auto-initiation not ready: {participantsCount: 0, hasLocalStream: true, hasActiveCall: true, hasUser: true}
GroupVideoCall.tsx:798 [GroupVideoCall] Stream state updated: {remoteStreams: Array(0), participants: Array(0)}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupVideoCall.tsx:270 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'connected', isIncoming: false, localStream: MediaStream,¬†‚Ä¶}
GroupVideoCall.tsx:271 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:272 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:273 [GroupVideoCall] localStream: MediaStream¬†{id: '65b6950f-fde4-40c2-9aa9-91f98c054363', active: true, onaddtrack: null, onremovetrack: null, onactive: null,¬†‚Ä¶}
CallContext.tsx:655 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {‚Ä¶}}
CallContext.tsx:725 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1752120222984_38_5', answer: {‚Ä¶}, fromUserId: 2}
GroupVideoCall.tsx:975 [GroupVideoCall] Received WebRTC answer from user: 2
GroupVideoCall.tsx:984 [GroupVideoCall] No peer connection found for user: 2
GroupVideoCall.tsx:1265 [GroupVideoCall] ‚úÖ Local video started playing
GroupVideoCall.tsx:1259 [GroupVideoCall] Local video metadata loaded
GroupVideoCall.tsx:1262 [GroupVideoCall] Local video can play
GroupVideoCall.tsx:379 [GroupVideoCall] ‚úÖ Local video playing successfully
CallContext.tsx:2778 [CallContext] Sent join group call message for recipient: {type: 'join_group_call', payload: {‚Ä¶}}
CallContext.tsx:2799 [CallContext] üìä Requested updated participant list: {type: 'request_group_participants', payload: {‚Ä¶}}
CallContext.tsx:2874 [CallContext] üî• PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupVideoCall.tsx:270 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'connected', isIncoming: false, localStream: MediaStream,¬†‚Ä¶}
GroupVideoCall.tsx:271 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:272 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:273 [GroupVideoCall] localStream: MediaStream¬†{id: '65b6950f-fde4-40c2-9aa9-91f98c054363', active: true, onaddtrack: null, onremovetrack: null, onactive: null,¬†‚Ä¶}
CallContext.tsx:605 [CallContext] Creating stable WebSocket for calls...
CallContext.tsx:751 [CallContext] WebSocket disconnected
CallContext.tsx:2874 [CallContext] üî• PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupVideoCall.tsx:270 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'connected', isIncoming: false, localStream: MediaStream,¬†‚Ä¶}
GroupVideoCall.tsx:271 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:272 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:273 [GroupVideoCall] localStream: MediaStream¬†{id: '65b6950f-fde4-40c2-9aa9-91f98c054363', active: true, onaddtrack: null, onremovetrack: null, onactive: null,¬†‚Ä¶}
GroupVideoCall.tsx:416 [GroupVideoCall] üöÄ Force WebRTC init event received: {callId: 'group_call_1752120222984_38_5', groupId: 38, currentUserId: 5, userMap: Map(7)}
GroupVideoCall.tsx:422 [GroupVideoCall] üöÄ Force creating peer connections for: []
CallContext.tsx:2826 [CallContext] üöÄ Triggered WebRTC initialization for group call
CallContext.tsx:612 [CallContext] WebSocket connected successfully for calls
CallContext.tsx:636 [CallContext] Authenticated user 5 with WebSocket
CallContext.tsx:2874 [CallContext] üî• PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupVideoCall.tsx:270 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752120222984_38_5', callType: 'video', status: 'connected', isIncoming: false, localStream: MediaStream,¬†‚Ä¶}
GroupVideoCall.tsx:271 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:272 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:273 [GroupVideoCall] localStream: MediaStream¬†{id: '65b6950f-fde4-40c2-9aa9-91f98c054363', active: true, onaddtrack: null, onremovetrack: null, onactive: null,¬†‚Ä¶}
CallContext.tsx:655 [CallContext] Received message: {type: 'user_status', payload: {‚Ä¶}}