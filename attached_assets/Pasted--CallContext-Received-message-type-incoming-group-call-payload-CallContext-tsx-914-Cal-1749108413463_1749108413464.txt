[CallContext] Received message: {type: 'incoming_group_call', payload: {…}}
CallContext.tsx:914 [CallContext] Incoming group call received: {callId: 'group_call_1749107847791_37_2', groupId: 37, groupName: 'Alpha', callType: 'video', fromUserId: 5, …}
CallContext.tsx:917 [CallContext] Extracted call details: {callId: 'group_call_1749107847791_37_2', groupId: 37, groupName: 'Alpha', callType: 'video'}
CallContext.tsx:918 [CallContext] Current activeCall: group_call_1749107847791_37_2
CallContext.tsx:922 [CallContext] User already in active call, ignoring incoming group call
CallContext.tsx:420 [CallContext] Received message: {type: 'group_call_participants_update', payload: {…}}
CallContext.tsx:1014 [CallContext] Group call participants update: {type: 'group_call_participants_update', payload: {…}}
CallContext.tsx:1019 [CallContext] Comparing callIds - message: group_call_1749107847791_37_2 activeCall: group_call_1749107847791_37_2
CallContext.tsx:1020 [CallContext] ActiveCall groupId: 37
CallContext.tsx:1059 [CallContext] Extracted groupIds - message: 37 active: 37
CallContext.tsx:1060 [CallContext] CallId parts: (5) ['group', 'call', '1749107847791', '37', '2']
CallContext.tsx:1063 [CallContext] Group IDs match, updating participants: (2) [2, 5]
CallContext.tsx:1067 [CallContext] Unique participants after deduplication: (2) [2, 5]
CallContext.tsx:1085 [CallContext] Updated participants in active call: (2) [2, 5]
GroupVideoCall.tsx:104 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749107847791_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:105 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:106 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:107 [GroupVideoCall] localStream: MediaStream {id: 'e6adfa42-7884-4dc7-9375-ea3fbad7c6e8', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
GroupVideoCall.tsx:148 [GroupVideoCall] useEffect cleanup triggered
GroupVideoCall.tsx:788 [GroupVideoCall] Cleaning up media tracks
GroupVideoCall.tsx:792 [GroupVideoCall] Stopping localStream tracks
GroupVideoCall.tsx:796 [GroupVideoCall] Stopped track: audio readyState: ended
GroupVideoCall.tsx:796 [GroupVideoCall] Stopped track: video readyState: ended
GroupVideoCall.tsx:804 [GroupVideoCall] Clearing video element
GroupVideoCall.tsx:808 [GroupVideoCall] Cleared and reloaded video element
GroupVideoCall.tsx:830 [GroupVideoCall] All media cleanup completed
GroupVideoCall.tsx:113 [GroupVideoCall] Getting local media stream...
GroupVideoCall.tsx:190 [GroupVideoCall] Processing participants from activeCall: (2) [{…}, {…}]
GroupVideoCall.tsx:199 [GroupVideoCall] Other participants: [{…}]
GroupVideoCall.tsx:220 [GroupVideoCall] Updated participants list: [{…}]
GroupVideoCall.tsx:104 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749107847791_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:105 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:106 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:107 [GroupVideoCall] localStream: null
GroupVideoCall.tsx:119 [GroupVideoCall] Got local media stream: MediaStream {id: '3b4e865e-ec42-4803-95a1-b4b12a100fc5', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
GroupVideoCall.tsx:120 [GroupVideoCall] Video tracks: 1
GroupVideoCall.tsx:121 [GroupVideoCall] Audio tracks: 1
GroupVideoCall.tsx:127 [GroupVideoCall] Video track enabled by default for group calls
GroupVideoCall.tsx:135 [GroupVideoCall] Set local video source
GroupVideoCall.tsx:104 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749107847791_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:105 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:106 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:107 [GroupVideoCall] localStream: MediaStream {id: '3b4e865e-ec42-4803-95a1-b4b12a100fc5', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
GroupVideoCall.tsx:165 [GroupVideoCall] Local video stream attached to element
GroupVideoCall.tsx:171 [GroupVideoCall] Initial video state: true
GroupVideoCall.tsx:232 [GroupVideoCall] Setting up WebRTC connections for participants: [5]
GroupVideoCall.tsx:405 [GroupVideoCall] Auto-initiating WebRTC connections for all participants
GroupVideoCall.tsx:104 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749107847791_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:105 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:106 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:107 [GroupVideoCall] localStream: MediaStream {id: '3b4e865e-ec42-4803-95a1-b4b12a100fc5', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
CallContext.tsx:420 [CallContext] Received message: {type: 'user_status', payload: {…}}
CallContext.tsx:420 [CallContext] Received message: {type: 'user_status', payload: {…}}
CallContext.tsx:420 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {…}}
CallContext.tsx:464 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1749107847791_37_2', offer: {…}, fromUserId: 5}
GroupVideoCall.tsx:485 [GroupVideoCall] Received WebRTC offer from user: 5
GroupVideoCall.tsx:260 [GroupVideoCall] Received remote stream from user: 5
GroupVideoCall.tsx:261 [GroupVideoCall] Event streams: [MediaStream]
GroupVideoCall.tsx:262 [GroupVideoCall] Event track: MediaStreamTrack {kind: 'audio', id: 'b3b51b19-3d66-4516-9099-b23d4fc8617d', label: 'b3b51b19-3d66-4516-9099-b23d4fc8617d', enabled: true, muted: true, …}
GroupVideoCall.tsx:267 [GroupVideoCall] Remote stream details: {id: '1a69870a-0aab-4456-b02e-5564cbf1f741', active: true, tracks: 2, videoTracks: 1, audioTracks: 1}
GroupVideoCall.tsx:300 [GroupVideoCall] Remote stream added to state for user: 5
GroupVideoCall.tsx:260 [GroupVideoCall] Received remote stream from user: 5
GroupVideoCall.tsx:261 [GroupVideoCall] Event streams: [MediaStream]
GroupVideoCall.tsx:262 [GroupVideoCall] Event track: MediaStreamTrack {kind: 'video', id: 'bf78289d-ea88-473f-b049-7be1c227a779', label: 'bf78289d-ea88-473f-b049-7be1c227a779', enabled: true, muted: true, …}
GroupVideoCall.tsx:267 [GroupVideoCall] Remote stream details: {id: '1a69870a-0aab-4456-b02e-5564cbf1f741', active: true, tracks: 2, videoTracks: 1, audioTracks: 1}
GroupVideoCall.tsx:300 [GroupVideoCall] Remote stream added to state for user: 5
GroupVideoCall.tsx:604 [GroupVideoCall] Set remote description from offer
GroupVideoCall.tsx:286 [GroupVideoCall] Updated remote streams state: ['5']
GroupVideoCall.tsx:104 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749107847791_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:105 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:106 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:107 [GroupVideoCall] localStream: MediaStream {id: '3b4e865e-ec42-4803-95a1-b4b12a100fc5', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
GroupVideoCall.tsx:610 [GroupVideoCall] Sending answer to user: 5
GroupVideoCall.tsx:312 [GroupVideoCall] Sending ICE candidate to user: 5
GroupVideoCall.tsx:330 [GroupVideoCall] Connection state for user 5 : connecting
2GroupVideoCall.tsx:312 [GroupVideoCall] Sending ICE candidate to user: 5
GroupVideoCall.tsx:330 [GroupVideoCall] Connection state for user 5 : connected