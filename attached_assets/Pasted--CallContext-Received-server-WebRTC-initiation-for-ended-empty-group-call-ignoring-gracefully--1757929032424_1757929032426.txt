[CallContext] üîÑ Received server WebRTC initiation for ended/empty group call - ignoring gracefully
CallContext.tsx:2469 [CallContext] üîÑ This typically happens when server cleanup and client state are out of sync
CallContext.tsx:2473 [CallContext] üîÑ Group call has participants, but no local active call - may need to rejoin
CallContext.tsx:3275 [CallContext] acceptCall function called
CallContext.tsx:3276 [CallContext] incomingCall: {callId: 'group_call_1757929005571_38_4', callType: 'audio', status: 'ringing', isIncoming: true, peerUserId: 4,¬†‚Ä¶}
CallContext.tsx:3277 [CallContext] ws connected: true
CallContext.tsx:3278 [CallContext] user: {id: 2, callsign: 'eko', nrp: '12345', fullName: 'eko a', rank: 'SPC',¬†‚Ä¶}
CallContext.tsx:3287 [CallContext] Accepting group call - redirecting to joinGroupCall
CallContext.tsx:4366 [CallContext] Joining existing group call: {callId: 'group_call_1757929005571_38_4', groupId: 38, groupName: 'Ampera Grup', callType: 'audio'}
CallContext.tsx:4403 [CallContext] Creating new stream for joining group call (audio + video enabled)...
CallContext.tsx:4636 [CallContext] üî• PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: null, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
IncomingCallModal.tsx:6 [IncomingCallModal] üî• COMPONENT RENDERED - START
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
IncomingCallModal.tsx:11 [IncomingCallModal] üî• After useCall hook - incomingCall: null
IncomingCallModal.tsx:12 [IncomingCallModal] üî• incomingCall type check: object
IncomingCallModal.tsx:13 [IncomingCallModal] üî• incomingCall falsy check: true
IncomingCallModal.tsx:16 [IncomingCallModal] No incoming call, returning null
CallContext.tsx:4624 [CallContext] üî• INCOMING CALL STATE CHANGED: null
CallContext.tsx:4405 [CallContext] Got new audio and video stream for joining group call - full media enabled from start
CallContext.tsx:4437 [CallContext] Added local track for joining group call: audio
CallContext.tsx:4437 [CallContext] Added local track for joining group call: video
CallContext.tsx:4461 [CallContext] Active call state set for group: 38 callId: group_call_1757929005571_38_4
CallContext.tsx:4480 [CallContext] Joined group call successfully
CallContext.tsx:4481 [CallContext] Active call state after joining: {callId: 'group_call_1757929005571_38_4', callType: 'audio', status: 'connected', isIncoming: false, localStream: MediaStream,¬†‚Ä¶}
CallContext.tsx:4484 [CallContext] üìä Processing pending participant updates after join...
CallContext.tsx:4636 [CallContext] üî• PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
IncomingCallModal.tsx:6 [IncomingCallModal] üî• COMPONENT RENDERED - START
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
IncomingCallModal.tsx:11 [IncomingCallModal] üî• After useCall hook - incomingCall: null
IncomingCallModal.tsx:12 [IncomingCallModal] üî• incomingCall type check: object
IncomingCallModal.tsx:13 [IncomingCallModal] üî• incomingCall falsy check: true
IncomingCallModal.tsx:16 [IncomingCallModal] No incoming call, returning null
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupCall.tsx:87 [GroupCall] üéß Audio device detection: {hasEarphones: false, currentOutput: 'speaker'}
GroupCall.tsx:183 [GroupCall] Initializing media with audio-only from start...
GroupCall.tsx:187 [GroupCall] Initializing media for desktop device
GroupCall.tsx:323 [GroupCall] Updating participants: []
GroupCall.tsx:324 [GroupCall] Current user ID: 2
GroupCall.tsx:325 [GroupCall] Available remote streams: Map(0)¬†{size: 0}
GroupCall.tsx:329 [GroupCall] Remote streams array: []
GroupCall.tsx:332 [GroupCall] üîç Before filtering participants: []
GroupCall.tsx:333 [GroupCall] üîç Current user to filter out: 2
GroupCall.tsx:336 [GroupCall] üîç After filtering participants: []
GroupCall.tsx:359 [GroupCall] üìã Final participants list: []
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupCall.tsx:204 [GroupCall] ‚úÖ Got media stream: {id: 'ac7037c8-c922-4352-87f6-f0984e08869e', active: true, audioTracks: 1}
GroupCall.tsx:215 [GroupCall] ‚úÖ Audio enabled from start
GroupCall.tsx:220 [GroupCall] üìä Media stream set in state and marked as initialized
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupCall.tsx:283 [GroupCall] üìä Stream initialized and ready for WebRTC
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
CallContext.tsx:4513 [CallContext] üîÑ Requesting fresh participant data as backup...
CallContext.tsx:4526 [CallContext] üìä Sent backup participant request: {type: 'request_group_participants', payload: {‚Ä¶}}
CallContext.tsx:4636 [CallContext] üî• PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
ChatList.tsx:149 üìã CHATLIST: Removing WebSocket event listeners
GroupCall.tsx:273 [GroupCall] üßπ Connection timeouts, reconnection state, and refresh tracking cleaned up
GroupCall.tsx:87 [GroupCall] üéß Audio device detection: {hasEarphones: false, currentOutput: 'speaker'}
GroupCall.tsx:183 [GroupCall] Initializing media with audio-only from start...
GroupCall.tsx:187 [GroupCall] Initializing media for desktop device
GroupCall.tsx:323 [GroupCall] Updating participants: []
GroupCall.tsx:324 [GroupCall] Current user ID: 2
GroupCall.tsx:325 [GroupCall] Available remote streams: Map(0)¬†{size: 0}
GroupCall.tsx:329 [GroupCall] Remote streams array: []
GroupCall.tsx:332 [GroupCall] üîç Before filtering participants: []
GroupCall.tsx:333 [GroupCall] üîç Current user to filter out: 2
GroupCall.tsx:336 [GroupCall] üîç After filtering participants: []
GroupCall.tsx:359 [GroupCall] üìã Final participants list: []
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupCall.tsx:204 [GroupCall] ‚úÖ Got media stream: {id: 'ec99f5b3-37fd-4882-8e96-8656fc9e0ab0', active: true, audioTracks: 1}
GroupCall.tsx:215 [GroupCall] ‚úÖ Audio enabled from start
GroupCall.tsx:220 [GroupCall] üìä Media stream set in state and marked as initialized
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupCall.tsx:283 [GroupCall] üìä Stream initialized and ready for WebRTC
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
CallContext.tsx:4477 [CallContext] Sent join group call message for recipient: {type: 'join_group_call', payload: {‚Ä¶}}
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_call_participants_update', payload: {‚Ä¶}}
CallContext.tsx:1159 [CallContext] üîç DEBUG MESSAGE ROUTING: {messageType: 'group_call_participants_update', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_call_participants_update'}
CallContext.tsx:1266 [CallContext] üî• GROUP_CALL_PARTICIPANTS_UPDATE received: {type: 'group_call_participants_update', payload: {‚Ä¶}}
CallContext.tsx:1267 [CallContext] üéØ Participants in message: [4]
CallContext.tsx:1268 [CallContext] üéØ CallId in message: group_call_1757929005571_38_4
CallContext.tsx:1269 [CallContext] üéØ Full sync flag: true
CallContext.tsx:2185 [CallContext] üî• Group call participants update: {type: 'group_call_participants_update', payload: {‚Ä¶}}
CallContext.tsx:2186 [CallContext] üî• Message payload: {callId: 'group_call_1757929005571_38_4', participants: Array(1), participantData: Array(1), fullSync: true, timestamp: 1757929011868}
CallContext.tsx:2191 [CallContext] Comparing callIds - message: group_call_1757929005571_38_4 activeCall: group_call_1757929005571_38_4
CallContext.tsx:2192 [CallContext] ActiveCall groupId: 38
CallContext.tsx:2231 [CallContext] Extracted groupIds - message: 38 active: 38
CallContext.tsx:2232 [CallContext] CallId parts: (5)¬†['group', 'call', '1757929005571', '38', '4']
CallContext.tsx:2235 [CallContext] Group IDs match, updating participants: [4]
CallContext.tsx:2241 [CallContext] üéØ Processing participant update - fullSync: true participantData: [{‚Ä¶}]
CallContext.tsx:2242 [CallContext] üéØ Participants array length: 1 ParticipantData array length: 1
CallContext.tsx:2249 [CallContext] üî• Using detailed participant data from server: [{‚Ä¶}]
CallContext.tsx:2250 [CallContext] üî• Detailed participant sample: {userId: 4, userName: 'dino', audioEnabled: true, videoEnabled: true, stream: null}
CallContext.tsx:2279 [CallContext] Unique participants after deduplication: [{‚Ä¶}]
CallContext.tsx:2309 [CallContext] Processing regular participant update (not full sync)
GroupCall.tsx:296 [GroupCall] üî• Participant data update event received: {callId: 'group_call_1757929005571_38_4', participants: Array(1), isNewMember: false, fullSync: false}
CallContext.tsx:2406 [CallContext] üî• Dispatching participant-data-updated event for fullSync
GroupCall.tsx:296 [GroupCall] üî• Participant data update event received: {callId: 'group_call_1757929005571_38_4', participants: Array(1), isNewMember: false, fullSync: true, participantData: Array(1)}
CallContext.tsx:4636 [CallContext] üî• PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupCall.tsx:323 [GroupCall] Updating participants: [{‚Ä¶}]
GroupCall.tsx:324 [GroupCall] Current user ID: 2
GroupCall.tsx:325 [GroupCall] Available remote streams: Map(0)¬†{size: 0}
GroupCall.tsx:329 [GroupCall] Remote streams array: []
GroupCall.tsx:332 [GroupCall] üîç Before filtering participants: ['dino(4)']
GroupCall.tsx:333 [GroupCall] üîç Current user to filter out: 2
GroupCall.tsx:336 [GroupCall] üîç After filtering participants: ['dino(4)']
GroupCall.tsx:342 [GroupCall] üîç Mapping participant dino (4): {streamKey: 'user_4', hasStream: false, streamId: undefined, streamActive: undefined, audioTracks: 0}
GroupCall.tsx:359 [GroupCall] üìã Final participants list: [{‚Ä¶}]
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
CallContext.tsx:4532 [CallContext] üîÑ Requesting fresh participant data as backup...
CallContext.tsx:4544 [CallContext] üìä Sent fresh participant request: {type: 'request_group_participants', payload: {‚Ä¶}}
CallContext.tsx:4561 [CallContext] üìä Requested updated participant list: {type: 'request_group_participants', payload: {‚Ä¶}}
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_call_participants_update', payload: {‚Ä¶}}
CallContext.tsx:1159 [CallContext] üîç DEBUG MESSAGE ROUTING: {messageType: 'group_call_participants_update', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_call_participants_update'}
CallContext.tsx:1266 [CallContext] üî• GROUP_CALL_PARTICIPANTS_UPDATE received: {type: 'group_call_participants_update', payload: {‚Ä¶}}
CallContext.tsx:1267 [CallContext] üéØ Participants in message: (2)¬†[4, 2]
CallContext.tsx:1268 [CallContext] üéØ CallId in message: group_call_1757929005571_38_4
CallContext.tsx:1269 [CallContext] üéØ Full sync flag: undefined
CallContext.tsx:2185 [CallContext] üî• Group call participants update: {type: 'group_call_participants_update', payload: {‚Ä¶}}
CallContext.tsx:2186 [CallContext] üî• Message payload: {callId: 'group_call_1757929005571_38_4', participants: Array(2), newParticipant: 2}
CallContext.tsx:2191 [CallContext] Comparing callIds - message: group_call_1757929005571_38_4 activeCall: group_call_1757929005571_38_4
CallContext.tsx:2192 [CallContext] ActiveCall groupId: 38
CallContext.tsx:2231 [CallContext] Extracted groupIds - message: 38 active: 38
CallContext.tsx:2232 [CallContext] CallId parts: (5)¬†['group', 'call', '1757929005571', '38', '4']
CallContext.tsx:2235 [CallContext] Group IDs match, updating participants: (2)¬†[4, 2]
CallContext.tsx:2241 [CallContext] üéØ Processing participant update - fullSync: undefined participantData: undefined
CallContext.tsx:2242 [CallContext] üéØ Participants array length: 2 ParticipantData array length: undefined
CallContext.tsx:2279 [CallContext] Unique participants after deduplication: (2)¬†[{‚Ä¶}, {‚Ä¶}]
CallContext.tsx:2309 [CallContext] Processing regular participant update (not full sync)
GroupCall.tsx:296 [GroupCall] üî• Participant data update event received: {callId: 'group_call_1757929005571_38_4', participants: Array(2), isNewMember: false, fullSync: false}
CallContext.tsx:1156 [CallContext] Received message: {type: 'initiate_group_webrtc', payload: {‚Ä¶}}
CallContext.tsx:1159 [CallContext] üîç DEBUG MESSAGE ROUTING: {messageType: 'initiate_group_webrtc', hasPayload: true, messageKeys: Array(2), routingToCase: 'initiate_group_webrtc'}
CallContext.tsx:1273 [CallContext] üî• ROUTING: initiate_group_webrtc case matched, calling handleInitiateGroupWebRTC
CallContext.tsx:2438 [CallContext] üöÄ Group WebRTC initiation received: {type: 'initiate_group_webrtc', payload: {‚Ä¶}}
CallContext.tsx:2445 [CallContext] üîç DEBUG handleInitiateGroupWebRTC: {currentActiveCall: {‚Ä¶}, activeCallFromState: null, messageCallId: 'group_call_1757929005571_38_4', messageParticipants: undefined}
CallContext.tsx:2485 [CallContext] üéØ Auto-triggering WebRTC setup for group call participants: undefined
GroupCall.tsx:491 [GroupCall] Initiating WebRTC for group call: {callId: 'group_call_1757929005571_38_4', participants: undefined, forceInit: undefined, newMember: undefined, activeCall: {‚Ä¶}}
GroupCall.tsx:692 [GroupCall] üöÄ Initiating WebRTC connections for participants
GroupCall.tsx:709 [GroupCall] üéØ Creating WebRTC connection for participant: dino (4)
GroupCall.tsx:375 [GroupCall] Creating new peer connection for user 4
GroupCall.tsx:717 [GroupCall] ‚úÖ Added local audio track for user 4
CallContext.tsx:2516 [CallContext] ‚úÖ WebRTC auto-initiation event dispatched
CallContext.tsx:4636 [CallContext] üî• PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupCall.tsx:323 [GroupCall] Updating participants: (2)¬†[{‚Ä¶}, {‚Ä¶}]
GroupCall.tsx:324 [GroupCall] Current user ID: 2
GroupCall.tsx:325 [GroupCall] Available remote streams: Map(0)¬†{size: 0}
GroupCall.tsx:329 [GroupCall] Remote streams array: []
GroupCall.tsx:332 [GroupCall] üîç Before filtering participants: (2)¬†['User 4(4)', 'User 2(2)']
GroupCall.tsx:333 [GroupCall] üîç Current user to filter out: 2
GroupCall.tsx:336 [GroupCall] üîç After filtering participants: ['User 4(4)']
GroupCall.tsx:342 [GroupCall] üîç Mapping participant User 4 (4): {streamKey: 'user_4', hasStream: false, streamId: undefined, streamActive: undefined, audioTracks: 0}
GroupCall.tsx:359 [GroupCall] üìã Final participants list: [{‚Ä¶}]
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupCall.tsx:735 [GroupCall] ‚úÖ Sent WebRTC offer to user 4
GroupCall.tsx:385 [GroupCall] Sending ICE candidate to user 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_call_participants_update', payload: {‚Ä¶}}
CallContext.tsx:1159 [CallContext] üîç DEBUG MESSAGE ROUTING: {messageType: 'group_call_participants_update', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_call_participants_update'}
CallContext.tsx:1266 [CallContext] üî• GROUP_CALL_PARTICIPANTS_UPDATE received: {type: 'group_call_participants_update', payload: {‚Ä¶}}
CallContext.tsx:1267 [CallContext] üéØ Participants in message: (2)¬†[4, 2]
CallContext.tsx:1268 [CallContext] üéØ CallId in message: group_call_1757929005571_38_4
CallContext.tsx:1269 [CallContext] üéØ Full sync flag: true
CallContext.tsx:2185 [CallContext] üî• Group call participants update: {type: 'group_call_participants_update', payload: {‚Ä¶}}
CallContext.tsx:2186 [CallContext] üî• Message payload: {callId: 'group_call_1757929005571_38_4', participants: Array(2), participantData: Array(2), fullSync: true, timestamp: 1757929012159}
CallContext.tsx:2191 [CallContext] Comparing callIds - message: group_call_1757929005571_38_4 activeCall: group_call_1757929005571_38_4
CallContext.tsx:2192 [CallContext] ActiveCall groupId: 38
CallContext.tsx:2231 [CallContext] Extracted groupIds - message: 38 active: 38
CallContext.tsx:2232 [CallContext] CallId parts: (5)¬†['group', 'call', '1757929005571', '38', '4']
CallContext.tsx:2235 [CallContext] Group IDs match, updating participants: (2)¬†[4, 2]
CallContext.tsx:2241 [CallContext] üéØ Processing participant update - fullSync: true participantData: (2)¬†[{‚Ä¶}, {‚Ä¶}]
CallContext.tsx:2242 [CallContext] üéØ Participants array length: 2 ParticipantData array length: 2
CallContext.tsx:2249 [CallContext] üî• Using detailed participant data from server: (2)¬†[{‚Ä¶}, {‚Ä¶}]
CallContext.tsx:2250 [CallContext] üî• Detailed participant sample: {userId: 4, userName: 'dino', audioEnabled: true, videoEnabled: true, stream: null}
CallContext.tsx:2279 [CallContext] Unique participants after deduplication: (2)¬†[{‚Ä¶}, {‚Ä¶}]
CallContext.tsx:2309 [CallContext] Processing regular participant update (not full sync)
GroupCall.tsx:296 [GroupCall] üî• Participant data update event received: {callId: 'group_call_1757929005571_38_4', participants: Array(2), isNewMember: false, fullSync: false}
CallContext.tsx:2406 [CallContext] üî• Dispatching participant-data-updated event for fullSync
GroupCall.tsx:296 [GroupCall] üî• Participant data update event received: {callId: 'group_call_1757929005571_38_4', participants: Array(2), isNewMember: false, fullSync: true, participantData: Array(2)}
CallContext.tsx:4636 [CallContext] üî• PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupCall.tsx:323 [GroupCall] Updating participants: (2)¬†[{‚Ä¶}, {‚Ä¶}]
GroupCall.tsx:324 [GroupCall] Current user ID: 2
GroupCall.tsx:325 [GroupCall] Available remote streams: Map(0)¬†{size: 0}
GroupCall.tsx:329 [GroupCall] Remote streams array: []
GroupCall.tsx:332 [GroupCall] üîç Before filtering participants: (2)¬†['dino(4)', 'eko(2)']
GroupCall.tsx:333 [GroupCall] üîç Current user to filter out: 2
GroupCall.tsx:336 [GroupCall] üîç After filtering participants: ['dino(4)']
GroupCall.tsx:342 [GroupCall] üîç Mapping participant dino (4): {streamKey: 'user_4', hasStream: false, streamId: undefined, streamActive: undefined, audioTracks: 0}
GroupCall.tsx:359 [GroupCall] üìã Final participants list: [{‚Ä¶}]
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_call_participants_update', payload: {‚Ä¶}}
CallContext.tsx:1159 [CallContext] üîç DEBUG MESSAGE ROUTING: {messageType: 'group_call_participants_update', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_call_participants_update'}
CallContext.tsx:1266 [CallContext] üî• GROUP_CALL_PARTICIPANTS_UPDATE received: {type: 'group_call_participants_update', payload: {‚Ä¶}}
CallContext.tsx:1267 [CallContext] üéØ Participants in message: (2)¬†[4, 2]
CallContext.tsx:1268 [CallContext] üéØ CallId in message: group_call_1757929005571_38_4
CallContext.tsx:1269 [CallContext] üéØ Full sync flag: true
CallContext.tsx:2185 [CallContext] üî• Group call participants update: {type: 'group_call_participants_update', payload: {‚Ä¶}}
CallContext.tsx:2186 [CallContext] üî• Message payload: {callId: 'group_call_1757929005571_38_4', participants: Array(2), participantData: Array(2), fullSync: true, timestamp: 1757929012160}
CallContext.tsx:2191 [CallContext] Comparing callIds - message: group_call_1757929005571_38_4 activeCall: group_call_1757929005571_38_4
CallContext.tsx:2192 [CallContext] ActiveCall groupId: 38
CallContext.tsx:2231 [CallContext] Extracted groupIds - message: 38 active: 38
CallContext.tsx:2232 [CallContext] CallId parts: (5)¬†['group', 'call', '1757929005571', '38', '4']
CallContext.tsx:2235 [CallContext] Group IDs match, updating participants: (2)¬†[4, 2]
CallContext.tsx:2241 [CallContext] üéØ Processing participant update - fullSync: true participantData: (2)¬†[{‚Ä¶}, {‚Ä¶}]
CallContext.tsx:2242 [CallContext] üéØ Participants array length: 2 ParticipantData array length: 2
CallContext.tsx:2249 [CallContext] üî• Using detailed participant data from server: (2)¬†[{‚Ä¶}, {‚Ä¶}]
CallContext.tsx:2250 [CallContext] üî• Detailed participant sample: {userId: 4, userName: 'dino', audioEnabled: true, videoEnabled: true, stream: null}
CallContext.tsx:2279 [CallContext] Unique participants after deduplication: (2)¬†[{‚Ä¶}, {‚Ä¶}]
CallContext.tsx:2309 [CallContext] Processing regular participant update (not full sync)
GroupCall.tsx:296 [GroupCall] üî• Participant data update event received: {callId: 'group_call_1757929005571_38_4', participants: Array(2), isNewMember: false, fullSync: false}
CallContext.tsx:2406 [CallContext] üî• Dispatching participant-data-updated event for fullSync
GroupCall.tsx:296 [GroupCall] üî• Participant data update event received: {callId: 'group_call_1757929005571_38_4', participants: Array(2), isNewMember: false, fullSync: true, participantData: Array(2)}
CallContext.tsx:4636 [CallContext] üî• PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupCall.tsx:323 [GroupCall] Updating participants: (2)¬†[{‚Ä¶}, {‚Ä¶}]
GroupCall.tsx:324 [GroupCall] Current user ID: 2
GroupCall.tsx:325 [GroupCall] Available remote streams: Map(0)¬†{size: 0}
GroupCall.tsx:329 [GroupCall] Remote streams array: []
GroupCall.tsx:332 [GroupCall] üîç Before filtering participants: (2)¬†['dino(4)', 'eko(2)']
GroupCall.tsx:333 [GroupCall] üîç Current user to filter out: 2
GroupCall.tsx:336 [GroupCall] üîç After filtering participants: ['dino(4)']
GroupCall.tsx:342 [GroupCall] üîç Mapping participant dino (4): {streamKey: 'user_4', hasStream: false, streamId: undefined, streamActive: undefined, audioTracks: 0}
GroupCall.tsx:359 [GroupCall] üìã Final participants list: [{‚Ä¶}]
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupCall.tsx:385 [GroupCall] Sending ICE candidate to user 4
GroupCall.tsx:435 [GroupCall] Connection state changed for user 4: connecting
CallContext.tsx:1156 [CallContext] Received message: {type: 'initiate_group_webrtc', payload: {‚Ä¶}}
CallContext.tsx:1159 [CallContext] üîç DEBUG MESSAGE ROUTING: {messageType: 'initiate_group_webrtc', hasPayload: true, messageKeys: Array(2), routingToCase: 'initiate_group_webrtc'}
CallContext.tsx:1273 [CallContext] üî• ROUTING: initiate_group_webrtc case matched, calling handleInitiateGroupWebRTC
CallContext.tsx:2438 [CallContext] üöÄ Group WebRTC initiation received: {type: 'initiate_group_webrtc', payload: {‚Ä¶}}
CallContext.tsx:2445 [CallContext] üîç DEBUG handleInitiateGroupWebRTC: {currentActiveCall: {‚Ä¶}, activeCallFromState: null, messageCallId: 'group_call_1757929005571_38_4', messageParticipants: Array(2)}
CallContext.tsx:2485 [CallContext] üéØ Auto-triggering WebRTC setup for group call participants: (2)¬†[{‚Ä¶}, {‚Ä¶}]
GroupCall.tsx:491 [GroupCall] Initiating WebRTC for group call: {callId: 'group_call_1757929005571_38_4', participants: Array(2), forceInit: true, newMember: 2, activeCall: {‚Ä¶}}
GroupCall.tsx:692 [GroupCall] üöÄ Initiating WebRTC connections for participants
GroupCall.tsx:709 [GroupCall] üéØ Creating WebRTC connection for participant: dino (4)
CallContext.tsx:2500 [CallContext] üîÑ Server forced WebRTC initiation for new member 2
CallContext.tsx:2516 [CallContext] ‚úÖ WebRTC auto-initiation event dispatched
GroupCall.tsx:735 [GroupCall] ‚úÖ Sent WebRTC offer to user 4
GroupCall.tsx:516 [GroupCall] üîÑ Force WebRTC reconnect triggered for new member: {callId: 'group_call_1757929005571_38_4', participants: Array(2), newMember: 2, forceInit: true, fromServer: true}
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {‚Ä¶}}
CallContext.tsx:1159 [CallContext] üîç DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1306 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757929005571_38_4', answer: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:481 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757929005571_38_4', answer: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:646 [GroupCall] üì• PROCESSING WEBRTC ANSWER from user: 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_ice_candidate', payload: {‚Ä¶}}
CallContext.tsx:1159 [CallContext] üîç DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_ice_candidate', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_ice_candidate'}
CallContext.tsx:1313 [CallContext] Forwarding group WebRTC ICE candidate: {callId: 'group_call_1757929005571_38_4', candidate: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:486 [GroupCall] Received group WebRTC ICE candidate: {callId: 'group_call_1757929005571_38_4', candidate: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:666 [GroupCall] üì• PROCESSING ICE CANDIDATE from user: 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_ice_candidate', payload: {‚Ä¶}}
CallContext.tsx:1159 [CallContext] üîç DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_ice_candidate', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_ice_candidate'}
CallContext.tsx:1313 [CallContext] Forwarding group WebRTC ICE candidate: {callId: 'group_call_1757929005571_38_4', candidate: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:486 [GroupCall] Received group WebRTC ICE candidate: {callId: 'group_call_1757929005571_38_4', candidate: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:666 [GroupCall] üì• PROCESSING ICE CANDIDATE from user: 4
GroupCall.tsx:399 [GroupCall] üé• RECEIVED REMOTE TRACK from user 4: audio
GroupCall.tsx:400 [GroupCall] üé• Event streams: [MediaStream]
GroupCall.tsx:404 [GroupCall] üì¶ STORING REMOTE STREAM for user 4: {streamId: '43aede52-c258-466e-ba3a-ed5c42ca0dd0', active: true, audioTracks: 1}
GroupCall.tsx:656 [GroupCall] ‚úÖ Set remote description for answer from user: 4
2GroupCall.tsx:680 [GroupCall] ‚úÖ Added ICE candidate for user: 4
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupCall.tsx:415 [GroupCall] üì¶ Updated remoteStreams map, total streams: 1
GroupCall.tsx:323 [GroupCall] Updating participants: (2)¬†[{‚Ä¶}, {‚Ä¶}]
GroupCall.tsx:324 [GroupCall] Current user ID: 2
GroupCall.tsx:325 [GroupCall] Available remote streams: Map(1)¬†{'user_4' => MediaStream}
GroupCall.tsx:329 [GroupCall] Remote streams array: [MediaStream]
GroupCall.tsx:332 [GroupCall] üîç Before filtering participants: (2)¬†['dino(4)', 'eko(2)']
GroupCall.tsx:333 [GroupCall] üîç Current user to filter out: 2
GroupCall.tsx:336 [GroupCall] üîç After filtering participants: ['dino(4)']
GroupCall.tsx:342 [GroupCall] üîç Mapping participant dino (4): {streamKey: 'user_4', hasStream: true, streamId: '43aede52-c258-466e-ba3a-ed5c42ca0dd0', streamActive: true, audioTracks: 1}
GroupCall.tsx:359 [GroupCall] üìã Final participants list: [{‚Ä¶}]
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupCall.tsx:824 [GroupCall] üéØ Using EXACT SAME audio attachment as AudioCall for dino
GroupCall.tsx:827 [GroupCall] Remote stream changed for dino: MediaStream¬†{id: '43aede52-c258-466e-ba3a-ed5c42ca0dd0', active: true, onaddtrack: null, onremovetrack: null, onactive: null,¬†‚Ä¶}
GroupCall.tsx:829 [GroupCall] ‚úÖ Setting remote stream to audio element for dino
GroupCall.tsx:830 [GroupCall] Remote stream details for dino: {id: '43aede52-c258-466e-ba3a-ed5c42ca0dd0', active: true, audioTracks: 1, videoTracks: 0}
GroupCall.tsx:839 [GroupCall] dino Track 0: {kind: 'audio', enabled: true, muted: false, readyState: 'live', id: '59bce2e3-0eef-44fb-b162-dfe463066ff4'}
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_ice_candidate', payload: {‚Ä¶}}
CallContext.tsx:1159 [CallContext] üîç DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_ice_candidate', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_ice_candidate'}
CallContext.tsx:1313 [CallContext] Forwarding group WebRTC ICE candidate: {callId: 'group_call_1757929005571_38_4', candidate: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:486 [GroupCall] Received group WebRTC ICE candidate: {callId: 'group_call_1757929005571_38_4', candidate: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:666 [GroupCall] üì• PROCESSING ICE CANDIDATE from user: 4
GroupCall.tsx:680 [GroupCall] ‚úÖ Added ICE candidate for user: 4
GroupCall.tsx:858 [GroupCall] ‚úÖ dino audio playing successfully
GroupCall.tsx:435 [GroupCall] Connection state changed for user 4: connected
GroupCall.tsx:438 [GroupCall] ‚úÖ Successfully connected to user 4
CallContext.tsx:4588 [CallContext] üöÄ Triggered WebRTC initialization for group call
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupCall.tsx:422 [GroupCall] üîÑ FORCE RE-RENDER participants for user 4
GroupCall.tsx:824 [GroupCall] üéØ Using EXACT SAME audio attachment as AudioCall for dino
GroupCall.tsx:827 [GroupCall] Remote stream changed for dino: MediaStream¬†{id: '43aede52-c258-466e-ba3a-ed5c42ca0dd0', active: true, onaddtrack: null, onremovetrack: null, onactive: null,¬†‚Ä¶}
GroupCall.tsx:829 [GroupCall] ‚úÖ Setting remote stream to audio element for dino
GroupCall.tsx:830 [GroupCall] Remote stream details for dino: {id: '43aede52-c258-466e-ba3a-ed5c42ca0dd0', active: true, audioTracks: 1, videoTracks: 0}
GroupCall.tsx:839 [GroupCall] dino Track 0: {kind: 'audio', enabled: true, muted: false, readyState: 'live', id: '59bce2e3-0eef-44fb-b162-dfe463066ff4'}
GroupCall.tsx:858 [GroupCall] ‚úÖ dino audio playing successfully
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {‚Ä¶}}
CallContext.tsx:1159 [CallContext] üîç DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1299 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757929005571_38_4', offer: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:476 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757929005571_38_4', offer: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:557 [GroupCall] üì• PROCESSING WEBRTC OFFER from user: 4
GroupCall.tsx:604 [GroupCall] üìä Current senders before answer for user 4: 1
GroupCall.tsx:619 [GroupCall] ‚úÖ Set remote description for offer from user: 4
GroupCall.tsx:625 [GroupCall] ‚úÖ Created and set local answer for user: 4
GroupCall.tsx:637 [GroupCall] ‚úÖ Sent WebRTC answer to user: 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {‚Ä¶}}
CallContext.tsx:1159 [CallContext] üîç DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1306 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757929005571_38_4', answer: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:481 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757929005571_38_4', answer: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:646 [GroupCall] üì• PROCESSING WEBRTC ANSWER from user: 4
GroupCall.tsx:661 [GroupCall] ‚ùå Error handling incoming answer from user 4: InvalidStateError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: Called in wrong state: stable
handleIncomingWebRTCAnswer @ GroupCall.tsx:661
await in handleIncomingWebRTCAnswer
handleGroupWebRTCAnswer @ GroupCall.tsx:482
websocket.onmessage @ CallContext.tsx:1307Understand this error
CallContext.tsx:1156 [CallContext] Received message: {type: 'force_webrtc_reconnect', payload: {‚Ä¶}}
CallContext.tsx:1159 [CallContext] üîç DEBUG MESSAGE ROUTING: {messageType: 'force_webrtc_reconnect', hasPayload: true, messageKeys: Array(2), routingToCase: 'force_webrtc_reconnect'}
CallContext.tsx:1277 [CallContext] üî• ROUTING: force_webrtc_reconnect case matched, calling handleInitiateGroupWebRTC
CallContext.tsx:2438 [CallContext] üöÄ Group WebRTC initiation received: {type: 'force_webrtc_reconnect', payload: {‚Ä¶}}
CallContext.tsx:2445 [CallContext] üîç DEBUG handleInitiateGroupWebRTC: {currentActiveCall: {‚Ä¶}, activeCallFromState: null, messageCallId: 'group_call_1757929005571_38_4', messageParticipants: Array(2)}
CallContext.tsx:2485 [CallContext] üéØ Auto-triggering WebRTC setup for group call participants: (2)¬†[{‚Ä¶}, {‚Ä¶}]
GroupCall.tsx:491 [GroupCall] Initiating WebRTC for group call: {callId: 'group_call_1757929005571_38_4', participants: Array(2), forceInit: true, newMember: 2, activeCall: {‚Ä¶}}
GroupCall.tsx:692 [GroupCall] üöÄ Initiating WebRTC connections for participants
GroupCall.tsx:709 [GroupCall] üéØ Creating WebRTC connection for participant: dino (4)
CallContext.tsx:2500 [CallContext] üîÑ Server forced WebRTC initiation for new member 2
CallContext.tsx:2516 [CallContext] ‚úÖ WebRTC auto-initiation event dispatched
GroupCall.tsx:735 [GroupCall] ‚úÖ Sent WebRTC offer to user 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {‚Ä¶}}
CallContext.tsx:1159 [CallContext] üîç DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1299 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757929005571_38_4', offer: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:476 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757929005571_38_4', offer: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:557 [GroupCall] üì• PROCESSING WEBRTC OFFER from user: 4
GroupCall.tsx:604 [GroupCall] üìä Current senders before answer for user 4: 1
GroupCall.tsx:619 [GroupCall] ‚úÖ Set remote description for offer from user: 4
GroupCall.tsx:625 [GroupCall] ‚úÖ Created and set local answer for user: 4
GroupCall.tsx:637 [GroupCall] ‚úÖ Sent WebRTC answer to user: 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_call_participants_update', payload: {‚Ä¶}}
CallContext.tsx:1159 [CallContext] üîç DEBUG MESSAGE ROUTING: {messageType: 'group_call_participants_update', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_call_participants_update'}
CallContext.tsx:1266 [CallContext] üî• GROUP_CALL_PARTICIPANTS_UPDATE received: {type: 'group_call_participants_update', payload: {‚Ä¶}}
CallContext.tsx:1267 [CallContext] üéØ Participants in message: (2)¬†[{‚Ä¶}, {‚Ä¶}]
CallContext.tsx:1268 [CallContext] üéØ CallId in message: group_call_1757929005571_38_4
CallContext.tsx:1269 [CallContext] üéØ Full sync flag: true
CallContext.tsx:2185 [CallContext] üî• Group call participants update: {type: 'group_call_participants_update', payload: {‚Ä¶}}
CallContext.tsx:2186 [CallContext] üî• Message payload: {callId: 'group_call_1757929005571_38_4', participants: Array(2), isNewMember: true, fullSync: true}
CallContext.tsx:2191 [CallContext] Comparing callIds - message: group_call_1757929005571_38_4 activeCall: group_call_1757929005571_38_4
CallContext.tsx:2192 [CallContext] ActiveCall groupId: 38
CallContext.tsx:2231 [CallContext] Extracted groupIds - message: 38 active: 38
CallContext.tsx:2232 [CallContext] CallId parts: (5)¬†['group', 'call', '1757929005571', '38', '4']
CallContext.tsx:2235 [CallContext] Group IDs match, updating participants: (2)¬†[{‚Ä¶}, {‚Ä¶}]
CallContext.tsx:2241 [CallContext] üéØ Processing participant update - fullSync: true participantData: undefined
CallContext.tsx:2242 [CallContext] üéØ Participants array length: 2 ParticipantData array length: undefined
CallContext.tsx:2254 [CallContext] Received detailed participant data: (2)¬†[{‚Ä¶}, {‚Ä¶}]
CallContext.tsx:2279 [CallContext] Unique participants after deduplication: (2)¬†[{‚Ä¶}, {‚Ä¶}]
CallContext.tsx:2283 [CallContext] üî• Full sync for new member - ensuring complete participant data
GroupCall.tsx:296 [GroupCall] üî• Participant data update event received: {callId: 'group_call_1757929005571_38_4', participants: Array(2), isNewMember: true, fullSync: true}
GroupCall.tsx:300 [GroupCall] üéØ Full sync for new member - updating participant list
CallContext.tsx:2304 [CallContext] üéØ Full sync complete - participant data updated for new member
CallContext.tsx:4636 [CallContext] üî• PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupCall.tsx:323 [GroupCall] Updating participants: (2)¬†[{‚Ä¶}, {‚Ä¶}]
GroupCall.tsx:324 [GroupCall] Current user ID: 2
GroupCall.tsx:325 [GroupCall] Available remote streams: Map(1)¬†{'user_4' => MediaStream}
GroupCall.tsx:329 [GroupCall] Remote streams array: [MediaStream]
GroupCall.tsx:332 [GroupCall] üîç Before filtering participants: (2)¬†['dino(4)', 'eko(2)']
GroupCall.tsx:333 [GroupCall] üîç Current user to filter out: 2
GroupCall.tsx:336 [GroupCall] üîç After filtering participants: ['dino(4)']
GroupCall.tsx:342 [GroupCall] üîç Mapping participant dino (4): {streamKey: 'user_4', hasStream: true, streamId: '43aede52-c258-466e-ba3a-ed5c42ca0dd0', streamActive: true, audioTracks: 1}
GroupCall.tsx:359 [GroupCall] üìã Final participants list: [{‚Ä¶}]
useCall.ts:12 [useCall] üî• Context value: {incomingCall: null, activeCall: {‚Ä¶}, hasIncomingCall: false}
GroupCall.tsx:824 [GroupCall] üéØ Using EXACT SAME audio attachment as AudioCall for dino
GroupCall.tsx:827 [GroupCall] Remote stream changed for dino: MediaStream¬†{id: '43aede52-c258-466e-ba3a-ed5c42ca0dd0', active: true, onaddtrack: null, onremovetrack: null, onactive: null,¬†‚Ä¶}
GroupCall.tsx:829 [GroupCall] ‚úÖ Setting remote stream to audio element for dino
GroupCall.tsx:830 [GroupCall] Remote stream details for dino: {id: '43aede52-c258-466e-ba3a-ed5c42ca0dd0', active: true, audioTracks: 1, videoTracks: 0}
GroupCall.tsx:839 [GroupCall] dino Track 0: {kind: 'audio', enabled: true, muted: false, readyState: 'live', id: '59bce2e3-0eef-44fb-b162-dfe463066ff4'}
GroupCall.tsx:858 [GroupCall] ‚úÖ dino audio playing successfully
GroupCall.tsx:516 [GroupCall] üîÑ Force WebRTC reconnect triggered for new member: {callId: 'group_call_1757929005571_38_4', participants: Array(2), newMember: 2, forceInit: true, fromServer: true}
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {‚Ä¶}}
CallContext.tsx:1159 [CallContext] üîç DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1299 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757929005571_38_4', offer: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:476 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757929005571_38_4', offer: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:557 [GroupCall] üì• PROCESSING WEBRTC OFFER from user: 4
GroupCall.tsx:604 [GroupCall] üìä Current senders before answer for user 4: 1
GroupCall.tsx:619 [GroupCall] ‚úÖ Set remote description for offer from user: 4
GroupCall.tsx:625 [GroupCall] ‚úÖ Created and set local answer for user: 4
GroupCall.tsx:637 [GroupCall] ‚úÖ Sent WebRTC answer to user: 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {‚Ä¶}}
CallContext.tsx:1159 [CallContext] üîç DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1306 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757929005571_38_4', answer: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:481 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757929005571_38_4', answer: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:646 [GroupCall] üì• PROCESSING WEBRTC ANSWER from user: 4
GroupCall.tsx:661 [GroupCall] ‚ùå Error handling incoming answer from user 4: InvalidStateError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: Called in wrong state: stable
handleIncomingWebRTCAnswer @ GroupCall.tsx:661
await in handleIncomingWebRTCAnswer
handleGroupWebRTCAnswer @ GroupCall.tsx:482
websocket.onmessage @ CallContext.tsx:1307Understand this error
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {‚Ä¶}}
CallContext.tsx:1159 [CallContext] üîç DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1299 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757929005571_38_4', offer: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:476 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757929005571_38_4', offer: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:557 [GroupCall] üì• PROCESSING WEBRTC OFFER from user: 4
GroupCall.tsx:604 [GroupCall] üìä Current senders before answer for user 4: 1
GroupCall.tsx:619 [GroupCall] ‚úÖ Set remote description for offer from user: 4
GroupCall.tsx:625 [GroupCall] ‚úÖ Created and set local answer for user: 4
GroupCall.tsx:637 [GroupCall] ‚úÖ Sent WebRTC answer to user: 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'initiate_group_webrtc', payload: {‚Ä¶}}
CallContext.tsx:1159 [CallContext] üîç DEBUG MESSAGE ROUTING: {messageType: 'initiate_group_webrtc', hasPayload: true, messageKeys: Array(2), routingToCase: 'initiate_group_webrtc'}
CallContext.tsx:1273 [CallContext] üî• ROUTING: initiate_group_webrtc case matched, calling handleInitiateGroupWebRTC
CallContext.tsx:2438 [CallContext] üöÄ Group WebRTC initiation received: {type: 'initiate_group_webrtc', payload: {‚Ä¶}}
CallContext.tsx:2445 [CallContext] üîç DEBUG handleInitiateGroupWebRTC: {currentActiveCall: {‚Ä¶}, activeCallFromState: null, messageCallId: 'group_call_1757929005571_38_4', messageParticipants: Array(2)}
CallContext.tsx:2485 [CallContext] üéØ Auto-triggering WebRTC setup for group call participants: (2)¬†[{‚Ä¶}, {‚Ä¶}]
GroupCall.tsx:491 [GroupCall] Initiating WebRTC for group call: {callId: 'group_call_1757929005571_38_4', participants: Array(2), forceInit: true, newMember: undefined, activeCall: {‚Ä¶}}
GroupCall.tsx:692 [GroupCall] üöÄ Initiating WebRTC connections for participants
GroupCall.tsx:709 [GroupCall] üéØ Creating WebRTC connection for participant: dino (4)
CallContext.tsx:2516 [CallContext] ‚úÖ WebRTC auto-initiation event dispatched
GroupCall.tsx:735 [GroupCall] ‚úÖ Sent WebRTC offer to user 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {‚Ä¶}}
CallContext.tsx:1159 [CallContext] üîç DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1299 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757929005571_38_4', offer: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:476 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757929005571_38_4', offer: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:557 [GroupCall] üì• PROCESSING WEBRTC OFFER from user: 4
GroupCall.tsx:604 [GroupCall] üìä Current senders before answer for user 4: 1
GroupCall.tsx:619 [GroupCall] ‚úÖ Set remote description for offer from user: 4
GroupCall.tsx:625 [GroupCall] ‚úÖ Created and set local answer for user: 4
GroupCall.tsx:637 [GroupCall] ‚úÖ Sent WebRTC answer to user: 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {‚Ä¶}}
CallContext.tsx:1159 [CallContext] üîç DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1306 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757929005571_38_4', answer: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:481 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757929005571_38_4', answer: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:646 [GroupCall] üì• PROCESSING WEBRTC ANSWER from user: 4
GroupCall.tsx:661 [GroupCall] ‚ùå Error handling incoming answer from user 4: InvalidStateError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: Called in wrong state: stable
handleIncomingWebRTCAnswer @ GroupCall.tsx:661
await in handleIncomingWebRTCAnswer
handleGroupWebRTCAnswer @ GroupCall.tsx:482
websocket.onmessage @ CallContext.tsx:1307Understand this error
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {‚Ä¶}}
CallContext.tsx:1159 [CallContext] üîç DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_offer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_offer'}
CallContext.tsx:1299 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1757929005571_38_4', offer: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:476 [GroupCall] Received group WebRTC offer: {callId: 'group_call_1757929005571_38_4', offer: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:557 [GroupCall] üì• PROCESSING WEBRTC OFFER from user: 4
GroupCall.tsx:604 [GroupCall] üìä Current senders before answer for user 4: 1
GroupCall.tsx:619 [GroupCall] ‚úÖ Set remote description for offer from user: 4
GroupCall.tsx:625 [GroupCall] ‚úÖ Created and set local answer for user: 4
GroupCall.tsx:637 [GroupCall] ‚úÖ Sent WebRTC answer to user: 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'force_webrtc_reconnect', payload: {‚Ä¶}}
CallContext.tsx:1159 [CallContext] üîç DEBUG MESSAGE ROUTING: {messageType: 'force_webrtc_reconnect', hasPayload: true, messageKeys: Array(2), routingToCase: 'force_webrtc_reconnect'}
CallContext.tsx:1277 [CallContext] üî• ROUTING: force_webrtc_reconnect case matched, calling handleInitiateGroupWebRTC
CallContext.tsx:2438 [CallContext] üöÄ Group WebRTC initiation received: {type: 'force_webrtc_reconnect', payload: {‚Ä¶}}
CallContext.tsx:2445 [CallContext] üîç DEBUG handleInitiateGroupWebRTC: {currentActiveCall: {‚Ä¶}, activeCallFromState: null, messageCallId: 'group_call_1757929005571_38_4', messageParticipants: Array(2)}
CallContext.tsx:2485 [CallContext] üéØ Auto-triggering WebRTC setup for group call participants: (2)¬†[{‚Ä¶}, {‚Ä¶}]
GroupCall.tsx:491 [GroupCall] Initiating WebRTC for group call: {callId: 'group_call_1757929005571_38_4', participants: Array(2), forceInit: true, newMember: undefined, activeCall: {‚Ä¶}}
GroupCall.tsx:692 [GroupCall] üöÄ Initiating WebRTC connections for participants
GroupCall.tsx:709 [GroupCall] üéØ Creating WebRTC connection for participant: dino (4)
CallContext.tsx:2516 [CallContext] ‚úÖ WebRTC auto-initiation event dispatched
GroupCall.tsx:735 [GroupCall] ‚úÖ Sent WebRTC offer to user 4
CallContext.tsx:1156 [CallContext] Received message: {type: 'group_webrtc_answer', payload: {‚Ä¶}}
CallContext.tsx:1159 [CallContext] üîç DEBUG MESSAGE ROUTING: {messageType: 'group_webrtc_answer', hasPayload: true, messageKeys: Array(2), routingToCase: 'group_webrtc_answer'}
CallContext.tsx:1306 [CallContext] Forwarding group WebRTC answer: {callId: 'group_call_1757929005571_38_4', answer: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:481 [GroupCall] Received group WebRTC answer: {callId: 'group_call_1757929005571_38_4', answer: {‚Ä¶}, fromUserId: 4}
GroupCall.tsx:646 [GroupCall] üì• PROCESSING WEBRTC ANSWER from user: 4
GroupCall.tsx:656 [GroupCall] ‚úÖ Set remote description for answer from user: 4