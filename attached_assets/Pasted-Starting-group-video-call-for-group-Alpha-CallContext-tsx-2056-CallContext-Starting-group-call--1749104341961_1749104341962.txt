Starting group video call for group: Alpha
CallContext.tsx:2056 [CallContext] Starting group call: {groupId: 37, groupName: 'Alpha', callType: 'video'}
CallContext.tsx:11 [CallContext] Mobile compatibility check: {isMobile: false, isHTTPS: true, userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWeb…KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', hasMediaDevices: ƒ}
CallContext.tsx:2067 [CallContext] Mobile compatibility check for group call: {isMobile: false, isHTTPS: true, hasMediaDevices: ƒ}
CallContext.tsx:2090 [CallContext] Requesting media permissions for group call...
CallContext.tsx:2092 [CallContext] Got local media stream for group call
CallContext.tsx:2143 [CallContext] Group call invitation sent
ChatRoom.tsx:634 Processing message data for grouping: (3) [{…}, {…}, {…}]
ChatRoom.tsx:635 Total messages to process: 3
ChatRoom.tsx:707 Grouped messages: [{…}]
ChatRoom.tsx:708 Total date groups: 1
ChatRoom.tsx:710 Total messages in first group: 3
IncomingCallModal.tsx:8 [IncomingCallModal] Rendering with incomingCall: null
GroupVideoCall.tsx:92 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749104283781_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:93 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:94 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:95 [GroupVideoCall] localStream: null
GroupVideoCall.tsx:101 [GroupVideoCall] Getting local media stream...
GroupVideoCall.tsx:130 [GroupVideoCall] Processing participants from activeCall: 0
GroupVideoCall.tsx:141 [GroupVideoCall] Unique participants created: 0
ChatRoom.tsx:634 Processing message data for grouping: (3) [{…}, {…}, {…}]
ChatRoom.tsx:635 Total messages to process: 3
ChatRoom.tsx:707 Grouped messages: [{…}]
ChatRoom.tsx:708 Total date groups: 1
ChatRoom.tsx:710 Total messages in first group: 3
IncomingCallModal.tsx:8 [IncomingCallModal] Rendering with incomingCall: null
GroupVideoCall.tsx:92 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749104283781_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:93 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:94 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:95 [GroupVideoCall] localStream: null
GroupVideoCall.tsx:92 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749104283781_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:93 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:94 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:95 [GroupVideoCall] localStream: null
GroupVideoCall.tsx:107 [GroupVideoCall] Got local media stream: MediaStream {id: '52f10815-978f-409f-bf2b-4190781d0dd0', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
GroupVideoCall.tsx:92 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749104283781_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:93 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:94 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:95 [GroupVideoCall] localStream: MediaStream {id: '52f10815-978f-409f-bf2b-4190781d0dd0', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
GroupVideoCall.tsx:130 [GroupVideoCall] Processing participants from activeCall: 0
GroupVideoCall.tsx:141 [GroupVideoCall] Unique participants created: 0
GroupVideoCall.tsx:92 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749104283781_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:93 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:94 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:95 [GroupVideoCall] localStream: MediaStream {id: '52f10815-978f-409f-bf2b-4190781d0dd0', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
GroupVideoCall.tsx:92 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749104283781_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:93 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:94 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:95 [GroupVideoCall] localStream: null
GroupVideoCall.tsx:101 [GroupVideoCall] Getting local media stream...
GroupVideoCall.tsx:130 [GroupVideoCall] Processing participants from activeCall: 0
GroupVideoCall.tsx:141 [GroupVideoCall] Unique participants created: 0
GroupVideoCall.tsx:92 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749104283781_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:93 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:94 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:95 [GroupVideoCall] localStream: null
GroupVideoCall.tsx:107 [GroupVideoCall] Got local media stream: MediaStream {id: '39c67dee-0f64-429b-8e3e-22d2807d0013', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
GroupVideoCall.tsx:92 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749104283781_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:93 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:94 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:95 [GroupVideoCall] localStream: MediaStream {id: '39c67dee-0f64-429b-8e3e-22d2807d0013', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
GroupVideoCall.tsx:130 [GroupVideoCall] Processing participants from activeCall: 0
GroupVideoCall.tsx:141 [GroupVideoCall] Unique participants created: 0
GroupVideoCall.tsx:92 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749104283781_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:93 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:94 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:95 [GroupVideoCall] localStream: MediaStream {id: '39c67dee-0f64-429b-8e3e-22d2807d0013', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
GroupVideoCall.tsx:92 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749104283781_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:93 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:94 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:95 [GroupVideoCall] localStream: MediaStream {id: '39c67dee-0f64-429b-8e3e-22d2807d0013', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
CallContext.tsx:380 [CallContext] Creating stable WebSocket for calls...
CallContext.tsx:490 [CallContext] WebSocket disconnected
GroupVideoCall.tsx:92 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749104283781_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:93 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:94 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:95 [GroupVideoCall] localStream: MediaStream {id: '39c67dee-0f64-429b-8e3e-22d2807d0013', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
CallContext.tsx:387 [CallContext] WebSocket connected successfully for calls
CallContext.tsx:401 [CallContext] Authenticated user 2 with WebSocket
GroupVideoCall.tsx:92 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749104283781_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:93 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:94 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:95 [GroupVideoCall] localStream: MediaStream {id: '39c67dee-0f64-429b-8e3e-22d2807d0013', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
CallContext.tsx:420 [CallContext] Received message: {type: 'user_status', payload: {…}}
CallContext.tsx:420 [CallContext] Received message: {type: 'group_call_participants_update', payload: {…}}
CallContext.tsx:1014 [CallContext] Group call participants update: {type: 'group_call_participants_update', payload: {…}}
CallContext.tsx:1019 [CallContext] Comparing callIds - message: group_call_1749104283781_37_2 activeCall: group_call_1749104283781_37_2
CallContext.tsx:1020 [CallContext] ActiveCall groupId: 37
CallContext.tsx:1059 [CallContext] Extracted groupIds - message: 37 active: 37
CallContext.tsx:1060 [CallContext] CallId parts: (5) ['group', 'call', '1749104283781', '37', '2']
CallContext.tsx:1063 [CallContext] Group IDs match, updating participants: (2) [2, 5]
CallContext.tsx:1067 [CallContext] Unique participants after deduplication: (2) [2, 5]
CallContext.tsx:1085 [CallContext] Updated participants in active call: (2) [2, 5]
GroupVideoCall.tsx:92 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749104283781_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:93 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:94 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:95 [GroupVideoCall] localStream: MediaStream {id: '39c67dee-0f64-429b-8e3e-22d2807d0013', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
GroupVideoCall.tsx:130 [GroupVideoCall] Processing participants from activeCall: 2
GroupVideoCall.tsx:141 [GroupVideoCall] Unique participants created: 2
GroupVideoCall.tsx:92 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1749104283781_37_2', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream, …}
GroupVideoCall.tsx:93 [GroupVideoCall] user?.id: 2
GroupVideoCall.tsx:94 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:95 [GroupVideoCall] localStream: MediaStream {id: '39c67dee-0f64-429b-8e3e-22d2807d0013', active: true, onaddtrack: null, onremovetrack: null, onactive: null, …}
GroupVideoCall.tsx:149 [GroupVideoCall] Setting up WebRTC connections sequentially
GroupVideoCall.tsx:176 [GroupVideoCall] Processing connection for user: 5
GroupVideoCall.tsx:180 [GroupVideoCall] Creating peer connection for user: 5
GroupVideoCall.tsx:198 [GroupVideoCall] Adding local track to peer connection: audio
GroupVideoCall.tsx:198 [GroupVideoCall] Adding local track to peer connection: video
GroupVideoCall.tsx:279 [GroupVideoCall] Sent WebRTC offer to user: 5
CallContext.tsx:420 [CallContext] Received message: {type: 'group_webrtc_offer', payload: {…}}
CallContext.tsx:464 [CallContext] Forwarding group WebRTC offer: {callId: 'group_call_1749104283781_37_2', offer: {…}, fromUserId: 5}
CallContext.tsx:420 [CallContext] Received message: {type: 'user_status', payload: {…}}
CallContext.tsx:1812 [CallContext] Hanging up call - start
CallContext.tsx:1826 [CallContext] Stopping local media tracks
CallContext.tsx:1830 [CallContext] Stopped local track: audio
CallContext.tsx:1830 [CallContext] Stopped local track: video
CallContext.tsx:1839 [CallContext] Cleaning up group call audio elements
CallContext.tsx:1926 [CallContext] Ending group call: group_call_1749104283781_37_2
CallContext.tsx:1971 [CallContext] Call ended successfully, all audio streams stopped, navigated back to chat