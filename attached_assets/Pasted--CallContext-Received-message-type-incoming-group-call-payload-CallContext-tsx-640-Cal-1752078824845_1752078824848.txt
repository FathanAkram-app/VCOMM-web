[CallContext] Received message: {type: 'incoming_group_call', payload: {â€¦}}
CallContext.tsx:640 [CallContext] ðŸš¨ INCOMING GROUP CALL MESSAGE DETECTED - USER ID: 5
CallContext.tsx:641 [CallContext] ðŸš¨ MESSAGE PAYLOAD: {
  "type": "incoming_group_call",
  "payload": {
    "callId": "group_call_1752078747951_38_2",
    "groupId": 38,
    "groupName": "Ampera Grup",
    "callType": "video",
    "fromUserId": 2,
    "fromUserName": "eko"
  }
}
CallContext.tsx:654 [CallContext] Received incoming_group_call: {callId: 'group_call_1752078747951_38_2', groupId: 38, groupName: 'Ampera Grup', callType: 'video', fromUserId: 2,Â â€¦}
CallContext.tsx:1206 [CallContext] ðŸ”” Incoming group call received: {callId: 'group_call_1752078747951_38_2', groupId: 38, groupName: 'Ampera Grup', callType: 'video', fromUserId: 2,Â â€¦}
CallContext.tsx:1209 [CallContext] Extracted call details: {callId: 'group_call_1752078747951_38_2', groupId: 38, groupName: 'Ampera Grup', callType: 'video'}
CallContext.tsx:1210 [CallContext] Current activeCall: undefined
CallContext.tsx:1219 [CallContext] ðŸ”Š Playing notification sound for incoming group call
CallContext.tsx:636 [CallContext] Received message: {type: 'user_status', payload: {â€¦}}
sw.js:193 [SW] Message received: {type: 'KEEP_ALIVE'}
sw.js:200 Uncaught TypeError: Cannot read properties of undefined (reading 'postMessage')
    at sw.js:200:22
(anonymous) @ sw.js:200Understand this error
CallContext.tsx:636 [CallContext] Received message: {type: 'user_status', payload: {â€¦}}
CallContext.tsx:636 [CallContext] Received message: {type: 'group_call_ended', payload: {â€¦}}
CallContext.tsx:1274 [CallContext] Group call ended: {callId: 'group_call_1752078747951_38_2', endedByUserId: 2}
CallContext.tsx:636 [CallContext] Received message: {type: 'user_status', payload: {â€¦}}
CallContext.tsx:636 [CallContext] Received message: {type: 'user_status', payload: {â€¦}}
Chat.tsx:954 Selecting chat: id=38, isGroup=true
Chat.tsx:968 Fetching messages for chat ID: 38, isGroup: true
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
ChatRoom.tsx:736 Processing message data for grouping: []
ChatRoom.tsx:737 Total messages to process: 0
ChatRoom.tsx:809 Grouped messages: []
ChatRoom.tsx:810 Total date groups: 0
IncomingCallModal.tsx:4 [IncomingCallModal] ðŸ”¥ COMPONENT RENDERED - START
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
IncomingCallModal.tsx:8 [IncomingCallModal] ðŸ”¥ After useCall hook - incomingCall: null
IncomingCallModal.tsx:9 [IncomingCallModal] ðŸ”¥ incomingCall type check: object
IncomingCallModal.tsx:10 [IncomingCallModal] ðŸ”¥ incomingCall falsy check: true
IncomingCallModal.tsx:13 [IncomingCallModal] No incoming call, returning null
ChatRoom.tsx:211 Messages data received: []
ChatRoom.tsx:213 Fetched 0 messages for chat 38
ChatRoom.tsx:219 ReplyToMessage state changed: null
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
ChatRoom.tsx:736 Processing message data for grouping: []
ChatRoom.tsx:737 Total messages to process: 0
ChatRoom.tsx:809 Grouped messages: []
ChatRoom.tsx:810 Total date groups: 0
ChatRoom.tsx:211 Messages data received: []
ChatRoom.tsx:213 Fetched 0 messages for chat 38
Chat.tsx:982 Fetched 8 messages for chat 38
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
ChatRoom.tsx:736 Processing message data for grouping: []
ChatRoom.tsx:737 Total messages to process: 0
ChatRoom.tsx:809 Grouped messages: []
ChatRoom.tsx:810 Total date groups: 0
IncomingCallModal.tsx:4 [IncomingCallModal] ðŸ”¥ COMPONENT RENDERED - START
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
IncomingCallModal.tsx:8 [IncomingCallModal] ðŸ”¥ After useCall hook - incomingCall: null
IncomingCallModal.tsx:9 [IncomingCallModal] ðŸ”¥ incomingCall type check: object
IncomingCallModal.tsx:10 [IncomingCallModal] ðŸ”¥ incomingCall falsy check: true
IncomingCallModal.tsx:13 [IncomingCallModal] No incoming call, returning null
ChatRoom.tsx:140 Messages marked as read for conversation 38
ChatRoom.tsx:211 Messages data received: []
ChatRoom.tsx:213 Fetched 0 messages for chat 38
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
ChatRoom.tsx:736 Processing message data for grouping: []
ChatRoom.tsx:737 Total messages to process: 0
ChatRoom.tsx:809 Grouped messages: []
ChatRoom.tsx:810 Total date groups: 0
IncomingCallModal.tsx:4 [IncomingCallModal] ðŸ”¥ COMPONENT RENDERED - START
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
IncomingCallModal.tsx:8 [IncomingCallModal] ðŸ”¥ After useCall hook - incomingCall: null
IncomingCallModal.tsx:9 [IncomingCallModal] ðŸ”¥ incomingCall type check: object
IncomingCallModal.tsx:10 [IncomingCallModal] ðŸ”¥ incomingCall falsy check: true
IncomingCallModal.tsx:13 [IncomingCallModal] No incoming call, returning null
ChatRoom.tsx:211 Messages data received: []
ChatRoom.tsx:213 Fetched 0 messages for chat 38
CallContext.tsx:2656 [CallContext] ðŸ”¥ PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: null, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
ChatRoom.tsx:736 Processing message data for grouping: []
ChatRoom.tsx:737 Total messages to process: 0
ChatRoom.tsx:809 Grouped messages: []
ChatRoom.tsx:810 Total date groups: 0
IncomingCallModal.tsx:4 [IncomingCallModal] ðŸ”¥ COMPONENT RENDERED - START
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
IncomingCallModal.tsx:8 [IncomingCallModal] ðŸ”¥ After useCall hook - incomingCall: null
IncomingCallModal.tsx:9 [IncomingCallModal] ðŸ”¥ incomingCall type check: object
IncomingCallModal.tsx:10 [IncomingCallModal] ðŸ”¥ incomingCall falsy check: true
IncomingCallModal.tsx:13 [IncomingCallModal] No incoming call, returning null
ChatRoom.tsx:211 Messages data received: []
ChatRoom.tsx:213 Fetched 0 messages for chat 38
CallContext.tsx:596 [CallContext] Creating stable WebSocket for calls...
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
ChatRoom.tsx:736 Processing message data for grouping: []
ChatRoom.tsx:737 Total messages to process: 0
ChatRoom.tsx:809 Grouped messages: []
ChatRoom.tsx:810 Total date groups: 0
ChatRoom.tsx:211 Messages data received: []
ChatRoom.tsx:213 Fetched 0 messages for chat 38
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
ChatRoom.tsx:736 Processing message data for grouping: []
ChatRoom.tsx:737 Total messages to process: 0
ChatRoom.tsx:809 Grouped messages: []
ChatRoom.tsx:810 Total date groups: 0
ChatRoom.tsx:211 Messages data received: []
ChatRoom.tsx:213 Fetched 0 messages for chat 38
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
ChatRoom.tsx:736 Processing message data for grouping: []
ChatRoom.tsx:737 Total messages to process: 0
ChatRoom.tsx:809 Grouped messages: []
ChatRoom.tsx:810 Total date groups: 0
ChatRoom.tsx:211 Messages data received: []
ChatRoom.tsx:213 Fetched 0 messages for chat 38
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
ChatRoom.tsx:736 Processing message data for grouping: []
ChatRoom.tsx:737 Total messages to process: 0
ChatRoom.tsx:809 Grouped messages: []
ChatRoom.tsx:810 Total date groups: 0
ChatRoom.tsx:211 Messages data received: []
ChatRoom.tsx:213 Fetched 0 messages for chat 38
CallContext.tsx:731 [CallContext] WebSocket disconnected
CallContext.tsx:2656 [CallContext] ðŸ”¥ PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: null, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
ChatRoom.tsx:736 Processing message data for grouping: []
ChatRoom.tsx:737 Total messages to process: 0
ChatRoom.tsx:809 Grouped messages: []
ChatRoom.tsx:810 Total date groups: 0
IncomingCallModal.tsx:4 [IncomingCallModal] ðŸ”¥ COMPONENT RENDERED - START
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
IncomingCallModal.tsx:8 [IncomingCallModal] ðŸ”¥ After useCall hook - incomingCall: null
IncomingCallModal.tsx:9 [IncomingCallModal] ðŸ”¥ incomingCall type check: object
IncomingCallModal.tsx:10 [IncomingCallModal] ðŸ”¥ incomingCall falsy check: true
IncomingCallModal.tsx:13 [IncomingCallModal] No incoming call, returning null
ChatRoom.tsx:211 Messages data received: []
ChatRoom.tsx:213 Fetched 0 messages for chat 38
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
ChatRoom.tsx:736 Processing message data for grouping: (8)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
ChatRoom.tsx:737 Total messages to process: 8
ChatRoom.tsx:742 Messages with replies: [{â€¦}]
ChatRoom.tsx:809 Grouped messages: [{â€¦}]
ChatRoom.tsx:810 Total date groups: 1
ChatRoom.tsx:812 Total messages in first group: 8
ChatRoom.tsx:1155 [Message Debug] Message ID: 197, replyToId: null, content: cek
ChatRoom.tsx:1155 [Message Debug] Message ID: 198, replyToId: null, content: gmn
ChatRoom.tsx:1155 [Message Debug] Message ID: 199, replyToId: null, content: coba
ChatRoom.tsx:1155 [Message Debug] Message ID: 200, replyToId: null, content: kok
ChatRoom.tsx:1155 [Message Debug] Message ID: 214, replyToId: null, content: Cek
ChatRoom.tsx:1155 [Message Debug] Message ID: 215, replyToId: null, content: Testttttt
ChatRoom.tsx:1155 [Message Debug] Message ID: 216, replyToId: null, content: 86
ChatRoom.tsx:1155 [Message Debug] Message ID: 217, replyToId: 216, content: cakep
ChatRoom.tsx:1183 [Reply Debug] Message 217 has replyToId: 216
ChatRoom.tsx:1184 [Reply Debug] All messages: (8)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
ChatRoom.tsx:1187 [Reply Debug] Found replied message: {id: 216, senderId: 7, senderName: 'Blackbox', content: '86', timestamp: '2025-06-05T12:27:36.691Z',Â â€¦}
ChatRoom.tsx:211 Messages data received: (8)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
ChatRoom.tsx:213 Fetched 8 messages for chat 38
CallContext.tsx:603 [CallContext] WebSocket connected successfully for calls
CallContext.tsx:617 [CallContext] Authenticated user 5 with WebSocket
CallContext.tsx:2656 [CallContext] ðŸ”¥ PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: null, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
ChatRoom.tsx:736 Processing message data for grouping: (8)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
ChatRoom.tsx:737 Total messages to process: 8
ChatRoom.tsx:742 Messages with replies: [{â€¦}]
ChatRoom.tsx:809 Grouped messages: [{â€¦}]
ChatRoom.tsx:810 Total date groups: 1
ChatRoom.tsx:812 Total messages in first group: 8
ChatRoom.tsx:1155 [Message Debug] Message ID: 197, replyToId: null, content: cek
ChatRoom.tsx:1155 [Message Debug] Message ID: 198, replyToId: null, content: gmn
ChatRoom.tsx:1155 [Message Debug] Message ID: 199, replyToId: null, content: coba
ChatRoom.tsx:1155 [Message Debug] Message ID: 200, replyToId: null, content: kok
ChatRoom.tsx:1155 [Message Debug] Message ID: 214, replyToId: null, content: Cek
ChatRoom.tsx:1155 [Message Debug] Message ID: 215, replyToId: null, content: Testttttt
ChatRoom.tsx:1155 [Message Debug] Message ID: 216, replyToId: null, content: 86
ChatRoom.tsx:1155 [Message Debug] Message ID: 217, replyToId: 216, content: cakep
ChatRoom.tsx:1183 [Reply Debug] Message 217 has replyToId: 216
ChatRoom.tsx:1184 [Reply Debug] All messages: (8)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
ChatRoom.tsx:1187 [Reply Debug] Found replied message: {id: 216, senderId: 7, senderName: 'Blackbox', content: '86', timestamp: '2025-06-05T12:27:36.691Z',Â â€¦}
IncomingCallModal.tsx:4 [IncomingCallModal] ðŸ”¥ COMPONENT RENDERED - START
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: null, hasIncomingCall: false}
IncomingCallModal.tsx:8 [IncomingCallModal] ðŸ”¥ After useCall hook - incomingCall: null
IncomingCallModal.tsx:9 [IncomingCallModal] ðŸ”¥ incomingCall type check: object
IncomingCallModal.tsx:10 [IncomingCallModal] ðŸ”¥ incomingCall falsy check: true
IncomingCallModal.tsx:13 [IncomingCallModal] No incoming call, returning null
CallContext.tsx:636 [CallContext] Received message: {type: 'user_status', payload: {â€¦}}
ChatRoom.tsx:959 Starting group video call for group: Ampera Grup
CallContext.tsx:2413 [CallContext] Starting group call: {groupId: 38, groupName: 'Ampera Grup', callType: 'video'}
CallContext.tsx:11 [CallContext] Mobile compatibility check: {isMobile: false, isHTTPS: true, userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebâ€¦KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36', hasMediaDevices: Æ’}
CallContext.tsx:2424 [CallContext] Mobile compatibility check for group call: {isMobile: false, isHTTPS: true, hasMediaDevices: Æ’}
CallContext.tsx:2447 [CallContext] Requesting media permissions for group call...
CallContext.tsx:2449 [CallContext] Got local media stream for group call
CallContext.tsx:2500 [CallContext] Group call invitation sent
CallContext.tsx:2656 [CallContext] ðŸ”¥ PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
ChatRoom.tsx:736 Processing message data for grouping: (8)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
ChatRoom.tsx:737 Total messages to process: 8
ChatRoom.tsx:742 Messages with replies: [{â€¦}]
ChatRoom.tsx:809 Grouped messages: [{â€¦}]
ChatRoom.tsx:810 Total date groups: 1
ChatRoom.tsx:812 Total messages in first group: 8
ChatRoom.tsx:1155 [Message Debug] Message ID: 197, replyToId: null, content: cek
ChatRoom.tsx:1155 [Message Debug] Message ID: 198, replyToId: null, content: gmn
ChatRoom.tsx:1155 [Message Debug] Message ID: 199, replyToId: null, content: coba
ChatRoom.tsx:1155 [Message Debug] Message ID: 200, replyToId: null, content: kok
ChatRoom.tsx:1155 [Message Debug] Message ID: 214, replyToId: null, content: Cek
ChatRoom.tsx:1155 [Message Debug] Message ID: 215, replyToId: null, content: Testttttt
ChatRoom.tsx:1155 [Message Debug] Message ID: 216, replyToId: null, content: 86
ChatRoom.tsx:1155 [Message Debug] Message ID: 217, replyToId: 216, content: cakep
ChatRoom.tsx:1183 [Reply Debug] Message 217 has replyToId: 216
ChatRoom.tsx:1184 [Reply Debug] All messages: (8)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
ChatRoom.tsx:1187 [Reply Debug] Found replied message: {id: 216, senderId: 7, senderName: 'Blackbox', content: '86', timestamp: '2025-06-05T12:27:36.691Z',Â â€¦}
IncomingCallModal.tsx:4 [IncomingCallModal] ðŸ”¥ COMPONENT RENDERED - START
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
IncomingCallModal.tsx:8 [IncomingCallModal] ðŸ”¥ After useCall hook - incomingCall: null
IncomingCallModal.tsx:9 [IncomingCallModal] ðŸ”¥ incomingCall type check: object
IncomingCallModal.tsx:10 [IncomingCallModal] ðŸ”¥ incomingCall falsy check: true
IncomingCallModal.tsx:13 [IncomingCallModal] No incoming call, returning null
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupVideoCall.tsx:136 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752078768572_38_5', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream,Â â€¦}
GroupVideoCall.tsx:137 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:138 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:139 [GroupVideoCall] localStream: null
GroupVideoCall.tsx:145 [GroupVideoCall] Getting local media stream...
GroupVideoCall.tsx:211 [GroupVideoCall] Participants effect triggered
GroupVideoCall.tsx:212 [GroupVideoCall] activeCall: {callId: 'group_call_1752078768572_38_5', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream,Â â€¦}
GroupVideoCall.tsx:213 [GroupVideoCall] activeCall?.participants: []
GroupVideoCall.tsx:214 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:220 [GroupVideoCall] Current participants string: 
GroupVideoCall.tsx:221 [GroupVideoCall] New participants string: []
GroupVideoCall.tsx:230 [GroupVideoCall] Processing participants from activeCall: []
GroupVideoCall.tsx:241 [GroupVideoCall] Other participants after filtering: []
GroupVideoCall.tsx:501 [GroupVideoCall] Stream state updated: {remoteStreams: Array(0), participants: Array(0)}
CallContext.tsx:2656 [CallContext] ðŸ”¥ PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
ChatRoom.tsx:736 Processing message data for grouping: (8)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
ChatRoom.tsx:737 Total messages to process: 8
ChatRoom.tsx:742 Messages with replies: [{â€¦}]
ChatRoom.tsx:809 Grouped messages: [{â€¦}]
ChatRoom.tsx:810 Total date groups: 1
ChatRoom.tsx:812 Total messages in first group: 8
ChatRoom.tsx:1155 [Message Debug] Message ID: 197, replyToId: null, content: cek
ChatRoom.tsx:1155 [Message Debug] Message ID: 198, replyToId: null, content: gmn
ChatRoom.tsx:1155 [Message Debug] Message ID: 199, replyToId: null, content: coba
ChatRoom.tsx:1155 [Message Debug] Message ID: 200, replyToId: null, content: kok
ChatRoom.tsx:1155 [Message Debug] Message ID: 214, replyToId: null, content: Cek
ChatRoom.tsx:1155 [Message Debug] Message ID: 215, replyToId: null, content: Testttttt
ChatRoom.tsx:1155 [Message Debug] Message ID: 216, replyToId: null, content: 86
ChatRoom.tsx:1155 [Message Debug] Message ID: 217, replyToId: 216, content: cakep
ChatRoom.tsx:1183 [Reply Debug] Message 217 has replyToId: 216
ChatRoom.tsx:1184 [Reply Debug] All messages: (8)Â [{â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}, {â€¦}]
ChatRoom.tsx:1187 [Reply Debug] Found replied message: {id: 216, senderId: 7, senderName: 'Blackbox', content: '86', timestamp: '2025-06-05T12:27:36.691Z',Â â€¦}
IncomingCallModal.tsx:4 [IncomingCallModal] ðŸ”¥ COMPONENT RENDERED - START
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
IncomingCallModal.tsx:8 [IncomingCallModal] ðŸ”¥ After useCall hook - incomingCall: null
IncomingCallModal.tsx:9 [IncomingCallModal] ðŸ”¥ incomingCall type check: object
IncomingCallModal.tsx:10 [IncomingCallModal] ðŸ”¥ incomingCall falsy check: true
IncomingCallModal.tsx:13 [IncomingCallModal] No incoming call, returning null
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupVideoCall.tsx:136 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752078768572_38_5', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream,Â â€¦}
GroupVideoCall.tsx:137 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:138 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:139 [GroupVideoCall] localStream: null
CallContext.tsx:2656 [CallContext] ðŸ”¥ PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupVideoCall.tsx:136 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752078768572_38_5', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream,Â â€¦}
GroupVideoCall.tsx:137 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:138 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:139 [GroupVideoCall] localStream: null
GroupVideoCall.tsx:180 [GroupVideoCall] Effect cleanup - activeCall changed but preserving streams
GroupVideoCall.tsx:187 [GroupVideoCall] Component unmounting - performing final cleanup
GroupVideoCall.tsx:815 [GroupVideoCall] Cleaning up media tracks
GroupVideoCall.tsx:857 [GroupVideoCall] All media cleanup completed
GroupVideoCall.tsx:145 [GroupVideoCall] Getting local media stream...
GroupVideoCall.tsx:211 [GroupVideoCall] Participants effect triggered
GroupVideoCall.tsx:212 [GroupVideoCall] activeCall: {callId: 'group_call_1752078768572_38_5', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream,Â â€¦}
GroupVideoCall.tsx:213 [GroupVideoCall] activeCall?.participants: []
GroupVideoCall.tsx:214 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:220 [GroupVideoCall] Current participants string: 
GroupVideoCall.tsx:221 [GroupVideoCall] New participants string: []
GroupVideoCall.tsx:230 [GroupVideoCall] Processing participants from activeCall: []
GroupVideoCall.tsx:241 [GroupVideoCall] Other participants after filtering: []
GroupVideoCall.tsx:501 [GroupVideoCall] Stream state updated: {remoteStreams: Array(0), participants: Array(0)}
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupVideoCall.tsx:262 [GroupVideoCall] Updated participants list: []
GroupVideoCall.tsx:136 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752078768572_38_5', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream,Â â€¦}
GroupVideoCall.tsx:137 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:138 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:139 [GroupVideoCall] localStream: null
GroupVideoCall.tsx:501 [GroupVideoCall] Stream state updated: {remoteStreams: Array(0), participants: Array(0)}
GroupVideoCall.tsx:151 [GroupVideoCall] Got local media stream: MediaStreamÂ {id: 'edbb8cf8-15eb-45c3-b9c5-571a73d69f6b', active: true, onaddtrack: null, onremovetrack: null, onactive: null,Â â€¦}
GroupVideoCall.tsx:152 [GroupVideoCall] Video tracks: 1
GroupVideoCall.tsx:153 [GroupVideoCall] Audio tracks: 1
GroupVideoCall.tsx:159 [GroupVideoCall] Video track enabled by default for group calls
GroupVideoCall.tsx:151 [GroupVideoCall] Got local media stream: MediaStreamÂ {id: '346ff774-a141-4345-8c9b-02f0e92b406b', active: true, onaddtrack: null, onremovetrack: null, onactive: null,Â â€¦}
GroupVideoCall.tsx:152 [GroupVideoCall] Video tracks: 1
GroupVideoCall.tsx:153 [GroupVideoCall] Audio tracks: 1
GroupVideoCall.tsx:159 [GroupVideoCall] Video track enabled by default for group calls
GroupVideoCall.tsx:167 [GroupVideoCall] Set local video source
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupVideoCall.tsx:136 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752078768572_38_5', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream,Â â€¦}
GroupVideoCall.tsx:137 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:138 [GroupVideoCall] isVideoEnabled: false
GroupVideoCall.tsx:139 [GroupVideoCall] localStream: MediaStreamÂ {id: '346ff774-a141-4345-8c9b-02f0e92b406b', active: true, onaddtrack: null, onremovetrack: null, onactive: null,Â â€¦}
GroupVideoCall.tsx:196 [GroupVideoCall] Local video stream attached to element
GroupVideoCall.tsx:202 [GroupVideoCall] Initial video state: true
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupVideoCall.tsx:136 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752078768572_38_5', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream,Â â€¦}
GroupVideoCall.tsx:137 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:138 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:139 [GroupVideoCall] localStream: MediaStreamÂ {id: '346ff774-a141-4345-8c9b-02f0e92b406b', active: true, onaddtrack: null, onremovetrack: null, onactive: null,Â â€¦}
CallContext.tsx:2656 [CallContext] ðŸ”¥ PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupVideoCall.tsx:136 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752078768572_38_5', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream,Â â€¦}
GroupVideoCall.tsx:137 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:138 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:139 [GroupVideoCall] localStream: MediaStreamÂ {id: '346ff774-a141-4345-8c9b-02f0e92b406b', active: true, onaddtrack: null, onremovetrack: null, onactive: null,Â â€¦}
CallContext.tsx:596 [CallContext] Creating stable WebSocket for calls...
CallContext.tsx:731 [CallContext] WebSocket disconnected
CallContext.tsx:2656 [CallContext] ðŸ”¥ PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupVideoCall.tsx:136 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752078768572_38_5', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream,Â â€¦}
GroupVideoCall.tsx:137 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:138 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:139 [GroupVideoCall] localStream: MediaStreamÂ {id: '346ff774-a141-4345-8c9b-02f0e92b406b', active: true, onaddtrack: null, onremovetrack: null, onactive: null,Â â€¦}
CallContext.tsx:603 [CallContext] WebSocket connected successfully for calls
CallContext.tsx:617 [CallContext] Authenticated user 5 with WebSocket
CallContext.tsx:2656 [CallContext] ðŸ”¥ PROVIDER VALUE UPDATE: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false, incomingCallId: undefined}
useCall.ts:12 [useCall] ðŸ”¥ Context value: {incomingCall: null, activeCall: {â€¦}, hasIncomingCall: false}
GroupVideoCall.tsx:136 [GroupVideoCall] Component rendering with activeCall: {callId: 'group_call_1752078768572_38_5', callType: 'video', status: 'calling', isIncoming: false, localStream: MediaStream,Â â€¦}
GroupVideoCall.tsx:137 [GroupVideoCall] user?.id: 5
GroupVideoCall.tsx:138 [GroupVideoCall] isVideoEnabled: true
GroupVideoCall.tsx:139 [GroupVideoCall] localStream: MediaStreamÂ {id: '346ff774-a141-4345-8c9b-02f0e92b406b', active: true, onaddtrack: null, onremovetrack: null, onactive: null,Â â€¦}
CallContext.tsx:636 [CallContext] Received message: {type: 'user_status', payload: {â€¦}}
sw.js:193 [SW] Message received: {type: 'KEEP_ALIVE'}