# VComm Coturn Server Configuration

# Listening port for TURN server
listening-port=3478

# TLS listening port (optional, for secure connections)
tls-listening-port=5349

# Listening IP (0.0.0.0 means all interfaces)
listening-ip=0.0.0.0

# External IP address (will be your server's public/local IP)
# This should be set to your actual IP address
external-ip=192.168.100.173

# Relay IP address
relay-ip=192.168.100.173

# TURN server realm (used for authentication)
realm=vcomm

# User credentials for TURN server
# Format: username:password
user=test:test123

# Enable long-term credential mechanism
lt-cred-mech

# Disable short-term credential mechanism
# no-stun

# Enable STUN functionality
# STUN is required for WebRTC NAT traversal

# Logging
verbose
log-file=/var/log/turnserver/turnserver.log

# Security options
# Deny access to private IP ranges (RFC 1918) for relaying
denied-peer-ip=10.0.0.0-10.255.255.255
denied-peer-ip=172.16.0.0-172.31.255.255
denied-peer-ip=192.168.0.0-192.168.255.255

# Allow loopback for testing
# no-loopback-peers

# Allow connections from any source
no-multicast-peers

# Limit the number of sessions per user
user-quota=12
total-quota=1200

# Max bandwidth per TURN session (in KB/s)
max-bps=1000000

# Certificate files for TLS (optional)
# cert=/etc/coturn/certs/turn_server_cert.pem
# pkey=/etc/coturn/certs/turn_server_pkey.pem

# Process management
pidfile=/var/run/turnserver.pid

# Run as daemon
# no-cli

# Fingerprint in TURN messages
fingerprint

# Enable mobility support
mobility

# Use SQLite database for user management (optional)
# userdb=/var/lib/turn/turndb

# UDP relay endpoints
min-port=49152
max-port=65535

# Support for both TCP and UDP
# no-tcp
# no-udp
